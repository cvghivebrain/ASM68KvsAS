<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="Author" content="automatically generated by tex2html from doc_EN/as.tex">
<meta name="Last-modified" content="Wed Feb  2 23:09:08 2022">
<title>User's Manual for Macro Assembler AS</title>
</head>
<body style="overflow: auto;" class="vsc-initialized">
<p>
</p><p>





















</p><p>
</p><p>
</p><div align="LEFT">
<big> Alfred Arnold, Stefan Hilse, Stephan Kanthak, Oliver Sellke,
Vittorio De Tomasi</big>



<p>
<big><big> Macro Assembler AS V1.42</big></big><br>
</p><hr width="62%" align="LEFT"><br>
<p>
<big><big> User's Manual</big></big>



</p><p>
<big> Edition Januar 2022</big>
</p></div>
<p>
</p><p>















</p><p>
<em> IBM, PPC403Gx, OS/2, and PowerPC</em> are registered trademarks
of IBM Corporation.
</p><p>
<em> Intel, MCS-48, MCS-51, MCS-251, MCS-96, MCS-196 und MCS-296</em>
are registered trademarks of Intel Corp. .
</p><p>
<em> Motorola and ColdFire</em> are registered trademarks of Motorola
Inc. .
</p><p>
<em> MagniV</em> is a registered trademark of Freescale
Semiconductor.
</p><p>
<em> PicoBlaze</em> is a registered trademark of Xilinx Inc.
</p><p>
<em> UNIX</em> is a registered trademark of the The Open Group.
</p><p>
<em> Linux</em> is a registered trademark of Linus Thorvalds.
</p><p>
<em> Microsoft, Windows, and MS-DOS</em> are registered trademarks of
Microsoft Corporation.
</p><p>
All other trademarks not explicitly mentioned in this section and
used in this manual are properties of their respective owners.
</p><p>















</p><p>
This document has been processed with the LaTeX typesetting system,
using the Linux operating system.
</p><p>
</p><p>
</p><p>
</p><h1>Contents</h1><p>
</p><p></p><h2><a href="#sect_1_">1. Introduction</a></h2>
<p></p><h3><a href="#sect_1_1_">1.1. License Agreement</a></h3>
<p></p><h3><a href="#sect_1_2_">1.2. General Capabilities of the Assembler</a></h3>
<p></p><h3><a href="#sect_1_3_">1.3. Supported Platforms</a></h3>
<p></p><h2><a href="#sect_2_">2. Assembler Usage</a></h2>
<p></p><h3><a href="#sect_2_1_">2.1. Hardware Requirements</a></h3>
<p></p><h3><a href="#sect_2_2_">2.2. Delivery</a></h3>
<p></p><h3><a href="#sect_2_3_">2.3. Installation</a></h3>
<p></p><h3><a href="#sect_2_4_">2.4. Start-Up Command, Parameters</a></h3>
<p></p><h3><a href="#sect_2_5_">2.5. Format of the Input Files</a></h3>
<p></p><h3><a href="#sect_2_6_">2.6. Format of the Listing</a></h3>
<p></p><h3><a href="#sect_2_7_">2.7. Symbol Conventions</a></h3>
<p></p><h3><a href="#sect_2_8_">2.8. Temporary Symbols</a></h3>
<p></p><h3><a href="#sect_2_9_">2.9. Named Temporary Symbols</a></h3>
<p></p><h4><a href="#sect_2_9_1_">2.9.1. Nameless Temporary Symbols</a></h4>
<p></p><h4><a href="#sect_2_9_2_">2.9.2. Composed Temporary Symbols</a></h4>
<p></p><h3><a href="#sect_2_10_">2.10. Formula Expressions</a></h3>
<p></p><h4><a href="#sect_2_10_1_">2.10.1. Integer Constants</a></h4>
<p></p><h4><a href="#sect_2_10_2_">2.10.2. Floating Point Constants</a></h4>
<p></p><h4><a href="#sect_2_10_3_">2.10.3. String Constants</a></h4>
<p></p><h4><a href="#sect_2_10_4_">2.10.4. String to Integer Conversion and Character Constants</a></h4>
<p></p><h4><a href="#sect_2_10_5_">2.10.5. Evaluation</a></h4>
<p></p><h4><a href="#sect_2_10_6_">2.10.6. Operators</a></h4>
<p></p><h4><a href="#sect_2_10_7_">2.10.7. Functions</a></h4>
<p></p><h3><a href="#sect_2_11_">2.11. Forward References and Other Disasters</a></h3>
<p></p><h3><a href="#sect_2_12_">2.12. Register Symbols</a></h3>
<p></p><h3><a href="#sect_2_13_">2.13. Share File</a></h3>
<p></p><h3><a href="#sect_2_14_">2.14. Processor Aliases</a></h3>
<p></p><h2><a href="#sect_3_">3. Pseudo Instructions</a></h2>
<p></p><h3><a href="#sect_3_1_">3.1. Definitions</a></h3>
<p></p><h4><a href="#sect_3_1_1_">3.1.1. SET, EQU, and CONSTANT</a></h4>
<p></p><h4><a href="#sect_3_1_2_">3.1.2. SFR and SFRB</a></h4>
<p></p><h4><a href="#sect_3_1_3_">3.1.3. XSFR and YSFR</a></h4>
<p></p><h4><a href="#sect_3_1_4_">3.1.4. LABEL</a></h4>
<p></p><h4><a href="#sect_3_1_5_">3.1.5. BIT</a></h4>
<p></p><h4><a href="#sect_3_1_6_">3.1.6. DBIT</a></h4>
<p></p><h4><a href="#sect_3_1_7_">3.1.7. DEFBIT and DEFBITB</a></h4>
<p></p><h4><a href="#sect_3_1_8_">3.1.8. DEFBITFIELD</a></h4>
<p></p><h4><a href="#sect_3_1_9_">3.1.9. PORT</a></h4>
<p></p><h4><a href="#sect_3_1_10_">3.1.10. REG and NAMEREG</a></h4>
<p></p><h4><a href="#sect_3_1_11_">3.1.11. LIV and RIV</a></h4>
<p></p><h4><a href="#sect_3_1_12_">3.1.12. CHARSET</a></h4>
<p></p><h4><a href="#sect_3_1_13_">3.1.13. CODEPAGE</a></h4>
<p></p><h4><a href="#sect_3_1_14_">3.1.14. ENUM, NEXTENUM, and ENUMCONF</a></h4>
<p></p><h4><a href="#sect_3_1_15_">3.1.15. PUSHV and POPV</a></h4>
<p></p><h3><a href="#sect_3_2_">3.2. Code Modification</a></h3>
<p></p><h4><a href="#sect_3_2_1_">3.2.1. ORG</a></h4>
<p></p><h4><a href="#sect_3_2_2_">3.2.2. RORG</a></h4>
<p></p><h4><a href="#sect_3_2_3_">3.2.3. CPU</a></h4>
<p></p><h4><a href="#sect_3_2_4_">3.2.4. SUPMODE, FPU, PMMU, CUSTOM</a></h4>
<p></p><h4><a href="#sect_3_2_5_">3.2.5. FULLPMMU</a></h4>
<p></p><h4><a href="#sect_3_2_6_">3.2.6. PADDING</a></h4>
<p></p><h4><a href="#sect_3_2_7_">3.2.7. PACKING</a></h4>
<p></p><h4><a href="#sect_3_2_8_">3.2.8. MAXMODE</a></h4>
<p></p><h4><a href="#sect_3_2_9_">3.2.9. EXTMODE and LWORDMODE</a></h4>
<p></p><h4><a href="#sect_3_2_10_">3.2.10. SRCMODE</a></h4>
<p></p><h4><a href="#sect_3_2_11_">3.2.11. BIGENDIAN</a></h4>
<p></p><h4><a href="#sect_3_2_12_">3.2.12. WRAPMODE</a></h4>
<p></p><h4><a href="#sect_3_2_13_">3.2.13. SEGMENT</a></h4>
<p></p><h4><a href="#sect_3_2_14_">3.2.14. PHASE and DEPHASE</a></h4>
<p></p><h4><a href="#sect_3_2_15_">3.2.15. SAVE and RESTORE</a></h4>
<p></p><h4><a href="#sect_3_2_16_">3.2.16. ASSUME</a></h4>
<p></p><h4><a href="#sect_3_2_17_">3.2.17. CKPT</a></h4>
<p></p><h4><a href="#sect_3_2_18_">3.2.18. EMULATED</a></h4>
<p></p><h4><a href="#sect_3_2_19_">3.2.19. BRANCHEXT</a></h4>
<p></p><h4><a href="#sect_3_2_20_">3.2.20. Z80SYNTAX</a></h4>
<p></p><h4><a href="#sect_3_2_21_">3.2.21. EXPECT and ENDEXPECT</a></h4>
<p></p><h3><a href="#sect_3_3_">3.3. Data Definitions</a></h3>
<p></p><h4><a href="#sect_3_3_1_">3.3.1. DC[.Size]</a></h4>
<p></p><h4><a href="#sect_3_3_2_">3.3.2. DS[.Size]</a></h4>
<p></p><h4><a href="#sect_3_3_3_">3.3.3. DN,DB,DW,DD,DQ, and DT</a></h4>
<p></p><h4><a href="#sect_3_3_4_">3.3.4. DS, DS8</a></h4>
<p></p><h4><a href="#sect_3_3_5_">3.3.5. BYT or FCB</a></h4>
<p></p><h4><a href="#sect_3_3_6_">3.3.6. BYTE</a></h4>
<p></p><h4><a href="#sect_3_3_7_">3.3.7. DC8</a></h4>
<p></p><h4><a href="#sect_3_3_8_">3.3.8. ADR or FDB</a></h4>
<p></p><h4><a href="#sect_3_3_9_">3.3.9. WORD</a></h4>
<p></p><h4><a href="#sect_3_3_10_">3.3.10. DW16</a></h4>
<p></p><h4><a href="#sect_3_3_11_">3.3.11. LONG</a></h4>
<p></p><h4><a href="#sect_3_3_12_">3.3.12. SINGLE, DOUBLE, and EXTENDED</a></h4>
<p></p><h4><a href="#sect_3_3_13_">3.3.13. FLOAT and DOUBLE</a></h4>
<p></p><h4><a href="#sect_3_3_14_">3.3.14. SINGLE and DOUBLE</a></h4>
<p></p><h4><a href="#sect_3_3_15_">3.3.15. EFLOAT, BFLOAT, and TFLOAT</a></h4>
<p></p><h4><a href="#sect_3_3_16_">3.3.16. Qxx and LQxx</a></h4>
<p></p><h4><a href="#sect_3_3_17_">3.3.17. DATA</a></h4>
<p></p><h4><a href="#sect_3_3_18_">3.3.18. ZERO, CP-1600</a></h4>
<p></p><h4><a href="#sect_3_3_19_">3.3.19. FB and FW</a></h4>
<p></p><h4><a href="#sect_3_3_20_">3.3.20. ASCII and ASCIZ</a></h4>
<p></p><h4><a href="#sect_3_3_21_">3.3.21. STRING and RSTRING</a></h4>
<p></p><h4><a href="#sect_3_3_22_">3.3.22. FCC</a></h4>
<p></p><h4><a href="#sect_3_3_23_">3.3.23. TEXT</a></h4>
<p></p><h4><a href="#sect_3_3_24_">3.3.24. DFS or RMB</a></h4>
<p></p><h4><a href="#sect_3_3_25_">3.3.25. BLOCK</a></h4>
<p></p><h4><a href="#sect_3_3_26_">3.3.26. SPACE</a></h4>
<p></p><h4><a href="#sect_3_3_27_">3.3.27. RES</a></h4>
<p></p><h4><a href="#sect_3_3_28_">3.3.28. BSS</a></h4>
<p></p><h4><a href="#sect_3_3_29_">3.3.29. DSB and DSW</a></h4>
<p></p><h4><a href="#sect_3_3_30_">3.3.30. DS16</a></h4>
<p></p><h4><a href="#sect_3_3_31_">3.3.31. ALIGN</a></h4>
<p></p><h4><a href="#sect_3_3_32_">3.3.32. LTORG</a></h4>
<p></p><h3><a href="#sect_3_4_">3.4. Macro Instructions</a></h3>
<p></p><h4><a href="#sect_3_4_1_">3.4.1. MACRO</a></h4>
<p></p><h4><a href="#sect_3_4_2_">3.4.2. IRP</a></h4>
<p></p><h4><a href="#sect_3_4_3_">3.4.3. IRPC</a></h4>
<p></p><h4><a href="#sect_3_4_4_">3.4.4. REPT</a></h4>
<p></p><h4><a href="#sect_3_4_5_">3.4.5. WHILE</a></h4>
<p></p><h4><a href="#sect_3_4_6_">3.4.6. EXITM</a></h4>
<p></p><h4><a href="#sect_3_4_7_">3.4.7. SHIFT</a></h4>
<p></p><h4><a href="#sect_3_4_8_">3.4.8. MAXNEST</a></h4>
<p></p><h4><a href="#sect_3_4_9_">3.4.9. FUNCTION</a></h4>
<p></p><h3><a href="#sect_3_5_">3.5. Structures</a></h3>
<p></p><h4><a href="#sect_3_5_1_">3.5.1. Definition</a></h4>
<p></p><h4><a href="#sect_3_5_2_">3.5.2. Usage</a></h4>
<p></p><h4><a href="#sect_3_5_3_">3.5.3. Nested Structures</a></h4>
<p></p><h4><a href="#sect_3_5_4_">3.5.4. Unions</a></h4>
<p></p><h4><a href="#sect_3_5_5_">3.5.5. Nameless Structures</a></h4>
<p></p><h4><a href="#sect_3_5_6_">3.5.6. Structures and Sections</a></h4>
<p></p><h4><a href="#sect_3_5_7_">3.5.7. Structures and Macros</a></h4>
<p></p><h3><a href="#sect_3_6_">3.6. Conditional Assembly</a></h3>
<p></p><h4><a href="#sect_3_6_1_">3.6.1. IF / ELSEIF / ENDIF</a></h4>
<p></p><h4><a href="#sect_3_6_2_">3.6.2. SWITCH / CASE / ELSECASE / ENDCASE</a></h4>
<p></p><h3><a href="#sect_3_7_">3.7. Listing Control</a></h3>
<p></p><h4><a href="#sect_3_7_1_">3.7.1. PAGE</a></h4>
<p></p><h4><a href="#sect_3_7_2_">3.7.2. NEWPAGE</a></h4>
<p></p><h4><a href="#sect_3_7_3_">3.7.3. MACEXP_DFT and MACEXP_OVR</a></h4>
<p></p><h4><a href="#sect_3_7_4_">3.7.4. LISTING</a></h4>
<p></p><h4><a href="#sect_3_7_5_">3.7.5. PRTINIT and PRTEXIT</a></h4>
<p></p><h4><a href="#sect_3_7_6_">3.7.6. TITLE</a></h4>
<p></p><h4><a href="#sect_3_7_7_">3.7.7. RADIX</a></h4>
<p></p><h4><a href="#sect_3_7_8_">3.7.8. OUTRADIX</a></h4>
<p></p><h3><a href="#sect_3_8_">3.8. Local Symbols</a></h3>
<p></p><h4><a href="#sect_3_8_1_">3.8.1. Basic Definition (SECTION/ENDSECTION)</a></h4>
<p></p><h4><a href="#sect_3_8_2_">3.8.2. Nesting and Scope Rules</a></h4>
<p></p><h4><a href="#sect_3_8_3_">3.8.3. PUBLIC and GLOBAL</a></h4>
<p></p><h4><a href="#sect_3_8_4_">3.8.4. FORWARD</a></h4>
<p></p><h4><a href="#sect_3_8_5_">3.8.5. Performance Aspects</a></h4>
<p></p><h3><a href="#sect_3_9_">3.9. Miscellaneous</a></h3>
<p></p><h4><a href="#sect_3_9_1_">3.9.1. SHARED</a></h4>
<p></p><h4><a href="#sect_3_9_2_">3.9.2. INCLUDE</a></h4>
<p></p><h4><a href="#sect_3_9_3_">3.9.3. BINCLUDE</a></h4>
<p></p><h4><a href="#sect_3_9_4_">3.9.4. MESSAGE, WARNING, ERROR, and FATAL</a></h4>
<p></p><h4><a href="#sect_3_9_5_">3.9.5. READ</a></h4>
<p></p><h4><a href="#sect_3_9_6_">3.9.6. INTSYNTAX</a></h4>
<p></p><h4><a href="#sect_3_9_7_">3.9.7. RELAXED</a></h4>
<p></p><h4><a href="#sect_3_9_8_">3.9.8. COMPMODE</a></h4>
<p></p><h4><a href="#sect_3_9_9_">3.9.9. END</a></h4>
<p></p><h2><a href="#sect_4_">4. Processor-specific Hints</a></h2>
<p></p><h3><a href="#sect_4_1_">4.1. 6811</a></h3>
<p></p><h3><a href="#sect_4_2_">4.2. PowerPC</a></h3>
<p></p><h3><a href="#sect_4_3_">4.3. DSP56xxx</a></h3>
<p></p><h3><a href="#sect_4_4_">4.4. H8/300</a></h3>
<p></p><h3><a href="#sect_4_5_">4.5. H8/500</a></h3>
<p></p><h3><a href="#sect_4_6_">4.6. SH7000/7600/7700</a></h3>
<p></p><h3><a href="#sect_4_7_">4.7. HMCS400</a></h3>
<p></p><h3><a href="#sect_4_8_">4.8. H16</a></h3>
<p></p><h3><a href="#sect_4_9_">4.9. OLMS-40</a></h3>
<p></p><h3><a href="#sect_4_10_">4.10. OLMS-50</a></h3>
<p></p><h3><a href="#sect_4_11_">4.11. MELPS-4500</a></h3>
<p></p><h3><a href="#sect_4_12_">4.12. 6502UNDOC</a></h3>
<p></p><h3><a href="#sect_4_13_">4.13. MELPS-740</a></h3>
<p></p><h3><a href="#sect_4_14_">4.14. MELPS-7700/65816</a></h3>
<p></p><h3><a href="#sect_4_15_">4.15. M16</a></h3>
<p></p><h3><a href="#sect_4_16_">4.16. 4004/4040</a></h3>
<p></p><h3><a href="#sect_4_17_">4.17. MCS-48</a></h3>
<p></p><h3><a href="#sect_4_18_">4.18. MCS-51</a></h3>
<p></p><h3><a href="#sect_4_19_">4.19. MCS-251</a></h3>
<p></p><h3><a href="#sect_4_20_">4.20. 8080/8085</a></h3>
<p></p><h3><a href="#sect_4_21_">4.21. 8085UNDOC</a></h3>
<p></p><h3><a href="#sect_4_22_">4.22. 8086..V35</a></h3>
<p></p><h3><a href="#sect_4_23_">4.23. 8X30x</a></h3>
<p></p><h3><a href="#sect_4_24_">4.24. XA</a></h3>
<p></p><h3><a href="#sect_4_25_">4.25. AVR</a></h3>
<p></p><h3><a href="#sect_4_26_">4.26. Z80UNDOC</a></h3>
<p></p><h3><a href="#sect_4_27_">4.27. GB_Z80 resp. LR35902</a></h3>
<p></p><h3><a href="#sect_4_28_">4.28. Z380</a></h3>
<p></p><h3><a href="#sect_4_29_">4.29. Z8, Super8, and eZ8</a></h3>
<p></p><h3><a href="#sect_4_30_">4.30. Z8000</a></h3>
<p></p><h4><a href="#sect_4_30_1_">4.30.1. Conditions</a></h4>
<p></p><h4><a href="#sect_4_30_2_">4.30.2. Conditions</a></h4>
<p></p><h4><a href="#sect_4_30_3_">4.30.3. Indirect Addressing</a></h4>
<p></p><h4><a href="#sect_4_30_4_">4.30.4. Direct versus Immediate Addressing</a></h4>
<p></p><h3><a href="#sect_4_31_">4.31. TLCS-900(L)</a></h3>
<p></p><h3><a href="#sect_4_32_">4.32. TLCS-90</a></h3>
<p></p><h3><a href="#sect_4_33_">4.33. TLCS-870</a></h3>
<p></p><h3><a href="#sect_4_34_">4.34. TLCS-47</a></h3>
<p></p><h3><a href="#sect_4_35_">4.35. TLCS-9000</a></h3>
<p></p><h3><a href="#sect_4_36_">4.36. TC9331</a></h3>
<p></p><h3><a href="#sect_4_37_">4.37. 29xxx</a></h3>
<p></p><h3><a href="#sect_4_38_">4.38. 80C16x</a></h3>
<p></p><h3><a href="#sect_4_39_">4.39. PIC16C5x/16C8x</a></h3>
<p></p><h3><a href="#sect_4_40_">4.40. PIC 17C4x</a></h3>
<p></p><h3><a href="#sect_4_41_">4.41. SX20/28</a></h3>
<p></p><h3><a href="#sect_4_42_">4.42. ST6</a></h3>
<p></p><h3><a href="#sect_4_43_">4.43. ST7</a></h3>
<p></p><h3><a href="#sect_4_44_">4.44. ST9</a></h3>
<p></p><h3><a href="#sect_4_45_">4.45. 6804</a></h3>
<p></p><h3><a href="#sect_4_46_">4.46. TMS3201x</a></h3>
<p></p><h3><a href="#sect_4_47_">4.47. TMS320C2x</a></h3>
<p></p><h3><a href="#sect_4_48_">4.48. TMS320C3x/C4x</a></h3>
<p></p><h3><a href="#sect_4_49_">4.49. TMS9900</a></h3>
<p></p><h3><a href="#sect_4_50_">4.50. TMS70Cxx</a></h3>
<p></p><h3><a href="#sect_4_51_">4.51. TMS370xxx</a></h3>
<p></p><h3><a href="#sect_4_52_">4.52. MSP430(X)</a></h3>
<p></p><h3><a href="#sect_4_53_">4.53. TMS1000</a></h3>
<p></p><h3><a href="#sect_4_54_">4.54. COP8 &amp; SC/MP</a></h3>
<p></p><h3><a href="#sect_4_55_">4.55. SC144xxx</a></h3>
<p></p><h3><a href="#sect_4_56_">4.56. NS32xxx</a></h3>
<p></p><h3><a href="#sect_4_57_">4.57. uPD78(C)1x</a></h3>
<p></p><h3><a href="#sect_4_58_">4.58. 75K0</a></h3>
<p></p><h3><a href="#sect_4_59_">4.59. 78K0</a></h3>
<p></p><h3><a href="#sect_4_60_">4.60. 78K2/78K3/78K4</a></h3>
<p></p><h3><a href="#sect_4_61_">4.61. uPD772x</a></h3>
<p></p><h3><a href="#sect_4_62_">4.62. F2MC16L</a></h3>
<p></p><h3><a href="#sect_4_63_">4.63. MN161x</a></h3>
<p></p><h3><a href="#sect_4_64_">4.64. CDP180x</a></h3>
<p></p><h3><a href="#sect_4_65_">4.65. KENBAK</a></h3>
<p></p><h2><a href="#sect_5_">5. File Formats</a></h2>
<p></p><h3><a href="#sect_5_1_">5.1. Code Files</a></h3>
<p></p><h3><a href="#sect_5_2_">5.2. Debug Files</a></h3>
<p></p><h2><a href="#sect_6_">6. Utility Programs</a></h2>
<p></p><h3><a href="#sect_6_1_">6.1. PLIST</a></h3>
<p></p><h3><a href="#sect_6_2_">6.2. BIND</a></h3>
<p></p><h3><a href="#sect_6_3_">6.3. P2HEX</a></h3>
<p></p><h3><a href="#sect_6_4_">6.4. P2BIN</a></h3>
<p></p><h3><a href="#sect_6_5_">6.5. AS2MSG</a></h3>
<p></p><h2><a href="#sect_A_">A. Error Messages of AS</a></h2>
<p></p><h2><a href="#sect_B_">B. I/O Error Messages</a></h2>
<p></p><h2><a href="#sect_C_">C. Frequently Asked Questions</a></h2>
<p></p><h2><a href="#sect_D_">D. Pseudo-Instructions and Integer Syntax</a></h2>
<p></p><h2><a href="#sect_E_">E. Predefined Symbols</a></h2>
<p></p><h2><a href="#sect_F_">F. Shipped Include Files</a></h2>
<p></p><h3><a href="#sect_F_1_">F.1. BITFUNCS.INC</a></h3>
<p></p><h3><a href="#sect_F_2_">F.2. CTYPE.INC</a></h3>
<p></p><h2><a href="#sect_G_">G. Acknowledgments</a></h2>
<p></p><h2><a href="#sect_H_">H. Changes since Version 1.3</a></h2>
<p></p><h2><a href="#sect_I_">I. Hints for the AS Source Code</a></h2>
<p></p><h3><a href="#sect_I_1_">I.1. Language Preliminaries</a></h3>
<p></p><h3><a href="#sect_I_2_">I.2. Capsuling System dependencies</a></h3>
<p></p><h3><a href="#sect_I_3_">I.3. System-Independent Files</a></h3>
<p></p><h4><a href="#sect_I_3_1_">I.3.1. Modules Used by AS</a></h4>
<p></p><h4><a href="#sect_I_3_2_">I.3.2. Additional Modules for the Tools</a></h4>
<p></p><h3><a href="#sect_I_4_">I.4. Modules Needed During the Build of AS</a></h3>
<p></p><h3><a href="#sect_I_5_">I.5. Generation of Message Files</a></h3>
<p></p><h4><a href="#sect_I_5_1_">I.5.1. Format of the Source Files</a></h4>
<p></p><h3><a href="#sect_I_6_">I.6. Creation of Documentation</a></h3>
<p></p><h3><a href="#sect_I_7_">I.7. Test Suite</a></h3>
<p></p><h3><a href="#sect_I_8_">I.8. Adding a New Target Processor</a></h3>
<p></p><h3><a href="#sect_I_9_">I.9. Localization to a New Language</a></h3>
<p></p><h1><a href="#sect_bib">Bibliography
</a></h1>
<p></p><h1><a href="#sect_index">Index
</a></h1>
<p>

</p><h1><a name="sect_1_">1. Introduction</a></h1>
<p>
This instruction is meant for programmers who are already very
familiar with Assembler and who like to know how to work with AS. It
is rather a reference than a user's manual and so it neither tries to
explain the ''language assembler'' nor the processors. I have listed
further literature in the bibliography which was substantial in the
implementation of the different code generators. There is no book I
know where you can learn Assembler from the start, so I generally
learned this by ''trial and error''.
</p><p>

</p><h2><a name="sect_1_1_">1.1. License Agreement</a></h2>
<a name="ref_SectLicense"></a>
<p>
Before we can go ''in medias res'', first of all the inevitable
prologue:
</p><p>
As in the present version is licensed according to the Gnu General
Public License (GPL); the details of the GPL may be read in the file
COPYING bundled with this distribution. If you did not get it with
AS, complain to the one you got AS from!
</p><p>
Shortly said, the GPL covers the following points:
</p><ul>
<li> Programs based upon AS must also be licensed according to the
    GPL;</li>
<li> distribution is explicitly allowed;</li>
<li> explicit disclaiming of all warranties for damages resulting from
    usage of this program.</li>
</ul>
...however, I really urge you to read the file COPYING for the
details!
<p>
To accelerate the error diagnose and correction, please add the
following details to the bug report:
</p><ul>
<li> Operating system (DOS, Windows, Linuc) and its version</li>
<li> Version of AS used, resp. dates of the<tt> EXE</tt>-files</li>
<li> If you compiled the assembler yourself, the compiler used and its
    version</li>
<li> If possible, the source file that triggered the bug</li>
</ul>
You can contact me as follows:
<ul>
<li> by Surface Mail:
<dl compact="compact">
<dd>        Alfred Arnold</dd>
<dd>        Hirschgraben 29</dd>
<dd>        D-52062 Aachen</dd>
<dd>        Germany</dd>
</dl>
 </li>
<li> by E-Mail:<tt> alfred@ccac.rwth-aachen.de</tt></li>
</ul>
If someone likes to meet me personally to ask questions and lives
near Aachen (= Aix-la-Chapelle), you will be able to meet me there.
You can do this most probably on thursdays from 8pm to 9pm at the
RWTH Aachen Computer Club (Elisabethstrasse 16, first floor, corridor
on the right).
<p>
Please don't call me by phone. First, complex relations are extremely
hard to discuss at phone. Secondly, the telephone companies are
already rich enough...
</p><p>
The latest version of AS (DPMI, Win32, C) is available from the
following Server:
</p><pre>
 http://john.ccac.rwth-aachen.de:8000/as

</pre>
or shortly
<pre>
 http://www.alfsembler.de

</pre>
<p>
Whoever has no access to an FTP-Server can ask me to send the
assembler by mail. Only requests containing a blank CD-R and a
self-addressed, (correctly) stamped envelope will be answered. Don't
send any money!
</p><p>
Now, after this inevitable introduction we can turn to the actual
documentation:
</p><p>

</p><h2><a name="sect_1_2_">1.2. General Capabilities of the Assembler</a></h2>
<p>
In contrast to ordinary assemblers, AS offers the possibility to
generate code for totally different processors. At the moment, the
following processor families have been implemented:
</p><ul>
<li> Motorola 68000..68040,, 683xx, and Coldfire incl. coprocessor and
    MMU</li>
<li> Motorola ColdFire</li>
<li> Motorola DSP5600x,DSP56300</li>
<li> Motorola M-Core</li>
<li> Motorola/IBM MPC601/MPC505/PPC403/MPC821</li>
<li> Motorola 6800, 6801, 68(HC)11(K4) and Hitachi 6301</li>
<li> Motorola/Freescale 6805, 68HC(S)08</li>
<li> Motorola 6809 / Hitachi 6309</li>
<li> Motorola/Freescale 68HC12(X) including XGATE</li>
<li> Freescale/NXP S12Z (''MagniV'')</li>
<li> Motorola 68HC16</li>
<li> Freescale 68RS08</li>
<li> Hitachi H8/300(H)</li>
<li> Hitachi H8/500</li>
<li> Hitachi SH7000/7600/7700</li>
<li> Hitachi HMCS400</li>
<li> Hitachi H16</li>
<li> Rockwell 6502, 65(S)C02, Commodore 65CE02, WDC W65C02S, Rockwell
    65C19, and Hudson HuC6280</li>
<li> CMD 65816</li>
<li> Mitsubishi MELPS-740</li>
<li> Mitsubishi MELPS-7700</li>
<li> Mitsubishi MELPS-4500</li>
<li> Mitsubishi M16</li>
<li> Mitsubishi M16C</li>
<li> Intel 4004/4040</li>
<li> Intel MCS-48/41, including Siemens SAB80C382, and the OKI
    variants</li>
<li> Intel MCS-51/251, Dallas DS80C390</li>
<li> Intel MCS-96/196(Nx)/296</li>
<li> Intel 8080/8085</li>
<li> Intel i960</li>
<li> Signetics 8X30x</li>
<li> Signetics 2650</li>
<li> Philips XA</li>
<li> Atmel (Mega-)AVR</li>
<li> AMD 29K</li>
<li> Siemens 80C166/167</li>
<li> Zilog Z80 (including undocumented instructions), Z180, Z380</li>
<li> Sharp LR35902 (,,Gameboy Z80'')</li>
<li> Zilog Z8, Super8, Z8 Encore</li>
<li> Zilog Z8000</li>
<li> Xilinx KCPSM/KCPSM3 ('PicoBlaze')</li>
<li> LatticeMico8</li>
<li> Toshiba TLCS-900(L)</li>
<li> Toshiba TLCS-90</li>
<li> Toshiba TLCS-870(/C)</li>
<li> Toshiba TLCS-47</li>
<li> Toshiba TLCS-9000</li>
<li> Toshiba TC9331</li>
<li> Microchip PIC16C54..16C57</li>
<li> Microchip PIC16C84/PIC16C64</li>
<li> Microchip PIC17C42</li>
<li> Parallax SX20/28</li>
<li> SGS-Thomson ST6</li>
<li> SGS-Thomson ST7/STM8</li>
<li> SGS-Thomson ST9</li>
<li> SGS-Thomson 6804</li>
<li> Texas Instruments TMS32010/32015</li>
<li> Texas Instruments TMS3202x</li>
<li> Texas Instruments TMS320C3x/TMS320C4x</li>
<li> Texas Instruments TMS320C20x/TMS320C5x</li>
<li> Texas Instruments TMS320C54x</li>
<li> Texas Instruments TMS320C6x</li>
<li> Texas Instruments TMS99xx/99xxx</li>
<li> Texas Instruments TMS7000</li>
<li> Texas Instruments TMS1000</li>
<li> Texas Instruments TMS370xxx</li>
<li> Texas Instruments MSP430(X)</li>
<li> National Semiconductor SC/MP</li>
<li> National Semiconductor INS807x</li>
<li> National Semiconductor COP4</li>
<li> National Semiconductor COP8</li>
<li> National Semiconductor SC144xx</li>
<li> National Semiconductor NS32xxx</li>
<li> Fairchild ACE</li>
<li> Fairchild F8</li>
<li> NEC µPD78(C)0x/µPD 78(C)1x</li>
<li> NEC µPD75xx</li>
<li> NEC µPD 75xxx (alias 75K0)</li>
<li> NEC 78K0</li>
<li> NEC 78K2</li>
<li> NEC 78K3</li>
<li> NEC 78K4</li>
<li> NEC µPD7720/7725</li>
<li> NEC µPD77230</li>
<li> Fujitsu F²MC8L</li>
<li> Fujitsu F²MC16L</li>
<li> OKI OLMS-40</li>
<li> OKI OLMS-50</li>
<li> Panafacom MN1610/MN1613</li>
<li> Padauk PMS/PMC/PFSxxx</li>
<li> Symbios Logic SYM53C8xx (yes, they are programmable!)</li>
<li> Intersil CDP1802/1804/1805(A)</li>
<li> XMOS XS1</li>
<li> MIL STD 1750</li>
<li> KENBAK-1</li>
<li> GI CP-1600</li>
</ul>
under work / planned / in consideration :
<ul>
<li> Analog Devices ADSP21xx</li>
<li> SGS-Thomson ST20</li>
<li> Texas Instruments TMS320C8x</li>
</ul>
Unloved, but now, however, present :
<ul>
<li> Intel 80x86, 80186, Nec V30&amp;V35 incl. coprocessor 8087</li>
</ul>
The switch to a different code generator is allowed even within one
file, and as often as one wants!
<p>
The reason for this flexibility is that AS has a history, which may
also be recognized by looking at the version number. AS was created
as an extension of a macro assembler for the 68000 family. On special
request, I extended the original assembler so that it was able to
translate 8051 mnemonics. On this way (decline ?!) from the 68000 to
8051, some other processors were created as by-products. All others
were added over time due to user requests. So At least for the
processor-independent core of AS, one may assume that it is
well-tested and free of obvious bugs. However, I often do not have
the chance to test a new code generator in practice (due to lack of
appropriate hardware), so surprises are not impossible when working
with new features. You see, the things stated in section <a href="#ref_SectLicense">1.1</a> have a reason...
</p><p>
This flexibility implies a somewhat exotic code format, therefore I
added some tools to work with it. Their description can be found in
chapter <a href="#ref_ChapTools">6</a>.
</p><p>
AS is a macro assembler, which means that the programmer has the
possibility to define new ''commands'' by means of macros.
Additionally it masters conditional assembling. Labels inside macros
are automatically processed as being local.
</p><p>
For the assembler, symbols may have either integer, string or
floating point values. These will be stored - like interim values in
formulas - with a width of 32 bits for integer values, 80 or 64 bits
for floating point values, and 255 characters for strings. For a
couple of micro controllers, there is the possibility to classify
symbols by segmentation. So the assembler has a (limited) possibility
to recognize accesses to wrong address spaces.
</p><p>
The assembler does not know explicit limits in the nesting depth of
include files or macros; a limit is only given by the program stack
restricting the recursion depth. Nor is there a limit for the symbol
length, which is only restricted by the maximum line length.
</p><p>
From version 1.38 on, AS is a multipass-assembler. This pompous term
means no more than the fact that the number of passes through the
source code need not be exactly two. If the source code does not
contain any forward references, AS needs only one pass. In case AS
recognizes in the second pass that it must use a shorter or longer
instruction coding, it needs a third (fourth, fifth...) pass to
process all symbol references correctly. There is nothing more behind
the term ''multipass'', so it will not be used further more in this
documentation.
</p><p>
After so much praise a bitter pill: AS cannot generate linkable code.
An extension with a linker needs considerable effort and is not
planned at the moment.
</p><p>
Those who want to take a look at the sources of AS can simply get the
Unix version of AS, which comes as source for self-compiling. The
sources are definitely not in a format that is targeted at easy
understanding - the original Pascal version still raises its head at
a couple of places, and I do not share a couple of common opinions
about 'good' C coding.
</p><p>

</p><h2><a name="sect_1_3_">1.3. Supported Platforms</a></h2>
<p>
Though AS started as a pure DOS program, there are a couple of           
versions available that are able to exploit a bit more than the Real
Mode of an Intel CPU. Their usage is kept as compatible to the DOS
version as possible, but there are of course differences concerning
installation and embedding into the operating system in question.
Sections in this manual that are only valid for a specific version of
AS are marked with a corresponding sidemark (at this paragraph for
the DOS version) aheaded to the paragraph. In detail, the following
further versions exist (distributed as separate packages):
</p><p>
In case you runinto memory problems when assembling large and complex    
programs under DOS, there is a DOS version that runs in protected
mode via a DOS extender and can therefore make use of the whole
extended memory of an AT. The assembly becomes significantly slower
by the extender, but at least it works...
</p><p>
There is a native OS/2 version of AS for friends of IBM's OS/2           
operating system. Since version 1.41r8, this is a full 32-bit OS/2
application, which of course means that OS/2 2.x and at least an
80386 CPU are mandatory.
</p><p>
You can leave the area of PCs-only with the C version of AS that was     
designed to be compilable on a large number of UNIX systems (this
includes OS/2 with the emx compiler) without too much of tweaking. In
contrast to the previously mentioned versions, the C version is
delivered in source code, i.e. one has to create the binaries by
oneself using a C compiler. This is by far the simpler way (for me)
than providing a dozen of precompiled binaries for machines I
sometimes only have limited access to...
</p><p>

</p><h1><a name="sect_2_">2. Assembler Usage</a></h1>
<p>
</p><blockquote>
<div align="LEFT">
    <i> Scotty: Captain, we din' can reference it!<br>
    Kirk: Analysis, Mr. Spock?<br>
    Spock: Captain, it doesn't appear in the symbol table.<br>
    Kirk: Then it's of external origin?<br>
    Spock: Affirmative.<br>
    Kirk: Mr. Sulu, go to pass two.<br>
    Sulu: Aye aye, sir, going to pass two.<br>
    </i>
</div>
</blockquote>
<p>

</p><h2><a name="sect_2_1_">2.1. Hardware Requirements</a></h2>
<p>
The hardware requirements of AS vary substantially from version to
version:
</p><p>
The DOS version will principally run on any IBM-compatible PC,           
ranging from a PC/XT with 4-dot-little megahertz up to a Pentium.
However, similar to other programs, the fun using AS increases the
better your hardware is. An XT user without a hard drive will
probably have significant trouble placing the overlay file on a
floppy because it is larger than 500 Kbytes...the PC should therefore
have at least a hard drive, allowing acceptable loading times. AS is
not very advanced in its main memory needs: the program itself
allocates less than 300 Kbytes main memory, AS should therefore work
on machines with at least 512 Kbytes of memory.
</p><p>
The version of AS compiled for the DOS Protected Mode Interface          
(DPMI) requires at least 1 Mbyte of free extended memory. A total
memory capacity of at least 2 Mbytes is therefore the absolute
minimum given one does not have other tools in the XMS (like disk
caches, RAM disks, or a hi-loaded DOS); the needs will rise then
appropriately. If one uses the DPMI version in a DOS box of OS/2, one
has to assure that DPMI has been enabled via the box's DOS settings
(set to<tt> on</tt> or<tt> auto</tt>) and that a sufficient amount of
XMS memory has been assigned to the box. The virtual memory
management of OS/2 will free you from thinking about the amount of
free real memory.
</p><p>
The hardware requirements of the OS/2 version mainly result from the     
needs of the underlying operating system, i.e. at minimum an 80386SX
processor, 8 Mbytes of RAM (resp. 4 Mbytes without the graphical user
interface) and 100..150 Mbytes of hard disk space. AS2 is only a
16-bit application and therefore it should also work on older OS/2
versions (thereby reducing the processor needs to at least an 80286
processor); I had however no chance to test this.
</p><p>
The C version of AS is delivered as source code and therefore            
requires a UNIX or OS/2 system equipped with a C compiler. The
compiler has to fulfill the ANSI standard (GNU-C for example is
ANSI-compliant). You can look up in the<tt> README</tt> file whether
your UNIX system has already been tested so that the necessary
definitions have been made. You should reserve about 15 Mbytes of
free hard disk space for compilation; this value (and the amount
needed after compilation to store the compiled programs) strongly
differs from system to system, so you should take this value only as
a rough approximation.
</p><p>

</p><h2><a name="sect_2_2_">2.2. Delivery</a></h2>
<p>
Principally, you can obtain AS in one of two forms: as a<em>
binary</em> or a<em> source</em> distribution. In case of a binary
distribution, one gets AS, the accomanying tools and auxiliary files
readily compiled, so you can immediately start to use it after
unpacking the archive to the desired destination on your hard drive.
Binary distibutions are made for widespread platforms, where either
the majority of users does not have a compiler or the compilation is
tricky (currently, this includes DOS and OS/2). A source distribution
in contrast contains the complete set of C sources to generate AS; it
is ultimately a snapshot of the source tree I use for development on
AS. The generation of AS from the sources and their structure is
described in detail in appendix <a href="#ref_ChapSource">I</a>,
which is why at this place, only the contents and installation of a
binary distribution will be described:
</p><p>
The contents of the archive is separated into several subdirectories,
therefore you get a directory subtree immediately after unpacking
without having to sort out things manually. The individual
directories contain the following groups of files:
</p><ul>
<li> <tt> BIN</tt>: executable programs, text resources;</li>
<li> <tt> INCLUDE</tt>: include files for assembler programs, e.g.
    register definitions or standard macros;</li>
<li> <tt> MAN</tt>: quick references for the individual programs in Unix
    'man' format.</li>
</ul>
A list of the files found in every binary distribution is given in
table <a href="#ref_TabCommonPackageList">2.0</a>. In case a file
listed in one of these (or the following) tables is missing, someone
took a nap during copying (probably me)...
<p>
</p><center>
<p></p><center>Table 2.1: Standard Contents of a Binary Distribution<a name="ref_TabCommonPackageList"></a>
</center><p>
</p><p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">File</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Function</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory BIN</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">AS.EXE<br>
PLIST.EXE<br>
PBIND.EXE<br>
P2HEX.EXE<br>
P2BIN.EXE<br>
AS.MSG<br>
PLIST.MSG<br>
PBIND.MSG<br>
P2HEX.MSG<br>
P2BIN.MSG<br>
TOOLS.MSG<br>
CMDARG.MSG<br>
IOERRS.MSG</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">executable of assembler<br>
lists contents of code files<br>
merges code files<br>
converts code files to hex files<br>
converts code files to binary files<br>
text resources for AS<br>
text resources for PLIST<br>
text resources for PBIND<br>
text resources for P2HEX<br>
text resources for P2BIN<br>
common text resources for all tools<br>
common text resources for all programs<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory DOC</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">AS_DE.DOC<br>
AS_DE.HTML<br>
AS_DE.TEX<br>
AS_EN.DOC<br>
AS_EN.HTML<br>
AS_EN.TEX</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">german documentation, ASCII format<br>
german documentation, HTML format<br>
german documentation, LaTeX format<br>
english documentation, ASCII format<br>
english documentation, HTML format<br>
english documentation, LaTeX format</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory INCLUDE</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">BITFUNCS.INC<br>
CTYPE.INC<br>
<br>
80C50X.INC<br>
80C552.INC<br>
H8_3048.INC<br>
KENBAK.INC<br>
REG166.INC<br>
REG251.INC<br>
REG29K.INC<br>
REG53X.INC<br>
REG6303.INC<br>
REG683XX.INC<br>
REG7000.INC<br>
REG78310.INC<br>
REG78K0.INC<br>
REG96.INC<br>
REGACE.INC<br>
REGF8.INC<br>
REGAVROLD.INC<br>
REGAVR.INC<br>
REGCOLD.INC<br>
REGCOP8.INC<br>
REGGP32.INC<br>
REGH16.INC<br>
REGHC12.INC<br>
REGM16C.INC<br>
REGMSP.INC<br>
REGPDK.INC<br>
REGS12Z.INC<br>
REGST6.INC<br>
REGST7.INC<br>
REGSTM8.INC<br>
REGST9.INC<br>
REGZ380.INC<br>
STDDEF04.INC<br>
STDDEF16.INC<br>
<br>
STDDEF17.INC<br>
STDDEF18.INC<br>
STDDEF2X.INC<br>
STDDEF37.INC<br>
STDDEF3X.INC<br>
STDDEF4X.INC<br>
STDDEF47.INC<br>
STDDEF51.INC<br>
<br>
STDDEF56K.INC<br>
STDDEF5X.INC<br>
STDDEF60.INC<br>
<br>
REGSX20.INC<br>
AVR/*.INC<br>
<br>
COLDFIRE/*.INC<br>
<br>
PDK/*.INC<br>
<br>
S12Z/*.INC<br>
<br>
ST6/*.INC<br>
<br>
ST7/*.INC<br>
<br>
STM8/*.INC<br>
<br>
STDDEF62.INC<br>
STDDEF75.INC<br>
STDDEF87.INC<br>
STDDEF90.INC<br>
STDDEF96.INC<br>
STDDEFXA.INC<br>
STDDEFZ8.INC<br>
REGZ8.INC<br>
Z8/*.INC<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">functions for bit manipulation<br>
functions for classification of<br>
characters<br>
register addresses SAB C50x<br>
register addresses 80C552<br>
register addresses H8/3048<br>
register addressed Kenbak-1<br>
addresses and instruction macros 80C166/167<br>
addresses and bits 80C251<br>
peripheral addresses AMD 2924x<br>
register addresses H8/53x<br>
register addresses 6303<br>
register addresses 68332/68340/68360<br>
register addresses TMS70Cxx<br>
register addresses &amp; vectors 78K3<br>
register addresses 78K0<br>
register addresses MCS-96<br>
register addresses ACE<br>
register and memory addresses F8<br>
register and bit addresses AVR family (old)<br>
register and bit addresses AVR family<br>
register and bit addresses Coldfire family<br>
register addresses COP8<br>
register addresses 68HC908GP32<br>
register addresses H16<br>
register addresses 68HC12<br>
register addresses Mitsubishi M16C<br>
register addresses TI MSP430<br>
register and bit addresses PMC/PMS/PFSxxx<br>
register and bit addresses S12Z family<br>
register and macro definitions ST6<br>
register and macro definitions ST7<br>
register and macro definitions STM8<br>
register and macro definitions ST9<br>
register addresses Z380<br>
register addresses 6804<br>
instruction macros and register addresses<br>
PIC16C5x<br>
register addresses PIC17C4x<br>
register addresses PIC16C8x<br>
register addresses TMS3202x<br>
register and bit addresses TMS370xxx<br>
peripheral addresses TMS320C3x<br>
peripheral addresses TMS320C4x<br>
instruction macros TLCS-47<br>
definition of SFRs and bits for<br>
8051/8052/80515<br>
register addresses DSP56000<br>
peripheral addresses TMS320C5x<br>
instruction macros and register addresses<br>
PowerPC<br>
register and bit addresses Parallax SX20/28<br>
register and bit addresses AVR family<br>
(do not include directly, use REGAVR.INC)<br>
register and bit addresses ColdFire family<br>
(do not include directly, use REGCOLD.INC)<br>
register and bit addresses PMC/PMS/PFSxxx<br>
(do not include directly, use REGPDK.INC)<br>
register and bit addresses S12Z family<br>
(do not include directly, use REGS12Z.INC)<br>
register and bit addresses ST6 family<br>
(do not include directly, use REGST6.INC)<br>
register and bit addresses ST7 family<br>
(do not include directly, use REGST7.INC)<br>
register and bit addresses STM8 family<br>
(do not include directly, use REGSTM8.INC)<br>
register addresses and macros ST6 (old)<br>
register addresses 75K0<br>
register and memory addresses TLCS-870<br>
register and memory addresses TLCS-90<br>
register and memory addresses TLCS-900<br>
SFR and bit addresses Philips XA<br>
register addresses Z8 family (old)<br>
register addresses Z8 family (new)<br>
register and bit addresses Z8 family<br>
(do not include directly, use REGZ8.INC)</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory LIB</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory MAN</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">ASL.1<br>
PLIST.1<br>
PBIND.1<br>
P2HEX.1<br>
P2BIN.1</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Short Reference for AS<br>
Short Reference for PLIST<br>
Short Reference for PBIND<br>
Short Reference for P2HEX<br>
Short Reference for P2BIN</td>
</tr>
</tbody></table></center>
</center>
<p>
Depending on the platform, a binary distribution however may contain
more files to allow operation, like files necessary for DOS
extenders. In case of the DOS DPMI version, the extensions listed in     
table <a href="#ref_TabDPMIPackageList">2.1</a> result. Just to
mention it: it is perfectly O.K. to replace the tools with their
counterparts from a DOS binary distribution; on the on hand, they
execute significantly faster without the extender's overhead, and on
the other hand, they do not need the extended memory provided by the
extender.
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">File</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Function</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory MAN</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">ASL.1<br>
PLIST.1<br>
PBIND.1<br>
P2HEX.1<br>
P2BIN.1</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">quick reference for AS<br>
quick reference for PLIST<br>
quick reference for PBIND<br>
quick reference for P2HEX<br>
quick reference for P2BIN</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory BIN</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">DPMI16BI.OVL<br>
RTM.EXE</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">DPMI server for the assembler<br>
runtime module of the extender</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.1: Additional Files in a DPMI Binary Distribution<a name="ref_TabDPMIPackageList"></a>
</center><p>

</p><p>
An OS/2 binary distribution contains in addition to the base files a     
set of DLLs belonging to the runtime environment of the emx compiler
used to build AS (table <a href="#ref_TabOS2PackageList">2.2</a>). In
case you already have these DLLs (or newer versions of them), you may
delete these and use your ones insted.
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">File</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">function</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><b> Directory BIN</b></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">EMX.DLL<br>
EMXIO.DLL<br>
EMXLIBC.DLL<br>
EMXWRAP.DLL</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">runtime libraries for AS and<br>
its tools<br>
<br>
</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.2: Additional Files in an OS/2 binary distribution<a name="ref_TabOS2PackageList"></a>
</center><p>

</p><p>

</p><h2><a name="sect_2_3_">2.3. Installation</a></h2>
<p>
There is no need for a special installation prior to usage of AS. It     
is sufficient to unpack the archive in a fitting place and to add a
few minor settings. For example, this is an installation a user used
to UNIX-like operating systems might choose:
</p><p>
Create a directory c:\as an (I will assume in the following that you
are going to install AS on drive C), change to this directory and
unpack the archiv, keeping the path names stored in the archive (when
using PKUNZIP, the command line option -d is necessary for that). You
now should have the following directory tree:
</p><pre>
c:\as
c:\as\bin
c:\as\include
c:\as\lib
c:\as\man
c:\as\doc
c:\as\demos

</pre>
Now, append the directory c:\as\bin to the<tt> PATH</tt> statement in
your<tt> AUTOEXEC.BAT</tt>, which allows the system to find AS and
its tools. With your favourite text editor, create a file named<tt>
AS.RC</tt> in the<tt> lib</tt> directory with the following contents:
<pre>
-i c:\as\include

</pre>
This so-called<em> key file</em> tells AS where to search for its
include files. The following statement must be added to your<tt>
AUTOEXEC.BAT</tt> to tell AS to read this file:
<pre>
set ASCMD=@c:\as\lib\as.rc

</pre>
There are many more things you can preset via the key file; they are
listed in the following section.
<p>
The installation of the DPMI version should principally take the same    
course as for the pure DOS version; as soon as the PATH contains
the<tt> bin</tt> directory, the DOS extender's files will be found
automatically and you should not notice anything of this mechanism
(except for the longer startup time...). When working on an
80286-based computer, it is theoretically possible tha you get
confronted with the following message upon the first start:
</p><pre>
  machine not in database (run DPMIINST)

</pre>
Since the DPMIINST tool ins not any more included in newer versions
of Borland's DOS extender, I suppose that this is not an item any
more...in case you run into this, contact me!
<p>
The installation of the OS/2 version can generally be done just like     
for the DOS version, with the addition that the DLLs have to be made
visible for the operating system. In case you do not want to extend
the<tt> LIBPATH</tt> entry in your<tt> CONFIG.SYS</tt>, it is of
course also valid to move the DLLs into a directory already listed
in<tt> LIBPATH</tt>.
</p><p>
As already mentioned, the installation instructions in this section
limit themselves to binary distributions. Since an installation under
Unix is currently alway a source-based installation, the only hint I     
can give here is a reference to appendix <a href="#ref_ChapSource">I</a>.
</p><p>

</p><h2><a name="sect_2_4_">2.4. Start-Up Command, Parameters</a></h2>
<a name="ref_SectCallConvention"></a>
<p>
AS is a command line driven program, i.e. all parameters and file
options are to be given in the command line.
</p><p>
A couple of message files belongs to AS (recognizable by their
suffix<tt> MSG</tt>) AS accesses to dynamically load the messages
appropriate for the national language. AS searches the following
directories for these files:
</p><ul>
<li> the current directory;</li>
<li> the EXE-file's directory;</li>
<li> the directory named in the<tt> AS_MSGPATH</tt> environment variable,
    or alternitavely the directories listed in the<tt> PATH</tt>
    environment variable;</li>
<li> the directory compiled into AS via the<tt> LIBDIR</tt> macro.</li>
</ul>
These files are<em> indispensable</em> for a proper operation of AS,
i.e. AS will terminate immediately if these files are not found.
<p>
The language selection (currently only German and English) is based
on the<tt> COUNTRY</tt> setting under DOS and OS/2 respectively on
the<tt> LANG</tt> environment variable under Unix.
</p><p>
In order to fulfill AS's memory requirements under DOS, the various      
code generator modules of the DOS version were moved into an overlay
which is part of the EXE file. A separate OVR file like in earlier
versions of AS therefore dose not exist any more, AS will however
still attempt to reduce the overlaying delays by using eventually
available EMS or XMS memory. In case this results in trouble, you may
suppress usage of EMS or XMS by setting the environment variable<tt>
USEXMS</tt> or<tt> USEEMS</tt> to<tt> n</tt>. E.g., it is possible to
suppress the using of XMS by the command:
</p><pre>
   SET USEXMS=n

</pre>
Since AS performs all in- and output via the operating system (and
therefore it should run also on not 100% compatible DOS-PC's) and
needs some basic display control, it emits ANSI control sequences
during the assembly. In case you should see strange characters in the    
messages displayed by AS, your<tt> CONFIG.SYS</tt> is obviously
lacking a line like this:
<pre>
   device=ansi.sys

</pre>
but the further functions of AS will not be influenced hereby.           
Alternatively you are able to suppress the output of ANSI sequences
completely by setting the environment variable<tt> USEANSI</tt>
to<tt> n</tt>.
<p>
The DOS extender of the DPMI version can be influenced in its memory     
allocation strategies by a couple of environment variables; if you
need to know their settings, you may look up them in the file<tt>
DPMIUSER.DOC</tt>. ASX is additionally able to extend the available
memory by a swap file. To do this, set up an environment variable<tt>
ASXSWAP</tt> in the following way:
</p><pre>
  SET ASXSWAP=&lt;size&gt;[,file name]

</pre>
The size specification has to be done in megabytes and<b> has</b> to
be done. The file name in contrast is optional; if it is missing, the
file is named<tt> ASX.TMP</tt> and placed in the current directory.
In any case, the swap file is deleted after program end.
<p>
The command line parameters can roughly be divided into three
categories: switches, key file references (see below) and file
specifications. Parameters of these two categories may be arbitrarily
mixed in the command line. The assembler evaluates at first all
parameters and then assembles the specified files. From this follow
two things:
</p><ul>
<li> the specified switches affect all specified source files. If several
    source files shall be assembled with different switches, this has
    to be done in separate runs.</li>
<li> it is possible to assemble more than one file in one shot and to
    bring it to the top, it is allowed that the file specs contain
    wildcards.</li>
</ul>
Parameter switches are recognized by AS by starting with a slash (/)
or hyphen (-). There are switches that are only one character long
and additionally switches composed of a whole word. Whenever AS
cannot interpret a switch as a whole word, it tries to interprete
every letter as an individual switch. For example, if you write
<pre>
 -queit

</pre>
instead of
<pre>
 -quiet

</pre>
AS will take the letters<tt> q, u, e, i</tt>, and<tt> t</tt> as
individual switches. Multiple-letter switches additionally have the
difference to single-letter switches that AS will accept an arbitrary
mixture of upper and lower casing, whereas single-letter switches may
have a different meaning depending on whether upper or lower case is
used.
<p>
At the moment, the following switches are defined:<a name="index_SHARED_1"></a>
</p><ul>
<li> <tt>l</tt>: sends assembler listing to console terminal (mostly
    screen). In case several passes have to be done, the listing of
    all passes will be send to the console (in opposite to the next
    option).</li>
<li> <tt>L</tt>: writes assembler listing into a file. The list file will
    get the same name as the source file, only the extension is
    replaced by<tt> LST</tt>. Except one uses...</li>
<li> <tt>OLIST</tt>: with a fiel name as argument allows to redirect the
    listing to a different file or a different path. This option may
    be used multiple times in case multiple files are assembled with
    one execution.</li>
<li> <tt>LISTRADIX</tt>: By default, all numeric output in the listing
    (addresses, generated code, symbol values) is written in
    hexadecimal notation. This switch requests usage of a different
    number system in the range of 2 to 36. For instance, '-listradix
    8' requests octal output.</li>
<li> <tt>SPLITBYTE [character]</tt>: Display numbers in the listing in
    byte groups, separated by the given character. A period is used
    as separator if no explicit character is given. This option is
    usually used in conjunction with the<tt> LISTRADIX</tt> option.
    For instance, list radix 8 with a period as character results in
    the so-called 'split octal' notation.</li>
<li> <tt>o</tt>: Sets the new name of the code file generated by AS. If
    this option is used multiple times, the names will be assigned,
    one after the other, to the source files which have to be
    assembled. A negation (see below) of this option in connection
    with a name erases this name from the list. A negation without a
    name erases the whole list.</li>
<li> <tt>SHAREOUT</tt>:ditto for a SHARE file eventually to be
    created.</li>
<li> <tt>c</tt>: SHARED-variables will be written in a format which
    permits an easy integration into a C-source file. The extension
    of the file is<tt> H</tt>.</li>
<li> <tt>p</tt>: SHARED-variables will be written in a format which
    permits easy integration into the CONST-block of a Pascal
    program. The extension of the file is<tt> INC</tt>.</li>
<li> <tt>a</tt>: SHARED-variables will be written in a format which
    permits easy integration into an assembler source file. The
    extension of the file is<tt> INC</tt>.</li>
</ul>
Concerning effect and function of the SHARED-symbols please see
chapters <a href="#ref_ChapShareMain">2.13</a> resp. <a href="#ref_ChapShareOrder">3.9.1</a>.
<ul>
<li> <tt>g [format]</tt>: This switch instructs AS to create an
    additional file that contains debug information for the program.
    Allowed formats are the AS-specific MAP format (<tt>
    format=MAP</tt>), a NoICE-compatible command file (<tt>
    format=NOICE</tt>), and the Atmel format used by the AVR tools
    (<tt> format=ATMEL</tt>). The information stored in the MAP
    format is comprised of a symbol table and a table describing the
    assignment of source lines to machine addresses. A more detailed
    description of the MAP format can be found in section <a href="#ref_SectDebugFormat">5.2</a> The file's extension is<tt>
    MAP</tt>,<tt> NOI</tt>, resp.<tt> OBJ</tt>, depending on the
    chosen format. If no explicit format specification is done, the
    MAP format is chosen.</li>
<li> <tt>noicemask [value]</tt>: By default, AS lists only symbols from
    the CODE segment in NoICE debug info files. With this option and
    an integer value interpreted as a bit mask, symbols fom other
    segments may be added. The assignment of segments to bit
    positions may be taken from table <a href="#ref_TabSegmentNums">5.1</a>.</li>
<li> <tt>w</tt>: suppress issue of warnings;</li>
<li> <tt>E [file]</tt>: error messages and warnings produced by AS will
    be redirected to a file. Instead of a file, the 5 standard
    handles (STDIN..STDPRN) can also be specified as<tt> !0</tt>
    to<tt> !4</tt> . Default is<tt> !2</tt>, meaning STDERR. If the
    file option is left out, the name of the error file is the same
    as of the source file, but with the extension<tt> LOG</tt>.</li>
<li> <tt>q</tt>: This switch suppresses all messages of AS, the
    exceptions are error messages and outputs which are are forced
    from the source file. The time needed for assembly is slightly
    reduced hereby and if you call AS from a shell there is no
    redirection required. The disadvantage is that you may ''stay in
    the dark'' for several minutes ... It is valid to write<tt>
    quiet</tt> instead of<tt> q</tt>.</li>
<li> <tt>h</tt>: write hexadecimal numbers in lowercase instead of
    capital letters. This option is primarily a question of personal
    taste.</li>
<li> <tt>i &lt;path list&gt;</tt>: issues a list of directories where the
    assembler shall automatically search for include files, in case
    it didn't find a file in the current directory. The different
    directories have to be separated by semicolons.</li>
<li> <tt>u</tt>: calculate a list of areas which are occupied in the
    segments. This option is effective only in case a listing is
    produced. This option requires considerable additional memory and
    computing performance. In normal operation it should be switched
    off.</li>
<li> <tt>C</tt>: generates a list of cross references. It lists which
    (global) symbols are used in files and lines. This list will also
    be generated only in case a listing is produced. This option
    occupies, too, additional memory capacity during assembly.</li>
<li> <tt>s</tt>: issues a list of all sections (see chapter <a href="#ref_ChapLocSyms">3.8</a>). The nesting is indicated by
    indentations (Pascal like).</li>
<li> <tt>t</tt>: by means of this switch it is possible to separate
    single components of the standard issued assembler-listing. The
    assignment of bits to parts can be found in the next section,
    where the exact format of the assembly listing is explained.</li>
<li> <tt>D</tt>: defines symbols. The symbols which are specified behind
    this option and separated by commas are written to the global
    symbol table before starting the assembly. As default these
    symbols are written as integer numbers with the value TRUE, by
    means of an appended equal sign, however, you can select other
    values. The expression following the equals sign may include
    operators or internal functions, but<b> not</b> any further
    symbols, even if these should have been defined before in the
    list! Together with the commands for conditional assembly (see
    there) you may produce different program versions out of one
    source file by command line inputs.<b> CAUTION!</b> If the
    case-sensitive mode is used, this has to be specified in the
    command line<em> before</em> any symbol definitions, otherwise
    symbol names will be converted to upper case at this place!</li>
<li> <tt>A</tt>: stores the list of global symbols in another, more
    compact form. Use this option if the assembler crashes with a
    stack overflow because of too long symbol tables. Sometimes this
    option can increase the processing speed of the assembler, but
    this depends on the sources.</li>
<li> <tt>x</tt>: Sets the level of detail for error messages. The level
    is increased resp. decreased by one each time this option is
    given. While on level 0 (default) only the error message itself
    is printed, an extended message is added beginning at level 1
    that should simplify the identification of the error's cause.
    Appendix <a href="#ref_ChapErrMess">A</a> lists which error
    messages carry which extended messages. At level 2 (maximum), the
    source line containing the error is additionally printed.</li>
<li> <tt>n</tt>: If this option is set, the error messages will be issued
    additionally with their error number (see appendix <a href="#ref_ChapErrMess">A</a>). This is primarily intended for
    use with shells or IDE's to make the identification of errors
    easier by those numbers.</li>
<li> <tt>U</tt>: This option switches AS to the case-sensitive mode, i.e.
    upper and lower case in the names of symbols, sections, macros,
    character sets, and user-defined functions will be distinguished.
    This is not the case by default.</li>
<li> <tt>P</tt>: Instructs AS to write the source text processed by macro
    processor and conditional assembly into a file. Additional blank
    and pure comment lines are missing in this file. The extension of
    this file is<tt> I</tt>.</li>
<li> <tt>M</tt>: If this switch is given, AS generates a file, that
    contains definitions of macros defined in the source file that
    did not use the<tt> NOEXPORT</tt> option. This new file has the
    same name as the source file, only the extension is modified
    into<tt> MAC</tt>.</li>
<li> <tt>G</tt>: this switch defines whether AS should produce code or
    not. If switched off, the processing will be stopped after the
    macro processor. This switch is activated by default (logically,
    otherwise you would not get a code file). This switch can be used
    in conjunction with the<tt> P</tt> switch, if only the macro
    processor of AS shall be used.</li>
<li> <tt>r [n]</tt>: issue warnings if situations occur that force a
    further pass. This information can be used to reduce the number
    of passes. You may optionally specify the number of the first
    pass where issuing of such messages shall start. Without this
    argument, warnings will come starting with the first pass. Be
    prepared for a bunch of messages!!</li>
<li> <tt>relaxed</tt>: this switch enables the RELAXED mode right from
    the beginning of the program, which otherwise has to be enabled
    by the pseudo instruction of sane name(see section <a href="#ref_SectRELAXED">3.9.7</a>).</li>
<li> <tt>supmode</tt>: this switch enables right from the beginning of
    the program usage of machine instructions that may only be used
    in the processor's supervisor mode (see section <a href="#ref_SectSUPMODE">3.2.4</a>).</li>
<li> <tt>Y</tt>: This switch instructs AS to to suppress all messages
    about out-of-branch conditions, once the necessity for another
    pass is given. See section <a href="#ref_ForwRefs">2.11</a> for
    the (rare) situations that might make use of this switch
    necessary.</li>
<li> <tt>cpu &lt;name&gt;</tt>: this switch allows to set the target
    processor AS shall generate code for, in case the source file
    does not contain a<tt> CPU</tt> instruction and is not 68008
    code. If the selected target supports CPU arguments (see section
    <a href="#ref_SectCPU">3.2.3</a>), they may be used on the
    command line as well.</li>
<li> <tt>alias &lt;new&gt;=&lt;old&gt;</tt>: defines the processor
    type<tt> &lt;new&gt;</tt> to be an alias for the type<tt>
    &lt;old&gt;</tt>. See section <a href="#ref_SectAlias">2.14</a>
    for the sense of processor aliases.</li>
<li> <tt> gnuerrors</tt>: display messages about errors resp. warnings
    not in the AS standard format, but instead in a format similar to
    the GNU C compiler. This simplifies the integration of AS into
    environments tuned for this format, however also suppresses the
    display of precise error positions in macro bodies!</li>
<li> <tt> maxerrors [n]</tt>: instructs the assembler to terminate
    assembly after the given number of errors.</li>
<li> <tt> maxerrors [n]</tt>: instructs the assembler to terminate
    assembly if the include nesting level exceeds the given limit
    (default is 200).</li>
<li> <tt> Werror</tt>: instructs the assembler to treat warnings as
    errors.</li>
<li> <tt>compmode</tt>: This switch instructs the assembler to operate by
    default in compatibility mode. See section <a href="#ref_SectCompMode">3.9.8</a> for more information about
    this mode.</li>
</ul>
As long as switches require no arguments and their concatenation does
not result in a multi-letter switch, it is possible to specify
several switches at one time, as in the following example :
<pre>
 as test*.asm firstprog -cl /i c:\as\8051\include

</pre>
All files<tt> TEST*.ASM</tt> as well as the file<tt>
FIRSTPROG.ASM</tt> will be assembled, whereby listings of all files
are displayed on the console terminal. Additional sharefiles will be
generated in the C- format. The assembler should search for
additional include files in the directory C:\AS\8051\INCLUDE.
<p>
This example shows that the assembler assumes<tt> ASM</tt> as the
default extension for source files.
</p><p>
A bit of caution should be applied when using switches that have
optional arguments: if a file specification immediately follows such
aswitch without the optional argument, AS will try to interprete the
file specification as argument - what of course fails:
</p><pre>
 as -g test.asm

</pre>
The solution in this case would either be to move the -g option the
end or to specify an explicit MAP argument.
<p>
Beside from specifying options in the command line, permanently
needed options may be placed in the environment variable<tt>
ASCMD</tt>. For example, if someone always wants to have assembly
listings and has a fixed directory for include files, he can save a
lot of typing with the following command:
</p><pre>
 set ascmd=-L -i c:\as\8051\include

</pre>
The environment options are processed before the command line, so
options in the command line can override contradicting ones in the
environment variable.
<p>
In the case of very long path names, space in the<tt> ASCMD</tt>
variable may become a problem. For such cases a key file may be the
alternative, in which the options can be written in the same way as
in the command line or the<tt> ASCMD</tt>-variable. But this file may
contain several lines each with a maximum length of 255 characters.
In a key file it is important, that for options which require an
argument, switches and argument have to be written in the<b> same</b>
line. AS gets informed of the name of the key file by a<tt> @</tt>
aheaded in the<tt> ASCMD</tt> variable, e.g.
</p><pre>
set ASCMD=@c:\as\as.key

</pre>
In order to neutralize options in the<tt> ASCMD</tt> variable (or in
the key file), prefix the option with a plus sign. For example, if
you do not want to generate an assembly listing in an individual
case, the option can be retracted in this way:
<pre>
as +L &lt;file&gt;

</pre>
Naturally it is not consequently logical to deny an option by a plus
sign.... UNIX soit qui mal y pense.
<p>
References to key files may not only come from the<tt> ASCMD</tt>
variable, but also directly from the command line. Similarly to
the<tt> ASCMD</tt> variable, prepend the file's name with a @
character:
</p><pre>
 as @&lt;file&gt; ....

</pre>
The options read from a key file in this situation are processed as
if they had been written out in the command line in place of the
reference,<em> not</em> like the key file referenced by the<tt>
ASCMD</tt> variable that is processed prior to the command line
options.
<p>
Referencing a key file from a key file itself is not allowed and will
be answered wit an error message by AS.
</p><p>
In case that you like to start AS from another program or a shell and
this shell hands over only lower-case or capital letters in the
command line, the following workaround exists: if a tilde (~) is put
in front of an option letter, the following letter is always
interpreted as a lower-case letter. Similarly a<tt> #</tt> demands
the interpretation as a capital letter. For example, the following
transformations result for:
</p><pre>
 /~I ---&gt; /i
 -#u ---&gt; -U

</pre>
In dependence of the assembly's outcome, the assembler ends with the
following return codes:
<dl compact="compact">
<dt>0</dt><dd>error free run, at maximum warnings occurred</dd>
<dt>1</dt><dd>The assembler displayed only its command-line parameters and
    terminated immediately afterwards.</dd>
<dt>2</dt><dd>Errors occurred during assembly, no code file has been produced.</dd>
<dt>3</dt><dd>A fatal error occurred what led to immediate termination of the
    run.</dd>
<dt>4</dt><dd>An error occurred already while starting the assembler. This may be a
    parameter error or a faulty overlay file.</dd>
<dt>255</dt><dd>An internal error occurred during initialization that should not
    occur in any case...reboot, try again, and contact me if the
    problem is reproducible!</dd>
</dl>
Similar to UNIX, OS/2 extends an application's data segment on demand    
when the application really needs the memory. Therefore, an output
like
<pre>
  511 KByte available memory

</pre>
does not indicate a shortly to come system crash due to memory lack,
it simply shows the distance to the limit when OS/2 will push up the
data segment's size again...
<p>
As there is no compatible way in C under different operating systens     
to find out the amount of available memory resp. stack, both lines
are missing completely from the statistics the C version prints.
</p><p>

</p><h2><a name="sect_2_5_">2.5. Format of the Input Files</a></h2>
<a name="ref_AttrTypes"></a>
<p>
Like most assemblers, AS expects exactly one instruction per line
(blank lines are naturally allowed as well). The lines must not be
longer than 255 characters, additional characters are discarded.
</p><p>
A single line has following format:
</p><pre>
[label[:]] &lt;mnemonic&gt;[.attr] [param[,param..]] [;comment]

</pre>
A line may also be split over several lines in the source file,
continuation characters chain these parts together to a single line.
One must however consider that, due to the internal buffer structure,
the total line must not be longer than 256 characters. Line
references in error messages always relate to the last line of such a
composed source line.
<p>
The colon for the label is optional, in case the label starts in the
first column (the consequence is that a machine or pseudo instruction
must not start in column 1). It is necessary to set the colon in case
the label does not start in the first column so that AS is able to
distinguish it from a mnemonic. In the latter case, there must be at
least one space between colon and mnemonic if the processor belongs
to a family that supports an attribute that denotes an instruction
format and is separated from the mnemonic by a colon. This
restriction is necessary to avoid ambiguities: a distinction between
a mnemonic with format and a label with mnemonic would otherwise be
impossible.
</p><p>
Some signal processor families from Texas Instruments optionally use
a double line (||) in place of the label to signify the prallel
execution with the previous instruction(s). If these two assembler
instructions become a single instruction word at machine level
(C3x/C4x), an additional label in front of the second instruction of
course does not make sense and is not allowed. The situation is
different for the C6x with its instruction packets of variable
length: If someone wants to jump into the middle of an instruction
packet (bad style, if you ask me...), he has to place the necessary
label<em> before</em> into a separate line. The same is valid for
conditions, which however may be combined with the double line in a
single source line.
</p><p>
The attribute is used by a couple of processors to specify variations
or different codings of a certain instruction. The most prominent
usage of the attibute is is the specification of the operand size,
for example in the case of the 680x0 family (table <a href="#ref_TabAttrs">2.3</a>).

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">attribute</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">arithmetic-logic instruction</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">jump instruction</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">B<br>
W<br>
L<br>
Q<br>
C<br>
S<br>
D<br>
X<br>
P</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">byte (8 bits)<br>
word (16 bits)<br>
long word (32 bits)<br>
quad word (64 bits)<br>
half precision (16 bits)<br>
single precision (32 bits)<br>
double precision (64 bits)<br>
extended precision (80/96 bits)<br>
decimal floating point (80/96 bits)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">8-bit-displacement<br>
16-bit-displacement<br>
16-bit-displacement<br>
---------<br>
---------<br>
8-bit-displacement<br>
---------<br>
32-bit-displacement<br>
---------</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.3: Allowed Attributes (Example 680x0)<a name="ref_TabAttrs"></a>
</center><p>

</p><p>
Since this manual is not also meant as a user's manual for the
processor families supported by AS, this is unfortunately not the
place to enumerate all possible attributes for all families. It
should however be mentioned that in general, not all instructions of
a given instruction set allow all attributes and that the omission of
an attribute generally leads to the usage of the ''natural'' operand
size of a processor family. For more thorough studies, consult a
reasonable programmer's manual, e.g. <a href="#cite_Williams">[1]</a>
for the 68K's.
</p><p>
In the case of TLCS-9000, H8/500, and M16(C), the attribute serves
both as an operand size specifier (if it is not obvious from the
operands) and as a description of the instruction format to be used.
A colon has to be used to separate the format from the operand size,
e.g. like this:
</p><pre>
    add.w:g   rw10,rw8

</pre>
This example does not show that there may be a format specification
without an operand size. In contrast, if an operand size is used
without a format specification, AS will automatically use the
shortest possible format. The allowed formats and operand sizes again
depend on the machine instruction and may be looked up e.g. in <a href="#cite_Tosh900">[143]</a>, <a href="#cite_HitH8_5">[34]</a>, <a href="#cite_MitM16">[59]</a>, resp. <a href="#cite_MitM16C">[60]</a>.
<p>
The number of instruction parameters depends on the mnemonic and is
principally located between 0 and 20. The separation of the
parameters from each other is to be performed only by commas
(exception: DSP56xxx, its parallel data transfers are separated with
blanks). Commas that are included in brackets or quotes, of course,
are not taken into consideration.
</p><p>
Instead of a comment at the end, the whole line can consist of
comment if it starts in the first column with a semicolon.
</p><p>
To separate the individual components you may also use tabulators
instead of spaces.
</p><p>

</p><h2><a name="sect_2_6_">2.6. Format of the Listing</a></h2>
<p>
The listing produced by AS using the command line options i or I is
roughly divisible into the following parts :
</p><ol>
<li>issue of the source code assembled;</li>
<li>symbol list;</li>
<li>usage list;</li>
<li>cross reference list.</li>
</ol>
The two last ones are only generated if they have been demanded by
additional command line options.
<p>
In the first part, AS lists the complete contents of all source files
including the produced code. A line of this listing has the following
form:
</p><pre>
[&lt;n&gt;] &lt;line&gt;/&lt;address&gt; &lt;code&gt; &lt;source&gt;

</pre>
In the field<tt> n</tt>, AS displays the include nesting level. The
main file (the file where assembly was started) has the depth 0, an
included file from there has depth 1 etc.. Depth 0 is not displayed.
<p>
In the field<tt> line</tt>, the source line number of the referenced
file is issued. The first line of a file has the number 1. The
address at which the code generated from this line is written follows
after the slash in the field<tt> address</tt>.
</p><p>
The code produced is written behind<tt> address</tt> in the field<tt>
code</tt>, in hexadecimal notation. Depending on the processor type
and actual segment the values are formatted either as bytes or
16/32-bit-words. If more code is generated than the field can take,
additional lines will be generated, in which case only this field is
used.
</p><p>
Finally, in the field<tt> source</tt>, the line of the source file is
issued in its original form.
</p><p>
The symbol table was designed in a way that it can be displayed on an
80-column display whenever possible. For symbols of ''normal
length'', a double column output is used. If symbols exceed (with
their name and value) the limit of 40 columns (characters), they will
be issued in a separate line. The output is done in alphabetical
order. Symbols that have been defined but were never used are marked
with a star (*) as prefix.
</p><p>
The parts mentioned so far as well as the list of all
macros/functions defined can be selectively masked out from the
listing. This can be done by the already mentioned command line
switch<tt> -t</tt>. There is an internal byte inside AS whose bits
represent which parts are to be written. The assignment of bits to
parts of the listing is listed in table <a href="#ref_TabTBits">2.4</a>.
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">bit</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">part</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">0<br>
1<br>
2<br>
3<br>
4<br>
5<br>
7</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">source file(s) + produced code<br>
symbol table<br>
macro list<br>
function list<br>
line numbering<br>
register symbol list<br>
character set table</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.4: Assignment of Bits to Listing Components<a name="ref_TabTBits"></a>
</center><p>

All bits are set to 1 by default, when using the switch
</p><pre>
-t &lt;mask&gt;

</pre>
Bits set in<tt> &lt;mask&gt;</tt> are cleared, so that the respective
listing parts are suppressed. Accordingly it is possible to switch on
single parts again with a plus sign, in case you had switched off too
much with the<tt> ASCMD</tt> variable... If someone wants to have,
for example, only the symbol table, it is enough to write:
<pre>
-t 2

</pre>
The usage list issues the occupied areas hexadecimally for every
single segment. If the area has only one address, only this is
written, otherwise the first and last address.
<p>
The cross reference list issues any defined symbol in alphabetical
order and has the following form:
</p><pre>
 symbol &lt;symbol name&gt; (=&lt;value&gt;,&lt;file&gt;/&lt;line&gt;):
  file &lt;file 1&gt;:
  &lt;n1&gt;[(m1)]  ..... &lt;nk&gt;[(mk)]
  .
  .
  file &lt;file l&gt;:
  &lt;n1&gt;[(m1)]  ..... &lt;nk&gt;[(mk)]

</pre>
The cross reference list lists for every symbol in which files and
lines it has been used. If a symbol was used several times in the
same line, this would be indicated by a number in brackets behind the
line number. If a symbol was never used, it would not appear in the
list; The same is true for a file that does not contain any
references for the symbol in question.
<p>
<b> CAUTION!</b> AS can only print the listing correctly if it was
previously informed about the output media's page length and width!
This has to be done with the<tt> PAGE</tt> instruction (see there).
The preset default is a length of 60 lines and an unlimited line
width.
</p><p>

</p><h2><a name="sect_2_7_">2.7. Symbol Conventions</a></h2>
<a name="ref_SectSymConv"></a>
<p>
Symbols are allowed to be up to 255 characters long (as hinted
already in the introduction) and are being distinguished on the whole
length, but the symbol names have to meet some conventions:
</p><p>
Symbol names are allowed to consist of a random combination of
letters, digits, underlines and dots, whereby the first character
must not be a digit. The dot is only allowed to meet the MCS-51
notation of register bits and should - as far as possible - not be
used in own symbol names. To separate symbol names in any case the
underline (<tt>_</tt>) and not the dot (<tt>.</tt>) should be used .
</p><p>
AS is by default not case-sensitive, i.e. it does not matter whether
one uses upper or lower case characters. The command line switch<tt>
U</tt> however allows to switch AS into a mode where upper and lower
case makes a difference. The predefined symbol<tt> CASESENSITIVE</tt>
signifies whether AS has been switched to this mode: TRUE means
case-sensitiveness, and FALSE its absence.
</p><p>
Table <a href="#ref_TabPredefined">2.5</a> shows the most important
symbols which are predefined by AS.

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">TRUE<br>
FALSE<br>
CONSTPI<br>
VERSION<br>
<br>
ARCHITECTURE<br>
<br>
<br>
DATE<br>
TIME<br>
MOMCPU<br>
<br>
MOMFILE<br>
MOMLINE<br>
MOMPASS<br>
MOMSECTION<br>
<br>
 *, $ resp. PC</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">logically ''true''<br>
logically ''false''<br>
Pi (3.1415.....)<br>
version of AS in BCD-coding,<br>
e.g. 1331 hex for version 1.33p1<br>
target platform AS was compiled for, in<br>
the style processor-manufacturer-operating<br>
system<br>
date and<br>
time of the assembly (start)<br>
current target CPU<br>
(see the CPU instruction)<br>
current source file<br>
line number in source file<br>
number of the currently running pass<br>
name of the current section<br>
or an empty string<br>
current value of program counter</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.5: Predefined Symbols<a name="ref_TabPredefined"></a>
</center><p>

<b> CAUTION!</b> While it does not matter in case-sensitive mode
which combination of upper and lower case to use to reference
predefined symbols, one has to use exactly the version given above
(only upper case) when AS is in case-sensitive mode!
</p><p>
Additionally some pseudo instructions define symbols that reflect the
value that has been set with these instructions. Their descriptions
are explained at the individual commands belonging to them.
</p><p>
A hidden feature (that has to be used with care) is that symbol names
may be assembled from the contents of string symbols. This can be
achieved by framing the string symbol's name with curly braces and
inserting it into the new symbol's name. This allows for example to
define a symbol's name based on the value of another symbol:
</p><pre>
cnt             set     cnt+1
temp            equ     "\{CNT}"
                jnz     skip{temp}
                .
                .
skip{temp}:     nop

</pre>
<b>CAUTION:</b> The programmer has to assure that only valid symbol
names are generated!
<p>
A complete list of all symbols predefined by AS can be found in
appendix <a href="#ref_AppInternSyms">E</a>.
</p><p>
Apart from its value, every symbol also owns a marker which signifies
to which<em> segment</em> it belongs. Such a distinction is mainly
needed for processors that have more than one address space. The
additional information allows AS to issue a warning when a wrong
instruction is used to access a symbol from a certain address space.
A segment attribute is automatically added to a symbol when is gets
defined via a label or a special instruction like<tt> BIT</tt>; a
symbol defined via the ''allround instructions''<tt> SET</tt>
resp.<tt> EQU</tt> is however ''typeless'', i.e. its usage will never
trigger warnings. A symbol's segment attribute may be queried via the
buit-in function<tt> SYMTYPE</tt>, e.g.:
</p><pre>
Label:
        .
        .
Attr    equ     symtype(Label)  ; results in 1

</pre>
The individual segment types have the assigned numbers listed in
table <a href="#ref_TabSegNums">2.6</a>. Register symbols which do
not really fit into the order of normal symbols are explained in
section <a href="#ref_SectRegSyms">2.12</a>. The<tt> SYMTYPE</tt>
function delivers -1 as result when called with an undefined symbol
as argument. However, if all you want to know is whether a symbol is
defined or not, you may as well use the<tt> DEFINED</tt> function.

<center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">segment</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">return value</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">&lt;none&gt;<br>
CODE<br>
DATA<br>
IDATA<br>
XDATA<br>
YDATA<br>
BITDATA<br>
IO<br>
REG<br>
ROMDATA<br>
EEDATA<br>
&lt;Register Symbol&gt;</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">0<br>
1<br>
2<br>
3<br>
4<br>
5<br>
6<br>
7<br>
8<br>
9<br>
10<br>
128</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.6: return values of the<tt> SYMTYPE</tt> function<a name="ref_TabSegNums"></a>
</center><p>

</p><p>

</p><h2><a name="sect_2_8_">2.8. Temporary Symbols</a></h2>
<p>
Especially when dealing with programs that contain sequences of loops
of if-like statements, one is continuously faced with the problem of
inventing new names for labels - labels of which you know exactly
that you will never need to reference them again afterwards and you
really would like to get 'rid' of them somehow. A simple solution if
you don't want to swing the large hammer of sections (see chapter <a href="#ref_ChapLocSyms">3.8</a>) are<em> temporary</em> symbols which
remain valid as long as a new, non-temporary symbol gets defined.
Other assemblers offer a similar mechanism which is commonly referred
as 'local symbols'; however, for the sake of a better distinction, I
want to stay with the term 'temporary symbols'. AS knows three
different types of temporary symbols, in the hope to offer everyone
'switching' to AS a solution that makes conversion as easy as
possible. However, practically every assembler has its own
interpretation of this feature, so there will be only few cases where
a 1:1 solution for existing code:
</p><p>

</p><h2><a name="sect_2_9_">2.9. Named Temporary Symbols</a></h2>
<p>
A symbol whose name starts with two dollar signs (something that is
neither allowed for non-temporary symbols nor for constants) is a
named temporary symbol. AS keeps an internal counter which is reset
to 0 before assembly begins and which gets incremented upon every
definition of a non-temporary symbol. When a temporary symbol is
defined or referenced, both leading dollar signs are discarded and
the counter's current value is appended. This way, one regains the
used symbol names with every definition of a non-temporary symbol -
but you also cannot reach the previously symbols any more! Temporary
symbols are therefore especially suited for usage in small
instruction blocks, typically a dozen of machine instructions,
definitely not more than one screen. Otherwise, one easily gets
confused...
</p><p>
Here is a small example:
</p><pre>
$$loop: nop
        dbra    d0,$$loop

split:

$$loop: nop
        dbra    d0,$$loop

</pre>
Without the non-temporary label between the loops, of course an error
message about a double-defined symbol would be the result.
<p>

</p><h3><a name="sect_2_9_1_">2.9.1. Nameless Temporary Symbols</a></h3>
<p>
For all those who regard named temporary symbols still as too
complicated, there is an even simpler variant: If one places a single
puls or minus sign as a label, this is converted to symbol names
of<tt> __forwnn</tt> respectively<tt> __backmm</tt>, with<tt> nn</tt>
respectively<tt> mm</tt> being counters that start counting at zero.
Those symbols are referenced via the special names<tt> - -- ---</tt>
respectively<tt> + ++ +++</tt>, which refer to the three last 'minus
symbols' and the next three 'plus symbols'. Therefore, the selection
between these two variants depends on whether one wants to forward-
or backward-reference a symbol.
</p><p>
Apart from plus and minus,<em> defining</em> nameless temporary
symbols also exists in a third variant, namely a slash (/). A
temporary symbol defined in this way may be referenced both backward
and forward, i.e. it is treated either as a plus or a minus,
depending on the way it is being referenced.
</p><p>
Nameless temporary symbols are usually used in constructs that fit on
one screen page, like skipping a few machine instructions or tight
loops - things would becone to puzzling otherwise (this only a good
advice, however...). An example for this is the following piece of
code, this time as 65xx code:
</p><pre>
        cpu     6502

-       ldx     #00
-       dex
        bne     -           ; branch to 'dex'
        lda     RealSymbol
        beq     +           ; branch to 'bne --'
        jsr     SomeRtn
        iny
+       bne     --          ; branch to 'ldx #00'

SomeRtn:
        rts

RealSymbol:
        dfs     1

  	inc	ptr
   	bne 	+      	    ; branch to 'tax'
   	inc 	ptr+1
+ 	tax

 	bpl 	++     	    ; branch to 'dex'
   	beq 	+      	    ; branch forward to 'rts'
   	lda 	#0
/  	rts            	    ; slash used as wildcard.
+ 	dex
   	beq 	-           ; branch backward to 'rts'

ptr:	dfs	2

</pre>
<p>

</p><h3><a name="sect_2_9_2_">2.9.2. Composed Temporary Symbols</a></h3>
<p>
This is maybe the type of temporary symbols that is nearest to the
concept of local symbols and sections. Whenever a symbol's name
begins with a dot (.), the symbol is not directly stored with this
name in the symbol table. Instead, the name of the most
recently-defined symbol not beginning with a dot is prepended to the
symbols name. This way, 'non-dotted' symbols take the role of section
separators and 'dotted' symbol names may be reused after a
'non-dotted' symbol has been defined. Take a look at the following
little example:
</p><pre>
proc1:				; non-temporary symbol 'proc1'

.loop	moveq	#20,d0		; actually defines 'proc1.loop'
	dbra	d0,.loop
	rts

proc2:				; non-temporary symbol 'proc2'

.loop	moveq	#10,d1		; actually defines 'proc2.loop'
	jsr	proc1
	dbra	d1,.loop
	rts

</pre>
Note that it is still possible to access all temporary symbols, even
without being in the same 'area', by simply using the composed name
(like 'proc2.loop' in the previous example).
<p>
It is principally possible to combine composed temporary symbols with
sections, which makes them also to local symbols. Take however into
account that the most recent non-temporary symbol is not stored
per-section, but simply globally. This may change however in a future
version, so one shouldn't rely on the current behaviour.
</p><p>

</p><h2><a name="sect_2_10_">2.10. Formula Expressions</a></h2>
<p>
In most places where the assembler expects numeric inputs, it is
possible to specify not only simple symbols or constants, but also
complete formula expressions. The components of these formula
expressions can be either single symbols and constants. Constants may
be either integer, floating point, or string constants.
</p><p>

</p><h3><a name="sect_2_10_1_">2.10.1. Integer Constants</a></h3>
<a name="ref_SectIntConsts"></a>
<p>
Integer constants describe non-fractional numbers. They are witten as
a sequence of digits. This may be done in different numbering systems
(see table <a href="#ref_TabSystems">2.7</a>).
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT"></th>
<th valign="TOP" nowrap="nowrap" align="CENTER">Intel Mode</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">Motorola Mode</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">C Mode</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">IBM Mode</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">Decimal<br>
Hex<br>
<i> Ident</i><br>
<br>
Binary<br>
<i> Ident</i><br>
Octal<br>
<i> Ident</i><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">Direct<br>
Suffix H<br>
<tt> hexh</tt><br>
<br>
Suffix B<br>
<tt> binb</tt><br>
Suffix O or Q<br>
<tt> octo</tt><br>
<tt> octq</tt></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">Direct<br>
Prefix $<br>
<tt> $hex</tt><br>
<br>
Prefix %<br>
<tt> %bin</tt><br>
Prefix @<br>
<tt> @oct</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">Direct<br>
Prefix 0x<br>
<tt> 0xhex</tt><br>
<br>
Prefix 0b<br>
<tt> 0bbin</tt><br>
Prefix 0<br>
<tt> 0oct</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">Direct<br>
X'..' or H'..'<br>
<tt> x'hex'</tt><br>
<tt> h'hex'</tt><br>
O'..'<br>
<tt> b'bin'</tt><br>
B'..'<br>
<tt> o'oct'</tt><br>
</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.7: Defined Numbering Systems and Notations<a name="ref_TabSystems"></a>
</center><p>

In case the numbering system has not been explicitly stated by adding
the special control characters listed in the table, AS assumes the
base given with the<tt> RADIX</tt> statement (which has itself 10 as
default). This statement allows to set up 'unusual' numbering
systems, i.e. others than 2, 8, 10, or 16.
</p><p>
Valid digits are numbers from 0 to 9 and letters from A to Z (value
10 to 35) up to the numbering system's base minus one. The usage of
letters in integer constants however brings along some ambiguities
since symbol names also are sequences of numbers and letters: a
symbol name must not start with a character from 0 to 9. This means
that an integer constant which is not clearly marked a such with a
special prefix character never may begin with a letter. One has to
add an additional, otherwise superfluous zero in front in such cases.
The most prominent case is the writing of hexadecimal constants in
Intel mode: If the leftmost digit is between A and F, the trailing H
doesn't help anything, an additional 0 has to be prefixed (e.g. 0F0H
instead of F0H). The Motorola and C syntaxes whis both mark the
numbering system at the front of a constant do not have this problem.
</p><p>
Quite tricky is furthermore that the higher the default numbering
system set via<tt> RADIX</tt> becomes, the more letters used to
denote numbering systems in Intel and C syntax become 'eaten'. For
example, you cannot write binary constants anymore after a<tt> RADIX
16</tt>, and starting at<tt> RADIX 18</tt>, the Intel syntax even
doesn't allow to write hexadecimal constants any more. Therefore<b>
CAUTION!</b>
</p><p>
Appendix <a href="#ref_SectPseudoInst">D</a> lists which syntax is
used by which target by default. Independent of this default, there
is always the option to add or delete individual syntax variants via
the<tt> INTSYNTAX</tt> instruction (see section <a href="#ref_SectINTSYNTAX">3.9.6</a>). The names listed as<i>
Ident</i>, prefixed with a plus or minus sign, serve as arguments to
this instruction.
</p><p>
The<tt> RELAXED</tt> instruction (see section <a href="#ref_SectRELAXED">3.9.7</a>) serves as a sort 'global enable
switch': in relaxed mode, all notations may be used, independent of
the selected target processor. The result is that an arbitrary syntax
may be used (possibly loosing compatibility to standard assemblers).
</p><p>
Both<tt> INTSYNTAX</tt> and<tt> RELAXED</tt> specifically enable
usage of the 'IBM syntax' for all targets, which is sometimes found
on other assemblers:
</p><p>
This notation puts the actual value into apostrophes and prepends the
numbering system ('x' or 'h' for hexadecimal, 'o' for octal and 'b'
for binary). So, the integer constant 305419896 can be written in the
following ways:
</p><pre>
 x'12345678'
 h'12345678'
 o'2215053170'
 b'00010010001101000101011001111000'

</pre>
Another variant of this notation for some targets is to leave away
the closing apostrophe, to allow simpler porting of existing code. It
is not recommended for new programs.
<p>

</p><h3><a name="sect_2_10_2_">2.10.2. Floating Point Constants</a></h3>
<p>
Floating point constants are to be written in the usual scientific
notation, which is known in the most general form:
</p><pre>
 [-]&lt;integer digits&gt;[.post decimal positions][E[-]exponent]

</pre>
<b>CAUTION!</b> The assembler first tries to interprete a constant as
an integer constant and makes a floating-point format try only in
case the first one failed. If someone wants to enforce the evaluation
as a floating point number, this can be done by dummy post decimal
positions, e.g.<tt> 2.0</tt> instead of<tt> 2</tt>.
<p>

</p><h3><a name="sect_2_10_3_">2.10.3. String Constants</a></h3>
<a name="ref_SectStringConsts"></a>
<p>
String constants have to be enclosed in single or double quotation
marks. In order to make it possible to include quotation marks or
special characters in string constants, an ''escape mechanism'' has
been implemented, which should sound familiar for C programmers:
</p><p>
The assembler understands a backslash (\) with a following decimal
number of three digits maximum in the string as a character with the
according decimal ASCII value. The numerical value may alternitavely
be written in hexadecimal or octal notation if it is prefixed with an
x resp. a 0. In case of hexadecimal notation, the maximum number of
digits is limited to 2. For example, it is possible to include an ETC
character by writing<tt>\3</tt>. But be careful with the definition
of NUL characters! The C version currently uses C strings to store       
strings internally. As C strings use a NUL character for termination,
the usage of NUL characters in strings is currently not portable!
</p><p>
Some frequently used control characters can also be reached with the
following abbreviations:
</p><pre>
\b : Backspace           \a : Bell         \e : Escape
\t : Tabulator           \n : Linefeed     \r : Carriage Return
\\ : Backslash           \' or \H : Apostrophe
\" or \I : Quotation marks

</pre>
Both upper and lower case characters may be used for the
identification letters.
<p>
By means of this escape character, you can even work formula
expressions into a string, if they are enclosed by curly braces: e.g.
</p><pre>
     message "root of 81 : \{sqrt(81)}"

</pre>
results in
<pre>
              root of 81 : 9

</pre>
AS chooses with the help of the formula result type the correct
output format, further string constants, however, are to be avoided
in the expression. Otherwise the assembler will get mixed up at the
transformation of capitals into lower case letters. Integer results
will by default be written in hexadecimal notation, which may be
changed via the<tt> OUTRADIX</tt> instruction.
<p>
Except for the insertion of formula expressions, you can use this
''escape-mechanism'' as well in ASCII defined integer constants, like
this:
</p><pre>
     move.b   #'\n',d0

</pre>
However, everything has its limits, because the parser with higher
priority, which disassembles a line into op-code and parameters, does
not know what it is actually working with, e.g. here:
<pre>
     move.l   #'\'abc',d0

</pre>
After the third apostrophe, it will not find the comma any more,
because it presumes that it is the start of a further character
constant. An error message about a wrong parameter number is the
result. A workaround would be to write e.g., \i instead of \'.
<p>

</p><h3><a name="sect_2_10_4_">2.10.4. String to Integer Conversion and Character Constants</a></h3>
<p>
Earlier versions of AS strictly distinguished between character
strings and so-called ''character constants'': At first glance, a
character constant looks like a string, the characters are however
enclosed in single instead of double quotation marks. Such an object
had the data type 'Integer', i.e. it represented a number with the
value given by the (ASCII) code of the character, and it was
something completely different:
</p><p>
</p><pre>
   move.b   #65,d0
   move.b   #'A',d0      ; equal to first instruction
   move.b   #"A",d0      ; not allowed in older versions of AS!

</pre>
<p>
This strict differentiation<em> no longer exists</em>, so it is
irrelevant whether single or double quotes are used. If an integer
value is expected as argument, and a string is used, the conversion
via the character's (ASCII) value is done ''on the fly'' at this
place. This means that in the example given,<em> all three lines</em>
result in the same machine code.
</p><p>
Such an implicit conversion to integer values also take place for
strings consisting of multiple constancs, which are sometimes called
''multi character constants'':
</p><pre>
'A'    ==$41
'AB'   ==$4142
'ABCD' ==$41424344

</pre>
Multi character constants are the only case where using single or
double quotes still makes a difference. Many targets define pseudo
instructions to dispose constants in memory, and which accept
different data types. In such a case, it is still necessary to use
double quotes if a character string shall be placed in memory:
<pre>
    dc.w    "ab"  ; disposes two words (0x0041,0x0042)
    dc.w    'ab'  ; disposes one word (0x4142)

</pre>
Important: using the correct quotation is not necessary if the
character string is longer than the used operand size, which is two
characters or 16 bits in this example.
<p>

</p><h3><a name="sect_2_10_5_">2.10.5. Evaluation</a></h3>
<p>
The calculation of intermediary results within formula expressions is
always done with the highest available resolution, i.e. 32 or 64 bits
for integer numbers, 80 bit for floating point numbers and 255
characters for strings. An possible test of value range overflows is
done only on the final result.
</p><p>
The portable C version only supports floating point values up to 64      
bits (resulting in a maximum value of roughly 10<sup> 308</sup>), but
in turn features integer lengths of 64 bits on some platforms.
</p><p>

</p><h3><a name="sect_2_10_6_">2.10.6. Operators</a></h3>
<p>
The assembler provides the operands listed in table <a href="#ref_TabOps">2.8</a> for combination.

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="CENTER">operand</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">function</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">#operands</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">integer</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">float</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">string</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">rank</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="CENTER">&lt;&gt;<br>
&gt;=<br>
&lt;=<br>
&lt;<br>
&gt;<br>
=<br>
==<br>
<br>
!!<br>
||<br>
&amp;&amp;<br>
  ~~ <br>
<br>
-<br>
+<br>
#<br>
/<br>
  * <br>
  ^ <br>
<br>
!<br>
|<br>
&amp;<br>
&gt;&lt;<br>
&gt;&gt;<br>
&lt;&lt;<br>
  ~ </td>
<td valign="TOP" nowrap="nowrap" align="LEFT">inequality<br>
greater or equal<br>
less or equal<br>
truly smaller<br>
truly greater<br>
equality<br>
alias for =<br>
<br>
log. XOR<br>
log. OR<br>
log. AND<br>
log. NOT<br>
<br>
difference<br>
sum<br>
modulo division<br>
quotient<br>
product<br>
power<br>
<br>
binary XOR<br>
binary OR<br>
binary AND<br>
mirror of bits<br>
log. shift right<br>
log. shift left<br>
binary NOT</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2<br>
2<br>
2<br>
2<br>
2<br>
2<br>
<br>
<br>
2<br>
2<br>
2<br>
1<br>
<br>
2<br>
2<br>
2<br>
2<br>
2<br>
2<br>
<br>
2<br>
2<br>
2<br>
2<br>
2<br>
2<br>
1</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
<br>
<br>
yes<br>
yes<br>
yes<br>
yes<br>
<br>
yes<br>
yes<br>
yes<br>
yes*)<br>
yes<br>
yes<br>
<br>
yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
yes</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
<br>
<br>
no<br>
no<br>
no<br>
no<br>
<br>
yes<br>
yes<br>
no<br>
yes<br>
yes<br>
yes<br>
<br>
no<br>
no<br>
no<br>
no<br>
no<br>
no<br>
no</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
yes<br>
<br>
<br>
no<br>
no<br>
no<br>
no<br>
<br>
no<br>
yes<br>
no<br>
no<br>
no<br>
no<br>
<br>
no<br>
no<br>
no<br>
no<br>
no<br>
no<br>
no</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">14<br>
14<br>
14<br>
14<br>
14<br>
14<br>
<br>
<br>
13<br>
12<br>
11<br>
2<br>
<br>
10<br>
10<br>
9<br>
9<br>
9<br>
8<br>
<br>
7<br>
6<br>
5<br>
4<br>
3<br>
3<br>
1</td>
</tr>
<tr align="LEFT">
<td colspan="7" valign="TOP" nowrap="nowrap" align="CENTER">*) remainder will be discarded</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.8: Operators Predefined by AS<a name="ref_TabOps"></a>
</center><p>

''Rank'' is the priority of an operator at the separation of
expressions into subexpressions. The operator with the highest rank
will be evaluated at the very end. The order of evaluation can be
defined by new bracketing.
</p><p>
The compare operators deliver TRUE in case the condition fits, and
FALSE in case it doesn't. For the logical operators an expression is
TRUE in case it is not 0, otherwise it is FALSE.
</p><p>
The mirroring of bits probably needs a little bit of explanation: the
operator mirrors the lowest bits in the first operand and leaves the
higher priority bits unchanged. The number of bits which is to be
mirrored is given by the right operand and may be between 1 and 32 .
</p><p>
A small pitfall is hidden in the binary complement: As the
computation is always done with 32 resp. 64 bits, its application on
e.g. 8-bit masks usually results in values taht do not fit into 8-bit
numbers any more due to the leading ones. A binary AND with a fitting
mask is therefore unavoidable!
</p><p>

</p><h3><a name="sect_2_10_7_">2.10.7. Functions</a></h3>
<p>
In addition to the operators, the assembler defines another line of
primarily transcendental functions with floating point arguments
which are listed in tables <a href="#ref_TabFuncs1">2.9</a> and <a href="#ref_TabFuncs2">2.10</a>.

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">argument</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">result</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">SQRT<br>
<br>
SIN<br>
COS<br>
TAN<br>
COT<br>
<br>
ASIN<br>
ACOS<br>
ATAN<br>
ACOT<br>
<br>
EXP<br>
ALOG<br>
ALD<br>
SINH<br>
COSH<br>
TANH<br>
COTH<br>
<br>
LN<br>
LOG<br>
LD<br>
ASINH<br>
ACOSH<br>
ATANH<br>
ACOTH<br>
<br>
INT</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">square root<br>
<br>
sine<br>
cosine<br>
tangent<br>
cotangent<br>
<br>
inverse sine<br>
inverse cosine<br>
inverse tangent<br>
inverse cotangent<br>
<br>
exponential function<br>
10 power of argument<br>
2 power of argument<br>
hyp. sine<br>
hyp. cosine<br>
hyp. tangent<br>
hyp. cotangent<br>
<br>
nat. logarithm<br>
dec. logarithm<br>
bin. logarithm<br>
inv. hyp. Sine<br>
inv. hyp. Cosine<br>
inv. hyp. Tangent<br>
inv. hyp. Cotangent<br>
<br>
integer part</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">arg &gt;= 0<br>
<br>
arg in R<br>
arg in R<br>
arg &lt;&gt; (2n+1)*(Pi)/(2)<br>
arg &lt;&gt; n*Pi<br>
<br>
| arg | &lt;= 1<br>
| arg | &lt;= 1<br>
arg in R<br>
arg in R<br>
<br>
arg in R<br>
arg in R<br>
arg in R<br>
arg in R<br>
arg in R<br>
arg in R<br>
arg &lt;&gt; 0<br>
<br>
arg &gt; 0<br>
arg &gt; 0<br>
arg &gt; 0<br>
arg in R<br>
arg &gt;= 1<br>
arg &lt; 1<br>
arg &gt; 1<br>
<br>
arg in R</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">floating point<br>
<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
floating point<br>
<br>
floating point</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">BITCNT<br>
FIRSTBIT</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">number of one's<br>
lowest 1-bit</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">integer<br>
integer</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">integer<br>
integer</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.9: Functions Predefined by AS - Part 1 (Integer and Floating
           Point Functions<a name="ref_TabFuncs1"></a>
</center><p>


</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">argument</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">result</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LASTBIT<br>
BITPOS<br>
<br>
SGN<br>
<br>
ABS<br>
<br>
TOUPPER<br>
TOLOWER<br>
<br>
UPSTRING<br>
<br>
<br>
<br>
LOWSTRING<br>
<br>
<br>
<br>
STRLEN<br>
<br>
<br>
SUBSTR<br>
<br>
<br>
CHARFROMSTR<br>
<br>
STRSTR<br>
<br>
VAL<br>
<br>
EXPRTYPE<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">highest 1-bit<br>
unique 1-bit<br>
<br>
sign (0/1/-1)<br>
<br>
absolute value<br>
<br>
matching capital<br>
matching lower case<br>
<br>
changes all<br>
characters<br>
into capitals<br>
<br>
changes all<br>
characters<br>
into to lower case<br>
<br>
returns the length<br>
of a string<br>
<br>
extracts parts of a<br>
string<br>
<br>
extracts a character<br>
from a string<br>
searches a substring<br>
in a string<br>
evaluates contents<br>
as expression<br>
delivers type of<br>
argument<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">integer<br>
integer<br>
<br>
floating point<br>
or integer<br>
integer or<br>
floating point<br>
integer<br>
integer<br>
<br>
string<br>
<br>
<br>
<br>
string<br>
<br>
<br>
<br>
string<br>
<br>
<br>
string,<br>
integer,<br>
integer<br>
string,<br>
integer<br>
string,<br>
string<br>
string<br>
<br>
integer,<br>
float,<br>
string</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">integer<br>
integer<br>
<br>
integer<br>
<br>
integer or<br>
floating point<br>
integer<br>
integer<br>
<br>
string<br>
<br>
<br>
<br>
string<br>
<br>
<br>
<br>
integer<br>
<br>
<br>
string<br>
<br>
<br>
integer<br>
<br>
integer<br>
<br>
depends on<br>
argument<br>
0<br>
1<br>
2</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 2.10: Functions Predefined by AS - Part 2 (Integer and String
            Functions<a name="ref_TabFuncs2"></a>
</center><p>

The functions<tt> FIRSTBIT</tt>,<tt> LASTBIT</tt>, and<tt>
BITPOS</tt> return -1 as result if no resp. not exactly one bit is
set.<tt> BITPOS</tt> additionally issues an error message in such a
case.
</p><p>
The string function<tt> SUBSTR</tt> expects the source string as
first parameter, the start position as second and the number of
characters to be extracted as third parameter (a 0 means to extract
all characters up to the end). Similarly,<tt> CHARFROMSTR</tt>
expects the source string as first argument and the character
position as second argument. In case the position argument is larger
or equal to the source string's length,<tt> SUBSTR</tt> returns an
empty string while<tt> CHARFROMSTR</tt> returns -1. A position
argument smaller than zero is treated as zero by<tt> SUBSTR</tt>,
while<tt> CHARFROMSTR</tt> will return -1 also in this case.
</p><p>
Here is an example how to use these both functions. The task is to
put a string into memory, with the string end being signified by a
set MSB in the last character:
</p><p>
</p><pre>
dbstr   macro   arg
        if      strlen(arg) &gt; 1
         db     substr(arg, 0, strlen(arg) - 1)
        endif
        if      strlen(arg) &gt; 0
         db     charfromstr(arg, strlen(arg) - 1) | 80h
        endif
        endm

</pre>
<p>
<tt> STRSTR</tt> returns the first occurence of the second string
within the first one resp. -1 if the search pattern was not found.
Similarly to<tt> SUBSTR</tt> and<tt> CHARFROMSTR</tt>, the first
character has the position 0.
</p><p>
If a function expects floating point arguments, this does not mean it
is impossible to write e.g.
</p><pre>
    sqr2 equ sqrt(2)

</pre>
In such cases an automatic type conversion is engaged. In the reverse
case the<tt> INT</tt>-function has to be applied to convert a
floating point number to an integer. When using this function, you
have to pay attention that the result produced always is a signed
integer and therefore has a value range of approximately +/-2.0E9.
<p>
When AS is switched to case-sensitive mode, predefined functions may
be accessed with an arbitrary combination of upper and lower case (in
contrast to predefined symbols). However, in the case of user-defined
functions (see section <a href="#ref_SectFUNCTION">3.4.9</a>), a
distinction between upper and lower case is made. This has e.g. the
result that if one defines a function<tt> Sin</tt>, one can
afterwards access this function via<tt> Sin</tt>, but all other
combinations of upper and lower case will lead to the predefined
function.
</p><p>
For a correct conversion of lower case letters into capital letters a    
DOS version &gt;= 3.30 is required.
</p><p>

</p><h2><a name="sect_2_11_">2.11. Forward References and Other Disasters</a></h2>
<a name="ref_ForwRefs"></a>
<p>
This section is the result of a significant amount of hate on the
(legal) way some people program. This way can lead to trouble in
conjunction with AS in some cases. The section will deal with
so-called 'forward references'. What makes a forward reference
different from a usual reference? To understand the difference, take
a look at the following programming example (please excuse my bias
for the 68000 family that is also present in the rest of this
manual):
</p><pre>
        move.l  #10,d0
loop:   move.l  (a1),d1
        beq     skip
        neg.l   d1
skip:   move.l  d1,(a1+)
        dbra    d0,loop

</pre>
If one overlooks the loop body with its branch statement, a program
remains that is extremely simple to assemble: the only reference is
the branch back to the body's beginning, and as an assembler
processes a program from the beginning to the end, the symbol's value
is already known before it is needed the first time. If one has a
program that only contains such backward references, one has the nice
situation that only one pass through the source code is needed to
generate a correct and optimal machine code. Some high level
languages like Pascal with their strict rule that everything has to
be defined before it is used exploit exactly this property to speed
up the compilation.
<p>
Unfortunately, things are not that simple in the case of assembler,
because one sometimes has to jump forward in the code or there are
reasons why one has to move variable definitions behind the code. For
our example, this is the case for the conditional branch that is used
to skip over another instruction. When the assembler hits the branch
instruction in the first pass, it is confronted with the situation of
either leaving blank all instruction fields related to the target
address or offering a value that ''hurts noone'' via the formula
parser (which has to evaluate the address argument). In case of a
''simple'' assembler that supports only one target architecture with
a relatively small number of instructions to treat, one will surely
prefer the first solution, but the effort for AS with its dozens of
target architectures would have become extremely high. Only the
second way was possible: If an unknown symbol is detected in the
first pass, the formula parser delivers the program counter's current
value as result! This is the only value suitable to offer an address
to a branch instruction with unknown distance length that will not
lead to errors. This answers also a frequently asked question why a
first-pass listing (it will not be erased e.g. when AS does not start
a second pass due to additional errors) partially shows wrong
addresses in the generated binary code - they are the result of
unresolved forward references.
</p><p>
The example listed above however uncovers an additional difficulty of
forward references: Depending on the distance of branch instruction
and target in the source code, the branch may be either long or
short. The decision however about the code length - and therefore
about the addresses of following labels - cannot be made in the first
pass due to missing knowledge about the target address. In case the
programmer did not explicitly mark whether a long or short branch
shall be used, genuine 2-pass assemblers like older versions of MASM
from Microsoft ''solve'' the problem by reserving space for the
longest version in the first pass (all label addresses have to be
fixed after the first pass) and filling the remaining space with<tt>
NOP</tt>s in the second pass. AS versions up to 1.37 did the same
before I switched to the multipass principle that removes the strict
separation into two passes and allows an arbitrary number of passes.
Said in detail, the optimal code for the assumed values is generated
in the first pass. In case AS detects that values of symbols changed
in the second pass due to changes in code lengths, simply a third
pass is done, and as the second pass'es new symbol values might again
shorten or lengthen the code, a further pass is not impossible. I
have seen 8086 programs that needed 12 passes to get everything
correct and optimal. Unfortunately, this mechanism does not allow to
specify a maximum number passes; I can only advise that the number of
passes goes down when one makes more use of explicit length
specifications.
</p><p>
Especially for large programs, another situation might arise: the
position of a forward directed branch has moved so much in the second
pass relative to the first pass that the old label value still valid
is out of the allowed branch distance. AS knows of such situations
and suppresses all error messages about too long branches when it is
clear that another pass is needed. This works for 99% of all cases,
but there are also constructs where the first critical instruction
appears so early that AS had no chance up to now to recognize that
another pass is needed. The following example constructs such a
situation with the help of a forward reference (and was the reason
for this section's heading...):
</p><pre>
        cpu   6811

        org     $8000
        beq     skip
        rept    60
         ldd    Var
        endm
skip:   nop

Var     equ     $10

</pre>
Due to the address position, AS assumes long addresses in the first
pass for the<tt> LDD</tt> instructions, what results in a code length
of 180 bytes and an out of branch error message in the second pass
(at the point of the<tt> BEQ</tt> instruction, the old value of<tt>
skip</tt> is still valid, i.e. AS does not know at this point that
the code is only 120 bytes long in reality) is the result. The error
can be avoided in three different ways:
<ol>
<li>Explicitly tell AS to use short addressing for the<tt> LDD</tt>
    instructions (<tt>ldd &lt;Var</tt>)</li>
<li>Remove this damned, rotten forward reference and place the<tt>
    EQU</tt> statement at the beginning where it has to be (all
    right, I'm already calming down...)</li>
<li>For real die-hards: use the<tt> -Y</tt> command line option. This
    option tells AS to forget the error message when the address
    change has been detected. Not pretty, but...</li>
</ol>
Another tip regarding the<tt> EQU</tt> instruction: AS cannot know in
which context a symbol defined with<tt> EQU</tt> will be used, so
an<tt> EQU</tt> containing forward references will not be done at all
in the first pass. Thus, if the symbol defined with<tt> EQU</tt> gets
forward-referenced in the second pass:
<pre>
        move.l  #sym2,d0
sym2    equ     sym1+5
sym1    equ     0

</pre>
one gets an error message due to an undefined symbol in the second
pass...but why on earth do people do such things?
<p>
Admittedly, this was quite a lengthy excursion, but I thought it was
necessary. Which is the essence you should learn from this section?
</p><ol>
<li>AS always tries to generate the shortest code possible. A finite
    number of passes is needed for this. If you do not tweak AS
    extremely, AS will know no mercy...</li>
<li>Whenever sensible and possible, explicitly specify branch and address
    lengths. There is a chance of significantly reducing the number
    of passes by this.</li>
<li>Limit forward references to what is absolutely needed. You make your
    and AS's live much easier this way!</li>
</ol>
<p>

</p><h2><a name="sect_2_12_">2.12. Register Symbols</a></h2>
<a name="ref_SectRegSyms"></a><a name="index_register symbols_1"></a>
<p>
<em> valid for: PowerPC, M-Core, XGate, 4004/4040, MCS-48/(2)51,
80C16x, AVR, XS1, Z8, KCPSM, Mico8, MSP430(X), ST9, M16, M16C,
H8/300, H8/500, SH7x00, H16, i960, XA, 29K, TLCS-9000, KENBAK</em>
</p><p>
Sometimes it is desirable not only to assign symbolic names to memory
addresses or constants, but also to a register, to emphasize its
function in a certain program section. This is no problem for
processors that treat registers simply as another address space, as
this allows to use numeric expressions and one can use simple<tt>
EQU</tt>s to define such symbols. (e.g. for the MCS-96 or TMS70000).
However, for most processors, register identifiers are fixed literals
which are seperately treated by AS for speed reasons. Therefore,
registers symbols (sometime also called 'register aliases') are also
a separate type of symbols in the symbol table. Just like other
symbols, they may be defined or re-defined with<tt> EQU</tt> or<tt>
SET</tt>, and there is a specialized<tt> REG</tt> instruction which
accepts only symbols and expressions of this type.
</p><p>
On the other hand, register symbols are subject of a couple of
restrictions: the number of literals is limited and depends on the
selected target processor, and arithmetic operations are not possibl
eon registers A construct like tihs:
</p><pre>
myreg   reg     r17         ; definition of register symbol
        addi    myreg+1,3   ; does not work!

</pre>
is<em> not</em> valid. Simple assignments are however possible:
<pre>
myreg   reg     r17         ; definition of register symbol
myreg2  reg     myreg       ; myreg2 -&gt; r17

</pre>
Furthermore, forward references are even more critical than for other
types of symbols. If a symbol is not (yet) defined, AS does not know
which type it is going to have,a nd will decide for a plain integer
number. For most target processors, a number is the equivalent of
absolute memory addressing, and on most processors, usage of memory
operands is more limited than of registers. Depending on situation,
one will get an error message about a non-allowed addressing mode,
and no second pass will be started...
<p>
Analogous to ordinary symbols, register symbols are local to sections
and it is possible to access a register symbol from a specific
section by appending the section's name enclosed in brackets.
</p><p>

</p><h2><a name="sect_2_13_">2.13. Share File</a></h2>
<a name="ref_ChapShareMain"></a><a name="index_SHARED_2"></a>
<p>
This function is a by-product from the old pure-68000 predecessors of
AS, I have kept them in case someone really needs it. The basic
problem is to access certain symbols produced during assembly,
because possibly someone would like to access the memory of the
target system via this address information. The assembler allows to
export symbol values by means of<tt> SHARED</tt> pseudo commands (see
there). For this purpose, the assembler produces a text file with the
required symbols and its values in the second pass. This file may be
included into a higher-level language or another assembler program.
The format of the text file (C, Pascal or Assembler) can be set by
the command line switches<tt> p, c</tt> or,<tt> a</tt>.
</p><p>
<b> CAUTION!</b> If none of the switches is given, no file will be
generated and it makes no difference if<tt> SHARED</tt>-commands are
in the source text or not!
</p><p>
When creating a Sharefile, AS does not check if a file with the same
name already exists, such a file will be simply overwritten. In my
opinion a request does not make sense, because AS would ask at each
run if it should overwrite the old version of the Sharefile, and that
would be really annoying...
</p><p>

</p><h2><a name="sect_2_14_">2.14. Processor Aliases</a></h2>
<a name="ref_SectAlias"></a>
<p>
Common microcontroller families are like rabbits: They become more at
a higher speed than you can provide support for them. Especially the
development of processor cores as building blocks for ASICs and of
microcontroller families with user-definable peripherals has led to a
steeply rising number of controllers that only deviate from a
well-known type by a slightly modified peripheral set. But the
distinction among them is still important, e.g. for the design of
include files that only define the appropriate subset of peripherals.
I have struggled up to now to integrate the most important
reperesentatives of a processor family into AS (and I will continue
to do this), but sometimes I just cannot keep pace with the
development...there was an urgent need for a mechanism to extend the
list of processors by the user.
</p><p>
The result are processor aliases: the alias command line option
allows to define a new processor type, whose instruction set is equal
to another processor built into AS. After switching to this processor
via the<tt> CPU</tt> instruction, AS behaves exactly as if the
original processor had been used, with a single difference: the
variables<tt> MOMCPU</tt> resp.<tt> MOMCPUNAME</tt> are set to the
alias name, which allows to use the new name for differentiation,
e.g. in include files.
</p><p>
There were two reasons to realize the definition of aliases by the
command line and not by pseudo instructions: first, it would anyway
be difficult to put the alias definitions together with register
definitions into a single include file, because a program that wants
to use such a file would have to include it before and after the CPU
instruction - an imagination that lies somewhere between inelegant
and impossible. Second, the definition in the command line allows to
put the definitions in a key file that is executed automatically at
startup via the<tt> ASCMD</tt> variable, without a need for the
program to take any further care about this.
</p><p>

</p><h1><a name="sect_3_">3. Pseudo Instructions</a></h1>
<p>
Not all pseudo instructions are defined for all processors. A note
that shows the range of validity is therefore prepended to every
individual description.
</p><p>

</p><h2><a name="sect_3_1_">3.1. Definitions</a></h2>
<p>

</p><h3><a name="sect_3_1_1_">3.1.1. SET, EQU, and CONSTANT</a></h3>
<a name="index_SET_1"></a><a name="index_EQU_1"></a><a name="index_CONSTANT_1"></a>
<p>
<em> valid for: all processors,<tt> CONSTANT</tt> only for
KCPSM(3)</em>
</p><p>
<tt> SET</tt> and<tt> EQU</tt> allow the definition of typeless
constants, i.e. they will not be assigned to a segment and their
usage will not generate warnings because of segment mixing.<tt>
EQU</tt> defines constants which can not be modified (by<tt>
EQU</tt>) again, but<tt> SET</tt> permits the definition of
variables, which can be modified during the assembly. This is useful
e.g. for the allocation of resources like interrupt vectors, as shown
in the following example:
</p><pre>
VecCnt  set     0       ; somewhere at the beginning
        .
        .
        .
DefVec  macro   Name    ; allocate a new vector
Name    equ     VecCnt
VecCnt  set     VecCnt+4
        endm
        .
        .
        .
        DefVec  Vec1    ; results in Vec1=0
        DefVec  Vec2    ; results in Vec2=4

</pre>
constants and variables are internally stored in the same way, the
only difference is that they are marked as unchangeable if defined
via<tt> EQU</tt>. Trying to change a constant with<tt> SET</tt> will
result in an error message.
<p>
<tt> EQU/SET</tt> allow to define constants of all possible types,
e.g.
</p><pre>
IntTwo   equ    2
FloatTwo equ    2.0

</pre>
Some processors unfortunately have already a<tt> SET</tt>
instruction. For these targets,<tt> EVAL</tt> must be used instead
of<tt> SET</tt> if no differentiation via the argument count is
possible.
<p>
A simple equation sign may be used instead of<tt> EQU</tt>.
Similarly, one may simply write<tt> :=</tt> instead of<tt> SET</tt>
resp.<tt> EVAL</tt>. Furthermore, there is an 'alternate' syntax that
does not take the symbol's name from the label field, but instead
from the first argument. So for instance, it is valid to write:
</p><pre>
          EQU   IntTwo,2
          EQU   FloatTwo,2.0

</pre>
<p>
For compatibility reasons to the original assembler, the KCPSM target
also knows the<tt> CONSTANT</tt> statement, which - in contrast
to<tt> EQU</tt> - takes both name and value as argument. For example:
</p><pre>
      CONSTANT  const1, 2

</pre>
<tt> CONSTANT</tt> is however limited to integer constants.
<p>
Symbols defined with<tt> SET</tt> or<tt> EQU</tt> are typeless by
default, but optionally a segment name (<tt>CODE, DATA, IDATA, XDATA,
YDATA, BITDATA, IO</tt>, or<tt> REG</tt>) or<tt> MOMSEGMENT</tt> for
the currently active segment may be given as a second or thirsd
parameter, allowing to assign the symbol to a specific address space.
AS does not check at this point if the used address space exists on
the currently active target processor!
</p><p>
A little hidden extra feature allows to set the program counter
via<tt> SET</tt> or<tt> EQU</tt>, something one would ordinarily do
via<tt> ORG</tt>. To accomplish this, use the special value as symbol
name that may also be used to query the current program counter's
value. Depending on the selected target architecture, this is either
an asterisk, a dollar sign or<tt> PC</tt>.
</p><p>
In case the target architecture supports instruction attributes to
define the operand size (e.g. on 680x0), those are also allowed
for<tt> SET</tt> and<tt> EQU</tt>. The operand size will be stored
along with the symbol's value in the symbol table. Its use is
architecture-dependant.
</p><p>

</p><h3><a name="sect_3_1_2_">3.1.2. SFR and SFRB</a></h3>
<a name="index_SFR_1"></a><a name="index_SFRB_1"></a>
<p>
<em> valid for: various,<tt> SFRB</tt> only MCS-51</em>
</p><p>
These instructions act like<tt> EQU</tt>, but symbols defined with
them are assigned to the directly addressable data resp. I/O segment,
i.e. they are preferrably used for the definition of (as the name
lets guess) hardware registers mapped into the data res. I/O area.
The allowed range of values is equal to the range allowed for<tt>
ORG</tt> in the data segment (see section <a href="#ref_SectORG">3.2.1</a>). The difference between<tt> SFR</tt>
and<tt> SFRB</tt> is that<tt> SFRB</tt> marks the register as bit
addressable, which is why AS generates 8 additional symbols which
will be assigned to the bit segment and carry the names xx.0 to xx.7,
e.g.
</p><pre>
PSW     sfr     0d0h    ; results in PSW = D0H (data segment)

PSW     sfrb    0d0h    ; results in extra PSW.0 = D0H (bit)
                        ;               to PSW.7 = D7H (bit)

</pre>
The<tt> SFRB</tt> instruction is not any more defined for the 80C251
as it allows direct bit access to all SFRs without special bit
symbols; bits like<tt> PSW.0</tt> to<tt> PSW.7</tt> are automatically
present.
<p>
Whenever a bit-addressable register is defined via<tt> SFRB</tt>, AS
checks if the memory address is bit addressable (range 20h..3fh resp.
80h, 88h, 90h, 98h...0f8h). If it is not bit-addressable, a warning
is issued and the generated bit symbols are undefined.
</p><p>

</p><h3><a name="sect_3_1_3_">3.1.3. XSFR and YSFR</a></h3>
<a name="index_XSFR_1"></a><a name="index_YSFR_1"></a>
<p>
<em> valid for: DSP56xxx</em>
</p><p>
Also the DSP56000 has a few peripheral registers memory-mapped to the
RAM, but the affair becomes complicated because there are two data
areas, the X- and Y-area. This architecture allows on the one hand a
higher parallelism, but forces on the other hand to divide the
normal<tt> SFR</tt> instruction into the two above mentioned
variations. They works identically to<tt> SFR</tt>, just that<tt>
XSFR</tt> defines a symbol in the X- addressing space and YSFR a
corresponding one in the Y-addressing space. The allowed value range
is 0..$ffff.
</p><p>

</p><h3><a name="sect_3_1_4_">3.1.4. LABEL</a></h3>
<a name="index_LABEL_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
The function of the<tt> LABEL</tt> instruction is identical to<tt>
EQU</tt>, but the symbol does not become typeless, it gets the
attribute ''code''.<tt> LABEL</tt> is needed exactly for one purpose:
Labels are normally local in macros, that means they are not
accessible outside of a macro. With an<tt> EQU</tt> instruction you
could get out of it nicely, but the phrasing
</p><pre>
&lt;name&gt;  label   $

</pre>
generates a symbol with correct attributes.
<p>

</p><h3><a name="sect_3_1_5_">3.1.5. BIT</a></h3>
<a name="index_BIT_1"></a>
<p>
<em> valid for: MCS/(2)51, XA, 80C166, 75K0, ST9, AVR, S12Z, SX20/28,
H16, H8/300, H8/500, KENBAK, Padauk</em>
</p><p>
<tt> BIT</tt> serves to equate a single bit of a memory cell with a
symbolic name. This instruction varies from target platform to target
platform due to the different ways in which processors handle bit
manipulation and addressing:
</p><p>
The MCS/51 family has an own address space for bit operands. The
function of<tt> BIT</tt> is therefore quite similar to<tt> SFR</tt>,
i.e. a simple integer symbol with the specified value is generated
and assigned to the<tt> BDATA</tt> segment. For all other processors,
bit addressing is done in a two-dimensional fashion with address and
bit position. In these cases, AS packs both parts into an integer
symbol in a way that depends on the currently active target processor
and separates both parts again when the symbol is used. The latter is
is also valid for the 80C251: While an instruction like
</p><pre>
My_Carry bit    PSW.7

</pre>
would assign the value 0d7h to<tt> My_Carry</tt> on an 8051, a value
of 070000d0h would be generated on an 80C251, i.e. the address is
located in bits 0..7 and the bit position in bits 24..26. This
procedure is equal to the way the<tt> DBIT</tt> instruction handles
things on a TMS370 and is also used on the 80C166, with the only
difference that bit positions may range from 0..15:
<pre>
MSB     BIT     r5.15

</pre>
On a Philips XA, the bit's address is located in bits 0..9 just with
the same coding as used in machine instructions, and the 64K bank of
bits in RAM memory is placed in bits 16..23.
<p>
The<tt> BIT</tt> instruction of the 75K0 family even goes further: As
bit expressions may not only use absolute base addresses, even
expressions like
</p><pre>
bit1    BIT     @h+5.2

</pre>
are allowed.
<p>
The ST9 in turn allows to invert bits, what is also allowed in
the<tt> BIT</tt> instruction:
</p><pre>
invbit  BIT     r6.!3

</pre>
More about the ST9's<tt> BIT</tt> instruction can be found in the
processor specific hints.
<p>
In case of H16, note that the address and bit position arguments are
swapped. This was done to make the syntax of BIT consistent with the
machine instructions that maipulate individual bits.
</p><p>

</p><h3><a name="sect_3_1_6_">3.1.6. DBIT</a></h3>
<a name="index_DBIT_1"></a>
<p>
<em> valid for: TMS 370xxx</em>
</p><p>
Though the TMS370 series does not have an explicit bit segment,
single bit symbols may be simulated with this instruction.<tt>
DBIT</tt> requires two operands, the address of the memory cell that
contains the bit and the exact position of the bit in the byte. For
example,
</p><pre>
INT3        EQU  P019
INT3_ENABLE DBIT 0,INT3

</pre>
defines the bit that enables interrupts via the INT3 pin. Bits
defined this way may be used in the instructions<tt> SBIT0, SBIT1,
CMPBIT, JBIT0</tt>, and<tt> JBIT</tt>.
<p>

</p><h3><a name="sect_3_1_7_">3.1.7. DEFBIT and DEFBITB</a></h3>
<a name="index_DEFBIT_1"></a><a name="index_DEFBITB_1"></a>
<p>

</p><h4>S12Z</h4>
<p>
The S12Z family's processor core provides instructions to manipulate
individual bits in registers or memory cells. To conveniently address
bits in the CPU's I/O area (first 4 Kbytes of the address space), a
bit may be given a symbolic name. The bit is defined by its memory
address and the bit position:
</p><pre>
&lt;name&gt;         defbit[.size]   &lt;address&gt;,&lt;position&gt;

</pre>
The<tt> address</tt> must be located within the first 4 Kbytes, and
the operand size may be 8, 16, or 32 bits (<tt>size</tt>=b/w/l).
Consequently, the<tt> position</tt> may at most be 7, 15 or 31. If no
operand size is given, byte size (.b) is assumed. A bit defined this
way may be used as argument for the instructions<tt> BCLR, BSET,
BTGL, BRSET,</tt> and<tt> BRCLR</tt>:
<pre>
mybit   defbit.b  $200,4
        bclr.b    $200,#4
        bclr      mybit

</pre>
Both uses of<tt> bclr</tt> in this example generate identical code.
Since a bit defined this way ''knows'' its size, the size attribute
may be omitted when using it.
<p>
It is also possible to define bits that are located within a
structure's element:
</p><pre>
mystruct struct    dots
reg      ds.w      1
flag     defbit    reg,4
         ends

         org       $100
data     mystruct

         bset      data.flag  ; same as bset.w $100,#4

</pre>
<p>

</p><h4>Super8</h4>
<p>
Opposed to the 'classic' Z8, the Super8 core supports instructions to
operate on bits in working or general registers. ONe however has to
to regard that some of them can only operate on bits in one of the 16
working registers. The<tt> DEFBIT</tt> instruction allows to define
bits of either type:
</p><pre>
workbit defbit  r3,#4
slow    defbit  emt,#6

</pre>
Bits that have been defined this way may be used just like a argument
duple of register and bit position:
<pre>
        ldb     r3,emt,#6
        ldb     r3,slo          ; same result

        bitc    r3,#4
        bitc    workbit         ; same result

</pre>
<p>

</p><h4>Z8000</h4>
<p>
The Z8000 features instructions to set and clear bits, however they
cannot access addresses in I/O space. For this reason, both<tt>
DEFBIT</tt> and<tt> DEFBITB</tt> only allow to define bit objects in
memory space. The differentiation in operand size is important
because the Z8000 is a big endian processor: bit<em> n</em> of a 16
bit word at address<em> m</em> corresponds to bit<em> n</em> of an
8-bit byte at address<em> m+1</em>.
</p><p>

</p><h4>µPD7807...µPD7809</h4>
<p>
The lowest 16 bytes of the working area and special registers with an
address less than 16 are bit addressable.
</p><p>

</p><h3><a name="sect_3_1_8_">3.1.8. DEFBITFIELD</a></h3>
<a name="index_DEFBITFIELD_1"></a>
<p>
<em> valid for: S12Z</em>
</p><p>
The S12Z family's CPU core not only deals with individual bits, it is
also able to extract a field of consecutive bits from an 8/16/24/32
value or to insert a bit field into such a value. Similar to<tt>
DEFBIT</tt>, a bit field may be defined symbolically:
</p><pre>
&lt;Name&gt;     defbitfield[.size] &lt;address&gt;,&lt;width&gt;:&lt;position&gt;

</pre>
Opposed to individual bits, an operand size of 24 bits (.p) is also
alloweed. The range of<tt> position</tt> and<tt> width</tt> is
accordingly 0 to 23 resp. 1 to 24. It is also allowed to define bit
fields as parts of structures:
<pre>
mystruct struct      dots
reg      ds.w        1
clksel   defbitfield reg,4:8
         ends

         org       $100
data     mystruct

         bfext     d2,data.clksel ; fetch $100.w bits 4..11
                                  ; to D2 bits 0..7
         bfins     data.clksel,d2 ; insert D2 bits 0..7 into
                                  ; $100.w bits 4..11

</pre>
The internal representation of bits defined via<tt> DEFBIT</tt> is
equivalent to bit fields with a width of one. Therefore, a
symbolically defined bit may also be used as argument for<tt>
BFINS</tt> and<tt> BFEXT</tt>.
<p>

</p><h3><a name="sect_3_1_9_">3.1.9. PORT</a></h3>
<a name="index_PORT_1"></a>
<p>
<em> valid for: 8008/8080/8085/8086, XA, Z80, Z8000, 320C2x/5x,
TLCS-47, AVR, F8</em>
</p><p>
<tt> PORT</tt> works similar to<tt> EQU</tt>, just the symbol becomes
assigned to the I/O-address range. Allowed values are 0..7 for the
3201x and 8008, 0..15 for the 320C2x, 0..65535 for the 8086, Z8000,
and 320C5x, 0..63 for the AVR, and 0..255 for the rest.
</p><p>
Example : an 8255 PIO is located at address 20H:
</p><pre>
PIO_port_A port 20h
PIO_port_B port PIO_port_A+1
PIO_port_C port PIO_port_A+2
PIO_ctrl   port PIO_port_A+3

</pre>
<p>

</p><h3><a name="sect_3_1_10_">3.1.10. REG and NAMEREG</a></h3>
<a name="index_REG_1"></a><a name="index_NAMEREG_1"></a>
<p>
<em> valid for: 680x0, AVR, M*Core, ST9, 80C16x, Z8000, KCPSM<br>
(<tt> NAMEREG</tt> valid only for KCPSM(3)), LatticeMico8,
MSP430(X)</em>
</p><p>
Though it always has the same syntax, this instruction has a slightly
different meaning from processor to processor: If the processor uses
a separate addressing space for registers,<tt> REG</tt> has the same
effect as a simple<tt> EQU</tt> for this address space (e.g. for the
ST9).<tt> REG</tt> defines register symbols for all other processors
whose function is described in section <a href="#ref_SectRegSyms">2.12</a>.
</p><p>
<tt> NAMEREG</tt> exists for compatibility reasons to the original
KCPSM assembler. It has an identical function, however both register
and symbolic name are given as arguments, for example:
</p><pre>
     NAMEREG  s08, treg

</pre>
<p>

</p><h3><a name="sect_3_1_11_">3.1.11. LIV and RIV</a></h3>
<a name="index_LIV_1"></a><a name="index_RIV_1"></a>
<p>
<em> valid for: 8X30x</em>
</p><p>
<tt> LIV</tt> and<tt> RIV</tt> allow to define so-called ''IV bus
objects''. These are groups of bits located in a peripheral memory
cell with a length of 1 up to 8 bits, which can afterwards be
referenced symbolically. The result is that one does not anymore have
to specify address, position, and length separately for instructions
that can refer to peripheral bit groups. As the 8X30x processors
feature two peripheral address spaces (a ''left'' and a ''right''
one), there are two separate pseudo instructions. The parameters of
these instructions are however equal: three parameters have to be
given that specify address, start position and length. Further hints
for the usage of bus objects can be found in section <a href="#ref_8X30xSpec">4.23</a> .
</p><p>

</p><h3><a name="sect_3_1_12_">3.1.12. CHARSET</a></h3>
<a name="index_CHARSET_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
Single board systems, especially when driving LCDs, frequently use
character sets different to ASCII. So it is probably purely
coincidental that the umlaut coding corresponds with the one used by
the PC. To avoid error-prone manual encoding, the assembler contains
a translation table for characters which assigns a target character
to each source-code. To modify this table (which initial translates
1:1), one has to use the<tt> CHARSET</tt> instruction.<tt>
CHARSET</tt> may be used with different numbers and types of
parameters. If there is only a single parameter, it has to be a
string expression which is interpreted as a file name by AS. AS reads
the first 256 bytes from this table and copies them into the
translation table. This allows to activate complex, externally
generated tables with a single statement. For all other variants, the
first parameter has to be an integer in the range of 0 to 255 which
designates the start index of the entries to be modified in the
translation table. One or two parameters follow, giving the type of
modification:
</p><p>
A single additional integer modies exactly one entry. For example,
</p><blockquote>
    <tt> CHARSET 'ä',128</tt>
</blockquote>
means that the target system codes the 'ä' into the number 128
(80H). If however two more integers are given, the first one
describes the last entry to be modified, and the second the new value
of the first table entry. All entries up to the index end are loaded
sequentially. For example, in case that the target system does not
support lower-case characters, a simple
<pre>
        CHARSET 'a','z','A'

</pre>
translates all lower-case characters automatically into the matching
capital letters.
<p>
For the last variant, a string follows the start index and contains
the characters to be placed in the table. The last example therefore
may also be written as
</p><pre>
        CHARSET 'a',"ABCDEFGHIJKLMNOPQRSTUVWXYZ"

</pre>
<p>
<tt> CHARSET</tt> may also be called without any parameters, which
however has a drastical effect: the translation table is
reinitialized to its initial state, i.e. all character translations
are removed.
</p><p>
<b> CAUTION!</b><tt> CHARSET</tt> not only affects string constants
stored in memory, but also integer constants written as ''ASCII''.
This means that an already modified translation table can lead to
other results in the above mentioned examples!
</p><p>

</p><h3><a name="sect_3_1_13_">3.1.13. CODEPAGE</a></h3>
<a name="index_CODEPAGE_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
Though the<tt> CHARSET</tt> statement gives unlimited freedom in the
character assignment between host and target platform, switching
among different character<em> sets</em> can become quite tedious if
several character sets have to be supported on the target platform.
The<tt> CODEPAGE</tt> instruction however allows to define and keep
different character sets and to switch with a single statement among
them.<tt> CODEPAGE</tt> expects one or two arguments: the name of the
set to be used hereafter and optionally the name of another table
that defines its initial contents (the second parameter therefore
only has a meaning for the first switch to the table when AS
automatically creates it). If the second parameter is missing, the
initial contents of the new table are copied from the previously
active set. All subsequent<tt> CHARSET</tt> statements<em> only</em>
modify the new set.
</p><p>
At the beginning of a pass, AS automatically creates a single
character set with the name<tt> STANDARD</tt> with a one-to-one
translation. If no<tt> CODEPAGE</tt> instructions are used, all
settings made via<tt> CHARSET</tt> refer to this table.
</p><p>

</p><h3><a name="sect_3_1_14_">3.1.14. ENUM, NEXTENUM, and ENUMCONF</a></h3>
<a name="index_ENUM_1"></a><a name="index_NEXTENUM_1"></a><a name="index_ENUMCONF_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
Similar to the same-named instruction known from C,<tt> ENUM</tt> is
used to define enumeration types, i.e. a sequence of integer
constants that are assigned sequential values starting at 0. The
parameters are the names of the symbols, like in the following
example:
</p><pre>
        ENUM    SymA,SymB,SymC

</pre>
This instruction will assign the values 0, 1, and 2 to the
symbols<tt> SymA, SymB,</tt> and<tt> SymC</tt>.
<p>
If you want to split an enumeration over more than one line, use<tt>
NEXTENUM</tt> instead of<tt> ENUM</tt> for the second and all
following lines. The internal counter that assigns sequential values
to alls symbols will then not be reset to zero, like in the following
case:
</p><pre>
        ENUM     January=1,February,March,April,May,June
        NEXTENUM July,August,September,October
        NEXTENUM November,December

</pre>
This example also demonstrates that it is possible to assign explicit
values to individual symbols. The internal counter will be updated
accordingly if this feature is used.
<p>
A definition of a symbol with<tt> ENUM</tt> is equal to a definition
with<tt> EQU</tt>, i.e. it is not possible to assign a new value to a
symbol that already exists.
</p><p>
The<tt> ENUMCONF</tt> statement allows to influence the behaviour
of<tt> ENUM</tt>.<tt> ENUMCONF</tt> accepts one or two arguments. The
first argument is always the value the internal counter is
incremented for every symbol in an enumeration. For instance, the
statement
</p><pre>
      ENUMCONF 2

</pre>
has the effect that symbols get the values 0,2,4,6... instead of
0,1,2,3...
<p>
The second (optional) argument of<tt> ENUMCONF</tt> rules which
address space the defined symbols are assigned to. By default,
symbols defined by<tt> ENUM</tt> are typeless. For instance, the
statement
</p><pre>
      ENUMCONF 1,CODE

</pre>
defines that they should be assigned to the instruction address
space. The names of the address spaces are the same as for the<tt>
SEGMENT</tt> instruction (<a href="#ref_SEGMENT">3.2.13</a>), with
the addition of<tt> NOTHING</tt> to generate typeless symbols again.
<p>

</p><h3><a name="sect_3_1_15_">3.1.15. PUSHV and POPV</a></h3>
<a name="index_PUSHV_1"></a><a name="index_POPV_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
<tt> PUSHV</tt> and<tt> POPV</tt> allow to temporarily save the value
of a symbol (that is not macro-local) and to restore it at a later
point of time. The storage is done on stacks, i.e. Last-In-First-Out
memory structures. A stack has a name that has to fulfill the general
rules for symbol names and it exists as long as it contains at least
one element: a stack that did not exist before is automatically
created upon<tt> PUSHV</tt>, and a stack becoming empty upon a<tt>
POPV</tt> is deleted automatically. The name of the stack that shall
be used to save or restore symbols is the first parameter of<tt>
PUSH</tt> resp.<tt> POPV</tt>, followed by a list of symbols as
further parameters. All symbols referenced in the list already have
to exist, it is therefore<b> not</b> possible to implicitly define
symbols with a<tt> POPV</tt> instruction.
</p><p>
Stacks are a global resource, i.e. their names are not local to
sections.
</p><p>
It is important to note that symbol lists are<b> always</b> processed
from left to right. Someone who wants to pop several variables from a
stack with a<tt> POPV</tt> therefore has to use the exact reverse
order used in the corresponding<tt> PUSHV</tt>!
</p><p>
The name of the stack may be left blank, like this:
</p><pre>
        pushv   ,var1,var2,var3
        .
        .
        popv    ,var3,var2,var1

</pre>
AS will then use a predefined internal default stack.
<p>
AS checks at the end of a pass if there are stacks that are not empty
and issues their names together with their ''filling level''. This
allows to find out if there are any unpaired<tt> PUSHVs</tt> or<tt>
POPVs</tt>. However, it is in no case possible to save values in a
stack beyond the end of a pass: all stacks are cleared at the
beginning of a pass!
</p><p>

</p><h2><a name="sect_3_2_">3.2. Code Modification</a></h2>
<p>

</p><h3><a name="sect_3_2_1_">3.2.1. ORG</a></h3>
<a name="ref_SectORG"></a><a name="index_ORG_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
<tt> ORG</tt> allows to load the internal address counter (of the
assembler) with a new value. The value range depends on the currently
selected segment and on the processor type (table <a href="#ref_TabORG">3.1</a>). The lower bound is always zero, and the
upper bound is the given value minus 1.
</p><p>
<b> CAUTION</b>: If the<tt> PHASE</tt> instruction is also used, one
has to keep in mind that the argument of<tt> ORG</tt> always is
the<em> load address</em> of the code. Expressions using the $ or *
symbol to refer to the current program counter however deliver
the<em> execution address</em> of the code and do not yield the
desired result when used as argument for<tt> ORG</tt>. The<tt>
RORG</tt> statement (<a href="#ref_SectRORG">3.2.2</a>) should be
used in such cases.
</p><p>
<small>
</small></p><p></p><center><small>Table 3.1: Address Ranges for<tt> ORG</tt></small>
</center><p>
</p><p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT"><small><small> Target</small></small><br>
</th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> CODE</small></small><br>
</th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> DATA</small></small><br>
</th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> I-</small></small><br>
<small><small> DATA</small></small></th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> X-</small></small><br>
<small><small> DATA</small></small></th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> Y-</small></small><br>
<small><small> DATA</small></small></th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> BIT-</small></small><br>
<small><small> DATA</small></small></th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> IO</small></small><br>
</th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> REG</small></small><br>
</th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> ROM-</small></small><br>
<small><small> DATA</small></small></th>
<th valign="TOP" nowrap="nowrap" align="CENTER"><small><small> EE-</small></small><br>
<small><small> DATA</small></small></th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 68xxx/</small></small><br>
<small><small> MCF</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> DSP56000</small></small><br>
<small><small> DSP56300</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K/<br>
16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K/<br>
16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K/<br>
16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> PowerPC</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> M*Core</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 6800,6301,</small></small><br>
<small><small> 6811</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 6805/</small></small><br>
<small><small> HC08</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K/<br>
64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 6809,</small></small><br>
<small><small> 6309</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 68HC12,</small></small><br>
<small><small> 68HC12X,</small></small><br>
<small><small> XGATE</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> S12Z</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 68HC16</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 68RS08</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> H8/300</small></small><br>
<small><small> H8/300H</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> H8/500</small></small><br>
<small><small> (Min)</small></small><br>
<small><small> H8/500</small></small><br>
<small><small> (Max)</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
<br>
16M<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> SH7000/</small></small><br>
<small><small> 7600/7700</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> HD614023</small></small><br>
<small><small> HD614043</small></small><br>
<small><small> HD614081</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K<br>
4K<br>
8K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">160<br>
256<br>
512</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16<br>
16<br>
16</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> HD641016</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 6502,</small></small><br>
<small><small> MELPS-</small></small><br>
<small><small> 740</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> HUC6280</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 65816,</small></small><br>
<small><small> MELPS-</small></small><br>
<small><small> 7700</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MELPS-</small></small><br>
<small><small> 4500</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">416<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> M16</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> M16C</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 4004</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 8008</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MCS-48,</small></small><br>
<small><small> MCS-41</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1/2/4/<br>
6/8K<sup>6</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<sup>8</sup><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MCS-51</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<sup>1</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 80C390</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<sup>1</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MCS-251</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">512</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MCS-96</small></small><br>
<small><small> 196(N)/</small></small><br>
<small><small> 296</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
16M<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 8080,</small></small><br>
<small><small> 8085</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 80x86,</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 68xx0</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 8X30x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 2650</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> XA</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K<sup>3</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> AVR</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">128K<sup>6</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">32K<sup>6</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K<sup>7</sup></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 29XXX</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 80C166,</small></small><br>
<small><small> 80C167</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256K<br>
16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> GBZ80</small></small><br>
<small><small> Z80,</small></small><br>
<small><small> Z180,</small></small><br>
<small><small> Z380</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
64K<br>
512K<sup>2</sup><br>
4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">----<br>
256<br>
256<br>
4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---<br>
---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> Z8</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> eZ8</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> Z8001,</small></small><br>
<small><small> Z8003</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8M<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> Z8002,</small></small><br>
<small><small> Z8004</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> KCPSM</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> KCPSM3</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> Mico8</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4096</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TLCS-</small></small><br>
<small><small> 900(L)</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TLCS-90</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TLCS-</small></small><br>
<small><small> 870(/C)</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TLCS-47</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TLCS-</small></small><br>
<small><small> 9000</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TC9331</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">320</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> PIC</small></small><br>
<small><small> 16C5x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">32<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> PIC</small></small><br>
<small><small> 16C5x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">32<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> PIC</small></small><br>
<small><small> 16C64,</small></small><br>
<small><small> 16C86</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
8K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
512<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><br>
256<sup>6</sup><br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> PIC</small></small><br>
<small><small> 17C42</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> SX20</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> ST6</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> ST7</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> STM8</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> ST9</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 6804</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 32010</small></small><br>
<small><small> 32015</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K<br>
4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">144<br>
256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8<br>
8</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 320C2x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 320C3x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 320C40</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 320C44</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">32M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 320C5x/</small></small><br>
<small><small> 320C20x/</small></small><br>
<small><small> 320C54x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TMS</small></small><br>
<small><small> 9900</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TMS</small></small><br>
<small><small> 70Cxx</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 370xxx</small></small><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSP430</small></small><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TMS1000</small></small><br>
<small><small> TMS1200</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> TMS1100</small></small><br>
<small><small> TMS1300</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">128<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> SC/MP</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 807x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> COP4</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">512</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> COP8</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> SC144xx</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> NS16008/</small></small><br>
<small><small> NS32008/</small></small><br>
<small><small> NS08032/</small></small><br>
<small><small> NS16032/</small></small><br>
<small><small> NS32016/</small></small><br>
<small><small> NS32032/</small></small><br>
<small><small> NS32CG16</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
<br>
<br>
<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> NS32332/</small></small><br>
<small><small> NS32532</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> ACE</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K<sup>4</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> F3850</small></small><br>
<small><small> F8</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64<br>
64</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<br>
256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> µPD</small></small><br>
<small><small> 78(C)xx</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 7566</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 7508</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 75K0</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 78K0</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 78K2</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 78K3</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 78K4</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M<sup>5</sup></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 7720</small></small><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">512<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">128<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">512<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 7725</small></small><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1024<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 77230</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">512</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">512</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 53C8XX</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> F<sup>2</sup></small></small>MC8L</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> F<sup>2</sup></small></small>MC16L</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">16M</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM5840</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">128</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM5842</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">768</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">32</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM58421</small></small><br>
<small><small> MSM58422</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1.5K<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">40<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM5847</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1.5K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">96</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM5054</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">62</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM5055</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1.75K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">96</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM5056</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1.75K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">90</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MSM6051</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">2.5K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">119</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MN1610</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> MN1613</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> PMCxxx/</small></small><br>
<small><small> PMSxxx/</small></small><br>
<small><small> PFSxxx</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">1..<br>
4K<sup>9</sup><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64..<br>
256<sup>9</sup><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">32..<br>
128<sup>9</sup><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---<br>
<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 180x</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">8</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> XS1</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">4G</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> 1750</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> KENBAK</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">256</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><small><small> CP1600</small></small></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">64K</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">---</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>1</sup> Initial value 80h.<br>
As the 8051 does not have any RAM beyond 80h, this value has to be<br>
adapted with ORG for the 8051 as target processor!</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>2</sup> As the Z180 still can address only 64K logically, the whole<br>
address space can only be reached via<tt> PHASE</tt> instructions!</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>3</sup> initial value 400h.</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>4</sup> initial value 800h resp. 0C00h</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>5</sup> area for program code is limited to 1 MByte</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>6</sup> size depends on target processor</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>7</sup> size and availibility depend on target processor</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>8</sup> only on variants supporting the<tt> MOVX</tt> instruction</td>
</tr>
<tr align="LEFT">
<td colspan="11" valign="TOP" nowrap="nowrap" align="LEFT"><sup>9</sup> device dependant</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><a name="ref_TabORG"></a></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
</tr>
</tbody></table></center>
<p>
In case that different variations in a processor family have address
spaces of different size, the maximum range is listed for each.
</p><p>
<tt> ORG</tt> is mostly needed to give the code a new starting
address or to put different, non-continuous code parts into one
source file. In case there is no explicit other value listet in a
table entry, the initial address for this segment (i.e. the start
address used without<tt> ORG</tt>) is 0.
</p><p>

</p><h3><a name="sect_3_2_2_">3.2.2. RORG</a></h3>
<a name="ref_SectRORG"></a><a name="index_RORG_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
<tt> RORG</tt> modifies the program counter just like<tt> ORG</tt>,
however it does not expect an absolute address as argument. Instead,
it expects a relative value (positive or negative) that is added to
the current program counter. A possible application of this statement
is the reservation of a certain amount of address space, or the use
in code parts that are included multiple times (e.g. via macros or
includes) and that shall be position-independent. Another application
is the use in code that has an execution address different from the
load address (i.e. the<tt> PHASE</tt> statement is used). There is no
symbol to refer to the current<em> load address</em>, but it can be
referred to indirectly via the<tt> RORG</tt> statement.
</p><p>

</p><h3><a name="sect_3_2_3_">3.2.3. CPU</a></h3>
<a name="ref_SectCPU"></a><a name="index_CPU_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
This command rules for which processor the further code shall be
generated. Instructions of other processor families are not
accessible afterwards and will produce error messages!
</p><p>
The processors can roughly be distinguished in families, inside the
families different types additionally serve for a detailed
distinction:
</p><blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> a)</td><td nowrap="nowrap"> 68008 -&gt; 68000 -&gt; 68010 -&gt; 68012 -&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> MCF5202 -&gt; MCF5204 -&gt; MCF5206 -&gt; MCF5208-&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> MCF52274 -&gt; MCF52277 -&gt; MCF5307 -&gt; MCF5329 -&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> MCF5373 -&gt; MCF5407 -&gt; MCF5470 -&gt; MCF5471 -&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> MCF5472 -&gt; MCF5473 -&gt; MCF5474 -&gt; MCF5475 -&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> MCF51QM -&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 68332 -&gt; 68340 -&gt; 68360 -&gt;</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 68020 -&gt; 68030 -&gt; 68040</td></tr>
</tbody></table></blockquote>
The differences in this family are additional instructions and
addressing modes (starting from the 68020). A small exception is the
step to the 68030 that misses two instructions:<tt> CALLM</tt>
and<tt> RTM</tt>. The three representatives of the 683xx family have
the same processor core (a slightly reduced 68020 CPU), however
completely different peripherals. MCF5xxx represents various ColdFire
variants from Motorola/Freescale/NXP, RISC processors downwardly
binary compatible to the 680x0. For the 68040, additional control
registers (reachable via<tt> MOVEC</tt>) and instructions for control
of the on-chip MMU and caches were added.
<blockquote>
    b) 56000 --&gt; 56002 --&gt; 56300
</blockquote>
While the 56002 only adds instructions for incrementing and
decrementing the accumulators, the 56300 core is almost a new
processor: all address spaces are enlarged from 64K words to 16M and
the number of instructions almost has been doubled.
<blockquote>
    c) PPC403 -&gt; MPPC403 -&gt; MPC505 -&gt; MPC601 -&gt; MPC821 -&gt; RS6000
</blockquote>
The PPC403 is a reduced version of the PowerPC line without a
floating point unit, which is why all floating point instructions are
disabled for him; in turn, some microcontroller-specific instructions
have been added which are unique in this family. The GC variant of
the PPC403 incorporates an additional MMU and has therefore some
additional instructions for its control. The MPC505 (a
microcontroller variant without a FPU) only differ in its peripheral
registers from the 601 as long as I do not know it better - <a href="#cite_Mot505">[75]</a> is a bit reluctant in this respect...
The RS6000 line knows a few instructions more (that are emulated on
many 601-based systems), IBM additionally uses different mnemonics
for their pure workstation processors, as a reminiscence of 370
mainframes...
<blockquote>
    d) MCORE
</blockquote>
<blockquote>
    e) XGATE
</blockquote>
<blockquote>
    f) 6800 -&gt; 6801 -&gt; 6301 -&gt; 6811
</blockquote>
While the 6801 only offers a few additional instructions (and the
6301 even a few more), the 6811 provides a second index register and
much more instructions.
<blockquote>
    g) 6809/6309 and 6805/68HC(S)08
</blockquote>
These processors are partially source-code compatible to the other
68xx processors, but they have a different binary code format and a
significantly reduced (6805) resp. enhanced (6809) instruction set.
The 6309 is a CMOS version of the 6809 which is officially only
compatible to the 6809, but inofficially offers more registers and a
lot of new instructions (see <a href="#cite_Kaku">[49]</a>).
<blockquote>
    h) 68HC12 --&gt; 68HC12X
</blockquote>
The 12X core offers a couple of new instructions, and existing
instructions were were enriched with new addressing modes.
<blockquote>
    i) S912ZVC19F0MKH, S912ZVC19F0MLF,<br>
    S912ZVCA19F0MKH, S912ZVCA19F0MLF,<br>
    S912ZVCA19F0WKH, S912ZVH128F2CLQ,<br>
    S912ZVH128F2CLL, S912ZVH64F2CLQ,<br>
    S912ZVHY64F1CLQ, S912ZVHY32F1CLQ,<br>
    S912ZVHY64F1CLL, S912ZVHY32F1CLL,<br>
    S912ZVHL64F1CLQ, S912ZVHL32F1CLQ,<br>
    S912ZVHL64F1CLL, S912ZVHL32F1CLL,<br>
    S912ZVFP64F1CLQ, S912ZVFP64F1CLL,<br>
    S912ZVH128F2VLQ, S912ZVH128F2VLL,<br>
    S912ZVH64F2VLQ, S912ZVHY64F1VLQ,<br>
    S912ZVHY32F1VLQ, S912ZVHY64F1VL,<br>
    S912ZVHY32F1VLL, S912ZVHL64F1VLQ
</blockquote>
All variants contain the same processor core and the same instruction
set, only the on-chip peripherals and the amount of built-in memory
(RAM, Flash-ROM, EEPROM) vary from device to device.
<blockquote>
    j) 68HC16
</blockquote>
<blockquote>
    k) HD6413308 -&gt; HD6413309
</blockquote>
These both names represent the 300 and 300H variants of the H8
family; the H version owns a larger address space (16Mbytes instead
of 64Kbytes), double-width registers (32 bits), and knows a few more
instructions and addressing modes. It is still binary upward
compatible.
<blockquote>
    l) HD6475328 -&gt; HD6475348 -&gt; HD6475368 -&gt; HD6475388
</blockquote>
These processors all share the same CPU core; the different types are
only needed to include the correct subset of registers in the
file<tt> REG53X.INC</tt>.
<blockquote>
    m) SH7000 -&gt; SH7600 --&gt; SH7700
</blockquote>
The processor core of the 7600 offers a few more instructions that
close gaps in the 7000's instruction set (delayed conditional and
relative and indirect jumps, multiplications with 32-bit operands and
multiply/add instructions). The 7700 series (also known as SH3)
furthermore offers a second register bank, better shift instructions,
and instructions to control the cache.
<blockquote>
    n)HD614023 --&gt; HD614043 --&gt; HD614081
</blockquote>
These three variants of the HMCS400 series differ by the size of the
internal ROM and RAM.
<blockquote>
    o) HD641016
</blockquote>
This is currently the only target with H16 core.
<blockquote>
    p) 6502 -&gt; 65(S)C02<br>
    -&gt; 65CE02 / W65C02S / 65C19 / MELPS740 / HUC6280 / 6502UNDOC
</blockquote>
The CMOS version defines some additional instructions, as well as a
number of some instruction/addressing mode combinations were added
which were not possible on the 6502. The W65C02S adds two opcodes to
the 65C02 instruction set to give more fine-grained control over how
to stop the CPU for low power modes. The 65SC02 lacks the bit
manipulation instructions of the 65C02. The 65CE02 adds branch
instructions with 16-bit displacement, a Z register, a 16 bit stack
pointer, a programmable base page, and a couple of new instructions.
<p>
The 65C19 is<em> not</em> binary upward compatible to the original
6502! Some addressing modes have been replaced by others.
Furthermore, this processor contains instruction set extensions that
facilitate digital signal processing.
</p><p>
The Mitsubishi micro controllers in opposite expand the 6502
instruction set primarily to bit operations and multiplication /
division instructions. Except for the unconditional jump and
instructions to increment/decrement the accumulator, the instruction
extensions have nothing in common.
</p><p>
For the HuC 6280, the feature that sticks out most is the larger
address space of 2 MByte instead of 64 KBytes. This is achieved with
a buil-tin banking mechanism. Furthermore, it features some special
instructions to communicate with a video processor (this chip was
used in video games) and to copy memory areas.
</p><p>
The 6502UNDOC processor type enables access to the "undocumented"
6502 instructions, i.e. the operations that result from the usage of
bit combinations in the opcode that are not defined as instructions.
The variants supported by AS are listed in the appendix containing
processor-specific hints.
</p><blockquote>
    q) MELPS7700, 65816
</blockquote>
Apart from a '16-bit-version' of the 6502's instruction set, these
processors both offer some instruction set extensions. These are
however orthogonal as they are oriented along their 8-bit
predecessors (65C02 resp. MELPS-740). Partially, different mnemonics
are used for the same operations.
<blockquote>
    r) MELPS4500
</blockquote>
<blockquote>
    s) M16
</blockquote>
<blockquote>
    t) M16C
</blockquote>
<blockquote>
    u) 4004 -&gt; 4040
</blockquote>
Opposed to its predecessor, the 4040 features about a dozen
additional machine instructions.
<blockquote>
    v) 8008 -&gt; 8008NEW Intel redefined the mnemonics around 1975, the
    second variant reflects this new instruction set. A simultaneous
    support of both sets was not possible due to mnemonic conflicts.
</blockquote>
<blockquote>
    w) 8021, 8022,<br>
    8401, 8411, 8421, 8461,<br>
    8039, (MSM)80C39, 8048, (MSM)80C48, 8041, 8042, 80C382
</blockquote>
For the ROM-less versions 8039 and 80C39, the commands which are
using the BUS (port 0) are forbidden. The 8021 and 8022 are special
versions with a strongly shrinked instruction set, for which the 8022
has two A/D- converters and the necessary control-commands. The
instruction set of the MAB8401 to 8461 (designed by Philips) is
somewhere in between the 8021/8022 and a ''complete'' MC-48
instruction set. On the other hand, they provide serial ports and up
to 8 KBytes of program memory.
<p>
It is possible to transfer the CMOS-versions with the<tt> IDL</tt>
resp.<tt> HALT</tt> command into a stop mode with lower current
consumption. The 8041 and 8042 have some additional instructions for
controlling the bus interface, but in turn a few other commands were
omitted. The code address space of 8041, 8042, 84x1, 8021, and 8022
is not externally extendable, and so AS limits the code segment of
these processors to the size of the internal ROM. The (SAB)80C382 is
a variant especially designed by Siemens for usage in telephones. It
also knows a<tt> HALT</tt> instruction, plus ist supports indirect
addressing for<tt> DJNZ</tt> and<tt> DEC</tt>. In turn, several
instructions of the 'generic' 8048 were left out. The OKI variants
(MSM...) also feature indirect addressing for<tt> DJNZ</tt> and<tt>
DEC</tt>, plus enhanced control of power-down modes, plus the full
basic MCS-48 instrucion set.
</p><blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> x)</td><td nowrap="nowrap"> 87C750 -&gt; 8051, 8052, 80C320, 80C501, 80C502,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 80C504, 80515, and 80517</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> -&gt; 80C390</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> -&gt; 80C251</td></tr>
</tbody></table></blockquote>
The 87C750 can only access a maximum of 2 Kbytes program memory which
is why it lacks the<tt> LCALL</tt> and<tt> LJMP</tt> instructions. AS
does not make any distinction among the processors in the middle,
instead it only stores the different names in the<tt> MOMCPU</tt>
variable (see below), which allows to query the setting with<tt>
IF</tt> instructions. An exception is the 80C504 that has a mask flaw
in its current versions. This flaw shows up when an<tt> AJMP</tt>
or<tt> ACALL</tt> instruction starts at the second last address of a
2K page. AS will automatically use long instructions or issues an
error message in such situations. The 80C251 in contrast represents a
drastic progress in the the direction 16/32 bits, larger address
spaces, and a more orthogonal instruction set. One might call the
80C390 the 'small solution': Dallas Semiconductor modified
instruction set and architecture only as far as it was necessary for
the 16 Mbytes large address spaces.
<blockquote>
    y) 8096 -&gt; 80196 -&gt; 80196N -&gt; 80296
</blockquote>
Apart from a different set of SFRs (which however strongly vary from
version to version), the 80196 knows several new instructions and
supports a 'windowing' mechanism to access the larger internal RAM.
The 80196N family extends the address space to 16 Mbytes and
introduces a set of instructions to access addresses beyond 64Kbytes.
The 80296 extends the CPU core by instructions for signal processing
and a second windowing register, however removes the Peripheral
Transaction Server (PTS) and therefore looses again two machine
instructions.
<blockquote>
    z) 8080 -&gt; 8085 -&gt; 8085UNDOC
</blockquote>
The 8085 knows the additional commands<tt> RIM</tt> and<tt> SIM</tt>
for controlling the interrupt mask and the two I/O-pins. The type<tt>
8085UNDOC</tt> enables additional instructions that are not
documented by Intel. These instructions are documented in section <a href="#ref_8085Spec">4.21</a>.
<blockquote>
    aa) 8086 -&gt; 80186 -&gt; V30 -&gt; V35
</blockquote>
Only new instructions are added in this family. The corresponding
8-bit versions are not mentioned due to their instruction
compatibility, so one e.g. has to choose 8086 for an 8088-based
system.
<blockquote>
    ab) 80960
</blockquote>
<blockquote>
    ac) 8X300 -&gt; 8X305
</blockquote>
The 8X305 features a couple of additional registers that miss on the
8X300. Additionally, it can do new operations with these registers
(like direct writing of 8 bit values to peripheral addresses).
<blockquote>
    ad) XAG1, XAG2, XAG3
</blockquote>
These processors only differ in the size of their internal ROM which
is defined in<tt> STDDEFXA.INC</tt>.
<blockquote>
    ae) AT90S1200, AT90S2313, AT90S2323, AT90S233, AT90S2343,<br>
    AT90S4414, AT90S4433, AT90S4434, AT90S8515,<br>
    AT90C8534, AT90S8535, ATTINY4, ATTINY5, ATTINY9,<br>
    ATTINY10, ATTINY11, ATTINY12, ATTINY13, ATTINY13A,<br>
    ATTINY15, ATTINY20, ATTINY24(A), ATTINY25,<br>
    ATTINY26, ATTINY28, ATTINY40, ATTINY44(A),<br>
    ATTINY45, ATTINY48, ATTINY84(A), ATTINY85,<br>
    ATTINY87, ATTINY88, ATTINY102, ATTINY104,<br>
    ATTINY167, ATTINY261, ATTINY261A, ATTINY43U,<br>
    ATTINY441, ATTINY461, ATTINY461A, ATTINY828,<br>
    ATTINY841, ATTINY861, ATTINY861A, ATTINY1634,<br>
    ATTINY2313, ATTINY2313A, ATTINY4313, ATMEGA48,<br>
    ATMEGA8, ATMEGA8515, ATMEGA8535, ATMEGA88,<br>
    ATMEGA8U2, ATMEGA16U2, ATMEGA32U2,<br>
    ATMEGA16U4, ATMEGA32U4, ATMEGA32U6, AT90USB646,<br>
    AT90USB647, AT90USB1286, AT90USB1287, AT43USB355,<br>
    ATMEGA16, ATMEGA161, ATMEGA162, ATMEGA163,<br>
    ATMEGA164, ATMEGA165, ATMEGA168, ATMEGA169,<br>
    ATMEGA32, ATMEGA323, ATMEGA324, ATMEGA325,<br>
    ATMEGA3250, ATMEGA328, ATMEGA329, ATMEGA3290,<br>
    ATMEGA406, ATMEGA64, ATMEGA640, ATMEGA644,<br>
    ATMEGA644RFR2, ATMEGA645, ATMEGA6450,<br>
    ATMEGA649, ATMEGA6490, ATMEGA103, ATMEGA128,<br>
    ATMEGA1280, ATMEGA1281, ATMEGA1284,<br>
    ATMEGA1284RFR2, ATMEGA2560, ATMEGA2561
</blockquote>
The various AVR chip variants mainly differ in the amount of on-chip
memory (flash, SRAM, EEPROM) an the set of built-in peripherals
(GPIO, timers, UART, A/D converter...). Compared to the AT90...
predecessors, the ATmega chip also provide additional instructions,
while the ATtinys do not support the multiplication instructions.
<blockquote>
    af) AM29245 -&gt; AM29243 -&gt; AM29240 -&gt; AM29000
</blockquote>
The further one moves to the right in this list, the fewer the
instructions become that have to be emulated in software. While e.g.
the 29245 not even owns a hardware multiplier, the two representors
in the middle only lack the floating point instructions. The 29000
serves as a 'generic' type that understands all instructions in
hardware.
<blockquote>
    ag) 80C166 -&gt; 80C167,80C165,80C163
</blockquote>
80C167 and 80C165/163 have an address space of 16 Mbytes instead of
256 Kbytes, and furthermore they know some additional instructions
for extended addressing modes and atomic instruction sequences. They
are 'second generation' processors and differ from each other only in
the amount of on-chip peripherals.
<blockquote>
    ah) LR35902/GBZ80 -&gt; Z80 -&gt; Z80UNDOC<br>
    -&gt; Z180 -&gt; Z380
</blockquote>
While there are only a few additional instructions for the Z180, the
Z380 owns 32-bit registers, a linear address space of 4 Gbytes, a
couple of instruction set extensions that make the overall
instruction set considerably more orthogonal, and new addressing
modes (referring to index register halves, stack relative). These
extensions partially already exist on the Z80 as undocumented
extensions and may be switched on via the Z80UNDOC variant. A list
with the additional instructions can be found in the chapter with
processor specific hints.
<p>
The processor built into the Gameboy (official designation LR35092,
commonly referred to as ''Gameboy Z80'') is a mixture of an 8080 and
Z80. It lacks the IX/IY registers, the I/O address space, the second
register bank and a couple of 16 bit instructions.
</p><blockquote>
    ai) Z8601, Z8603, z86C03, z86E03, Z86C06, Z86E06,<br>
    Z86C08, Z86C21, Z86E21, Z86C30, Z86C31, Z86C32 Z86C40<br>
    -&gt; Z88C00, Z88C01<br>
    -&gt; eZ8, Z8F0113, Z8F011A, Z8F0123, Z8F012A,<br>
    Z8F0130, Z8F0131, Z8F0213, Z8F021A, Z8F0223, Z8F022A,<br>
    Z8F0230, Z8F0231, Z8F0411, Z8F0412, Z8F0413, Z8F041A,<br>
    Z8F0421, Z8F0422, Z8F0423, Z8F042A, Z8F0430, Z8F0431,<br>
    Z8F0811, Z8F0812, Z8F0813, Z8F081A, Z8F0821, Z8F0822,<br>
    Z8F0823, Z8F082A, Z8F0830, Z8F0831, Z8F0880, Z8F1232,<br>
    Z8F1233, Z8F1621, Z8F1622, Z8F1680, Z8F1681, Z8F1682,<br>
    Z8F2421, Z8F2422, Z8F2480, Z8F3221, Z8F3222, Z8F3281,<br>
    Z8F3282, Z8F4821, Z8F4822, Z8F4823, Z8F6081, Z8F6082,<br>
    Z8F6421, Z8F6422, Z8F6423, Z8F6481, Z8F6482
</blockquote>
The variants with Z8 core only differ in internal memory size and
on-chip peripherals, i.e. the choice does not have an effect on the
supported instruction set. Super8 and eZ8 are substantially
different, each with an instruction set that was vastly extended
(into different directions), and they are not fully upward-compatible
on source code level as well.
<blockquote>
    aj) Z8001, Z8002, Z8003, Z8004
</blockquote>
The operation mode (segmented for Z8001 and Z8003, non-segmented for
Z8002 and Z8004) is selected via the processor type. There is
currently no further differentiation between Z8001/8002 and
Z8003/8004.
<blockquote>
    ak) KCPSM
</blockquote>
Both processor cores are not available as standalone components, they
are provided as logic cores for gate arrays made by Xilinx The -3
variant offers a larger address space and some additional
instructions. Note that it is not binary upward-compatible!
<blockquote>
    al) MICO8_05, MICO8_V3, MICO8_V31
</blockquote>
Lattice unfortunately changed the machine instructions more than
once, so different targets became necessary to provide continued
support for older projects. The first variant is the one described in
the 2005 manual, the two other ones represent versions 3.0 resp. 3.1.
<blockquote>
    am) 96C141, 93C141
</blockquote>
These two processors represent the two variations of the processor
family: TLCS-900 and TLCS-900L. The differences of these two
variations will be discussed in detail in section <a href="#ref_TLCS900Spec">4.31</a>.
<blockquote>
    an) 90C141
</blockquote>
<blockquote>
    ao) 87C00, 87C20, 87C40, 87C70
</blockquote>
The processors of the TLCS-870 series have an identical CPU core, but
different peripherals depending on the type. In part registers with
the same name are located at different addresses. The file<tt>
STDDEF87.INC</tt> uses, similar to the MCS-51-family, the distinction
possible by different types to provide the correct symbol set
automatically. ap) TLCS-870/C Currently, only the processor core of
the TLCS-870/C family is implemented.
<blockquote>
    aq) 47C00 -&gt; 470C00 -&gt; 470AC00
</blockquote>
These three variations of the TLCS-47-family have on-chip RAM and ROM
of different size, which leads to several bank switching instructions
being added or suppressed.
<blockquote>
    ar) 97C241
</blockquote>
<blockquote>
    as) TC9331
</blockquote>
<blockquote>
    at) 16C54 -&gt; 16C55 -&gt; 16C56 -&gt; 16C57
</blockquote>
These processors differ by the available code area, i.e. by the
address limit after which AS reports overruns.
<blockquote>
    au) 16C84, 16C64
</blockquote>
Analog to the MCS-51 family, no distinction is made in the code
generator, the different numbers only serve to include the correct
SFRs in<tt> STDDEF18.INC</tt>.
<blockquote>
    av) 17C42
</blockquote>
<blockquote>
    aw) SX20, SX28
</blockquote>
The SX20 uses a smaller housing and lacks port C.
<blockquote>
    ax) ST6200, ST6201, ST6203, ST6208, ST6209,<br>
    ST6210, ST6215, ST6218, ST6220, ST6225,<br>
    ST6228, ST6230, ST6232, ST6235, ST6240,<br>
    ST6242, ST6245, ST6246, ST6252, ST6253,<br>
    ST6255, ST6260, ST6262, ST6263, ST6265,<br>
    ST6280, ST6285
</blockquote>
The various ST6 derivates differ in the amount of on-chip peripherals
and built-in memory.
<blockquote>
    ay) ST7<br>
    ST72251G1, ST72251G2, ST72311J2, ST72311J4,<br>
    ST72321BR6, ST72321BR7, ST72321BR9, ST72325S4,<br>
    ST72325S6, ST72325J7, ST72325R9, ST72324J6,<br>
    ST72324K6, ST72324J4, ST72324K4, ST72324J2,<br>
    ST72324JK21, ST72325S4, ST72325J7, ST72325R9,<br>
    ST72521BR6, ST72521BM9, ST7232AK1, ST7232AK2,<br>
    ST7232AJ1, ST7232AJ2, ST72361AR4, ST72361AR6,<br>
    ST72361AR7, ST72361AR9, ST7FOXK1, ST7FOXK2,<br>
    ST7LITES2Y0, ST7LITES5Y0, ST7LITE02Y0,<br>
    ST7LITE05Y0, ST7LITE09Y0<br>
    ST7LITE10F1, ST7LITE15F1, ST7LITE19F1,<br>
    ST7LITE10F0, ST7LITE15F0, ST7LITE15F1,<br>
    ST7LITE19F0, ST7LITE19F1,<br>
    ST7LITE20F2, ST7LITE25F2, ST7LITE29F2,<br>
    ST7LITE30F2, ST7LITE35F2, ST7LITE39F2,<br>
    ST7LITE49K2,<br>
    ST7MC1K2, ST7MC1K4, ST7MC2N6, ST7MC2S4,<br>
    ST7MC2S6, ST7MC2S7, ST7MC2S9, ST7MC2R6,<br>
    ST7MC2R7, ST7MC2R9, ST7MC2M9,<br>
    STM8<br>
    STM8S001J3, STM8S003F3, STM8S003K3, STM8S005C6,<br>
    STM8S005K6, STM8S007C8, STM8S103F2, STM8S103F3,<br>
    STM8S103K3, STM8S105C4, STM8S105C6, STM8S105K4,<br>
    STM8S105K6, STM8S105S4, STM8S105S6, STM8S207MB,<br>
    STM8S207M8, STM8S207RB, STM8S207R8, STM8S207R6,<br>
    STM8S207CB, STM8S207C8, STM8S207C6, STM8S207SB,<br>
    STM8S207S8, STM8S207S6, STM8S207K8, STM8S207K6,<br>
    STM8S208MB, STM8S208RB, STM8S208R8, STM8S208R6,<br>
    STM8S208CB, STM8S208C8, STM8S208C6, STM8S208SB,<br>
    STM8S208S8, STM8S208S6, STM8S903K3, STM8S903F3,<br>
    STM8L050J3, STM8L051F3, STM8L052C6, STM8L052R8,<br>
    STM8L001J3, STM8L101F1, STM8L101F2, STM8L101G2,<br>
    STM8L101F3, STM8L101G3, STM8L101K3, STM8L151C2,<br>
    STM8L151K2, STM8L151G2, STM8L151F2, STM8L151C3,<br>
    STM8L151K3, STM8L151G3, STM8L151F3, STM8L151C4,<br>
    STM8L151C6, STM8L151K4, STM8L151K6, STM8L151G4,<br>
    STM8L151G6, STM8L152C4, STM8L152C6, STM8L152K4,<br>
    STM8L152K6, STM8L151R6, STM8L151C8, STM8L151M8,<br>
    STM8L151R8, STM8L152R6, STM8L152C8, STM8L152K8,<br>
    STM8L152M8, STM8L152R8, STM8L162M8, STM8L162R8,<br>
    STM8AF6366, STM8AF6388, STM8AF6213, STM8AF6223,<br>
    STM8AF6226, STM8AF6246, STM8AF6248, STM8AF6266,<br>
    STM8AF6268, STM8AF6269, STM8AF6286, STM8AF6288,<br>
    STM8AF6289, STM8AF628A, STM8AF62A6, STM8AF62A8,<br>
    STM8AF62A9, STM8AF62AA, STM8AF5268, STM8AF5269,<br>
    STM8AF5286, STM8AF5288, STM8AF5289, STM8AF528A,<br>
    STM8AF52A6, STM8AF52A8, STM8AF52A9, STM8AF52AA,<br>
    STM8AL3136, STM8AL3138, STM8AL3146, STM8AL3148,<br>
    STM8AL3166, STM8AL3168, STM8AL3L46, STM8AL3L48,<br>
    STM8AL3L66, STM8AL3L68, STM8AL3188, STM8AL3189,<br>
    STM8AL318A, STM8AL3L88, STM8AL3L89, STM8AL3L8A,<br>
    STM8TL52F4, STM8TL52G4, STM8TL53C4, STM8TL53F4,<br>
    STM8TL53G4
</blockquote>
The STM8 core extends the address space to 16 Mbytes and introduces a
couple of new instructions. Though many instructions have the same
machine code as for ST7, it is not binary upward compatible.
<blockquote>
    az) ST9020, ST9030, ST9040, ST9050
</blockquote>
These 4 names represent the four ''sub-families'' of the ST9 family,
which only differ in their on-chip peripherals. Their processor cores
are identical, which is why this distinction is again only used in
the include file containing the peripheral addresses.
<blockquote>
    ba) 6804
</blockquote>
<blockquote>
    bb) 32010-&gt;32015
</blockquote>
The TMS32010 owns just 144 bytes of internal RAM, and so AS limits
addresses in the data segment just up to this amount. This
restriction does not apply for the 32015, the full range from 0..255
can be used.
<blockquote>
    bc) 320C25 -&gt; 320C26 -&gt; 320C28
</blockquote>
These processors only differ slightly in their on-chip peripherals
and in their configuration instructions.
<blockquote>
    bd) 320C30, 320C31 -&gt; 320C40, 320C44
</blockquote>
The 320C31 is a reduced version with the same instruction set,
however fewer peripherals. The distinction is exploited in<tt>
STDDEF3X.INC</tt>. The C4x variants are sourcecode upward compatible,
the machine codes of some instructions are however slightly
different. Once again, the C44 is a stripped-down version of the C40,
with less peripherals and a smaller address space.
<blockquote>
    be) 320C203 -&gt; 320C50, 320C51, 320C53
</blockquote>
The first one represents the C20x family of signal processors which
implement a subset of the C5x instruction set. The distinction among
the C5x processors is currently not used by AS.
<blockquote>
    bf) 320C541
</blockquote>
This one at the moment represents the TMS320C54x family...
<blockquote>
    bg) TI990/4, TI990/10, TI990/12<br>
    TMS9900, TMS9940, TMS9995, TMS99105, TMS99110
</blockquote>
The TMS99xx/99xxx processors are basically single chip
implementations of the TI990 minicomputers. Some TI990 models are
even based on such a processor instead of a discrete CPU. The
individual models differ in their instruction set (the TI990/12 has
the largest one) and the presence of a privileged mode.
<blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> bh)</td><td nowrap="nowrap"> TMS70C00, TMS70C20, TMS70C40,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> TMS70CT20, TMS70CT40,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> TMS70C02, TMS70C42, TMS70C82,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> TMS70C08, TMS70C48</td></tr>
    <tr><td nowrap="nowrap"></td></tr>
</tbody></table></blockquote>
All members of this family share the same CPU core, they therefore do
not differ in their instruction set. The differences manifest only in
the file<tt> REG7000.INC</tt> where address ranges and peripheral
addresses are defined. Types listed in the same row have the same
amount of internal RAM and the same on-chip peripherals, they differ
only in the amount of integrated ROM.
<blockquote>
    bi) 370C010, 370C020, 370C030, 370C040 and 370C050
</blockquote>
Similar to the MCS-51 family, the different types are only used to
differentiate the peripheral equipment in<tt> STDDEF37.INC</tt>; the
instruction set is always the same.
<blockquote>
    bj) MSP430 -&gt; MSP430X The X variant of the CPU core extends the
    address space from 64 KiBytes to 1 MiByte and augments the
    instruction set, e.g. by prefixed to repeat instructions.
</blockquote>
<blockquote>
    bk) TMS1000, TMS1100, TMS1200, TMS1300
</blockquote>
TMS1000 and TMS1200 each provide 1 KByte of ROM and 64 nibbles of
RAM, while TMS1100 and TMS1300 provide twice the amount of RAM and
ROM. Furthermore, TI has defined a significantly different default
instruction set fot TMS1100 and TMS1300(AS only knows the default
instruction sets!)
<blockquote>
    bl) SC/MP
</blockquote>
<blockquote>
    bm) 8070
</blockquote>
This processor represents the whole 807x family (which consists at
least of the 8070, 8072, and 8073), which however shares identical
CPU cores.
<blockquote>
    bn) COP87L84
</blockquote>
This is the only member of National Semiconductor's COP8 family that
is currently supported. I know that the family is substantially
larger and that there are representors with differently large
instruction sets which will be added when a need occurs. It is a
beginning, and National's documentation is quite extensive...
<blockquote>
    bo) COP410 -&gt; COP420 -&gt; COP440 -&gt; COP444 The COP42x derivates
    offer some additional instructions, plus other instructions have
    an extended operand range.
</blockquote>
<blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> bp)</td><td nowrap="nowrap"> SC14400, SC14401, SC14402, SC14404, SC14405,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> SC14420, SC14421, SC14422, SC14424</td></tr>
    <tr><td nowrap="nowrap"></td></tr>
</tbody></table></blockquote>
This series of DECT controllers differentiates itself by the amount
of instructions, since each of them supports different B field
formats and their architecture has been optimized over time.
<blockquote>
    bq) NS16008, NS32008, NS08032, NS16032, NS32016, NS32032,<br>
    NS32332, NS32CG16, NS32532
</blockquote>
National renamed the first-generation CPUs several times in the early
years, NS16008/NS32008/NS08032 resp. NS16032/NS32016 are the same
chips. NS32332 and NS32532 support an address space of 4 GBytes
instead of 16 MBytes, and the NS32CG16 is an embedded variant with
additional instructions for bit block transfers.
<blockquote>
    br) ACE1101, ACE1202
</blockquote>
<blockquote>
    bs) F3850, MK3850,<br>
    MK3870, MK3870/10, MK3870/12, "MK3870/20, MK3870/22,<br>
    MK3870/30, MK3870/32, MK3870/40, MK3870/42,<br>
    MK3872, MK3873, MK3873/10, MK3873/12, MK3873/20,<br>
    MK3873/22, MK3874, MK3875, MK3875/22, MK3875/42,<br>
    MK3876, MK38P70/02, MK38C70, MK38C70/10,<br>
    MK38C70/20, MK97400, MK97410, MK97500, MK97501,<br>
    MK97503
</blockquote>
This huge amount of variants partially results from the fact that
Mostek renamed some variants in the early 80s. The new naming scheme
allows to deduce the amount of internal ROM (0 to 4 for 0 to 4
Kbytes) and executable RAM (0 or 2 for 0 or 64 bytes) from the
suffix. 3850 and MK975xx support a 64K address space, which is only 4
Kbytes for all other variants. P variants have an EEPROM piggyback
socket for prototyping, C variants are fabricated in CMOS technology
and feature two new machine instructions (HET and HAL). The MK3873's
feature is a built-in serial port, while the MK3875 offers a second
supply voltage pin to buffer the internal memory in standby mode.
<blockquote>
    bt) 7800, 7801, 7802<br>
    78C05, 78C06<br>
    7807, 7808, 7809<br>
    7810-&gt;78C10, 78C11, 78C12, 78C14, 78C17, 78C18
</blockquote>
µPD7800 to µPD7802 represent the ''first generation'' of
the uCOM87 family from NEC. µPD78C05 and µPD78C06 are
reduced variants that implement only a subset of the instruction set.
7807 to 7809 represent the uCOM87 series, whose instruction set was
vastly extended. All µPD781x variants belong to the uCOM87AD
series, which adds an A/D converter - however, instructions for bit
processing were again removed.<b> NOTE:</b> The instruction set is in
general only partially binary upward compatible! The NMOS version
µPD7810 has no stop-mode; the respective command and the ZCM
register are omitted.<b> CAUTION!</b> NMOS and CMOS version partially
differ in the reset values of some registers!
<blockquote>
    bu) 7500 &lt;-&gt; 7508
</blockquote>
There are two different types of CPU cores in the µPD75xx
family: the 7566 represents the the 'instruction set B', which
provides less instructions, less registers and smaller address
spaces. The 7508 represents the 'full' instruction set A.<b>
CAUTION!</b> These instruction sets are not 100% binary compatible!
<blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> bv)</td><td nowrap="nowrap"> 75402,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75004, 75006, 75008,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75268,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75304, 75306, 75308, 75312, 75316,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75328,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75104, 75106, 75108, 75112, 75116,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75206, 75208, 75212, 75216,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> 75512, 75516</td></tr>
    <tr><td nowrap="nowrap"></td></tr>
</tbody></table></blockquote>
This 'cornucopia' of processors differs only by the RAM size in one
group; the groups themselves again differ by their on-chip
peripherals on the one hand and by their instruction set's power on
the other hand.
<blockquote>
    bw) 78070
</blockquote>
This is currently the only member of NEC's 78K0 family I am familiar
with. Similar remarks like for the COP8 family apply!
<blockquote>
    bx) 78214
</blockquote>
This is currently the representor of NEC's 78K2 family.
<blockquote>
    by) 78310
</blockquote>
This is currently the representor of NEC's 78K3 family.
<blockquote>
    bz) 784026
</blockquote>
This is currently the representor of NEC's 78K4 family.
<blockquote>
    ca) 7720 -&gt; 7725
</blockquote>
The µPD7725 offers larger address spaces and som more
instructions compared to his predecessor.<b> CAUTION!</b> The
processors are not binary compatible to each other!
<blockquote>
    cb) 77230
</blockquote>
<blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> cc)</td><td nowrap="nowrap"> SYM53C810, SYM53C860, SYM53C815, SYM53C825,</td></tr>
    <tr><td nowrap="nowrap"></td><td nowrap="nowrap"> SYM53C875, SYM53C895</td></tr>
</tbody></table></blockquote>
The simpler members of this family of SCSI processors lack some
instruction variants, furthermore they are different in their set of
internal registers.
<blockquote>
    cd) MB89190
</blockquote>
This processor type represents Fujitsu's F<sup>2</sup>MC8L series...
<blockquote>
    ce) MB9500
</blockquote>
...just like this one does it currently for the 16-bit variants from
Fujitsu!
<blockquote>
    cf) MSM5840, MSM5842, MSM58421, MSM58422, MSM5847
</blockquote>
These variants of the OLMS-40 family differ in their instruction set
and in the amount of internal program and data memory.
<blockquote>
    cg) MSM5054, MSM5055, MSM5056, MSM6051, MSM6052
</blockquote>
The as for the OLMS-40 family: differences in instruction set and the
amount of internal program and data memory.
<blockquote>
    ch) MN1610[ALT] -&gt; MN1613[ALT]
</blockquote>
In addition to its predecessor's features, the MN1613 offers a larger
address space, a floating point unit and a couple of new machine
instructions.
<blockquote>
    ci) PMC150, PMS150, PFS154, PMC131, PMS130, PMS131<br>
    PMS132, PMS132B, PMS152, PMS154B, PMS154C, PFS173<br>
    PMS133, PMS134, DF69, MCS11, PMC232, PMC234, PMC251<br>
    PMC271,PMC884, PMS232, PMS234, PMS271
</blockquote>
The Padauk controllers differ in the size of the internal (ROM/RAM)
memory, the type of internal ROM (erasable or OTP), the built-in
peripherals, and their instruction set (both extent and binary
coding).
<blockquote>
    cj) 1802 -&gt; 1804, 1805, 1806 -&gt; 1804A, 1805A, 1806A
</blockquote>
1804, 1805, and 1806 feature an instruction set that is slightly
enhanced, compared to the 'original' 1802, plus on-chip RAM and an
integrated timer. The A variants extend the instruction set by<tt>
DSAV</tt>,<tt> DBNZ</tt>, and instructions for addition and
subtraction in BCD format.
<blockquote>
    ck) XS1
</blockquote>
This type represents the XCore-"family".
<blockquote>
    cl) 1750
</blockquote>
MIL STD 1750 is a standard, therefore there is only one (standard)
variant...
<blockquote>
    cm) KENBAK
</blockquote>
Since there has never been a KENBAK-2, the target is simply KENBAK...
<blockquote>
    cn) CP-1600
</blockquote>
<p>
The<tt> CPU</tt> instruction needs the processor type as a simple
literal, a calculation like:
</p><pre>
        CPU     68010+10

</pre>
is not allowed. Valid calls are e.g.
<pre>
        CPU     8051

</pre>
or
<pre>
        CPU     6800

</pre>
Regardless of the processor type currently set, the integer
variable<tt> MOMCPU</tt> contains the current status as a hexadecimal
number. For example,<tt> MOMCPU</tt>=$68010 for the 68010 or<tt>
MOMCPU</tt>=80C48H for the 80C48. As one cannot express all letters
as hexadecimal digits (only A..F are possible), all other letters
must must be omitted in the hex notation; for example,<tt>
MOMCPU</tt>=80H for the Z80.
<p>
You can take advantage of this feature to generate different code
depending on the processor type. For example, the 68000 does not have
a machine instruction for a subroutine return with stack correction.
With the variable<tt> MOMCPU</tt> you can define a macro that uses
the machine instruction or emulates it depending on the processor
type:
</p><pre>
myrtd   macro   disp
        if      MOMCPU&lt;$68010 ; emulate for 68008 &amp; 68000
         move.l (sp),disp(sp)
         lea    disp(sp),sp
         rts
        elseif
         rtd    #disp         ; direct use on &gt;=68010
        endif
        endm


        cpu     68010
        myrtd   12            ; results in RTD #12

        cpu     68000
        myrtd   12            ; results in MOVE../LEA../RTS

</pre>
As not all processor names are built only out of numbers and letters
from A..F, the full name is additionally stored in the string
variable named<tt> MOMCPUNAME</tt>.
<p>
The assembler implicitly switches back to the<tt> CODE</tt> segment
when a<tt> CPU</tt> instruction is executed. This is done because<tt>
CODE</tt> is the only segment all processors support.
</p><p>
The default processor type is 68008, unless it has been changed via
the command line option with same name.
</p><p>
Some targets define options or variants that are so fundamental for
operation, that they have to be selected with the<tt> CPU</tt>
instruction. Such options are appended to the argument, separated by
double colons:
</p><pre>
  CPU &lt;CPU Name&gt;:&lt;var1&gt;=&lt;val1&gt;:&lt;var2&gt;=&lt;val2&gt;:...

</pre>
See the respective section with processor-specific hints to check
whether a certain target supports such options.
<p>

</p><h3><a name="sect_3_2_4_">3.2.4. SUPMODE, FPU, PMMU, CUSTOM</a></h3>
<a name="index_SUPMODE_1"></a><a name="index_FPU_1"></a><a name="index_PMMU_1"></a><a name="index_CUSTOM_1"></a><a name="ref_SectSUPMODE"></a>
<p>
<em> SUPMODE valid for: 680x0, i960, TLCS-900, SH7000, i960, 29K,
XA,<br>
PowerPC, M*Core, and TMS9900<br>
FPU valid for: 680x0, NS32xxx, 80x86<br>
PMMU valid for: 680x0, NS32xxx<br>
CUSTOM valid for: NS32xxx<br>
</em>
</p><p>
These three switches allow to define which parts of the instruction
set shall be disabled because the necessary preconditions are not
valid for the following piece of code. The parameter for these
instructions may be either<tt> ON</tt> or<tt> OFF</tt>, the current
status can be read out of a variable which is either TRUE or FALSE.
</p><p>
The commands have the following meanings in detail:
</p><ul>
<li> <tt>SUPMODE</tt>: allows or prohibits commands, for whose execution
    the processor has to be within the supervisor mode. The status
    variable is called<tt> INSUPMODE</tt>.</li>
<li> <tt>FPU</tt>: allows or prohibits the commands of the numerical
    coprocessors 8087, NS32081/32381 resp. 68881 or 68882. The status
    variable is called<tt> FPUAVAIL</tt>. For NS32xxx as target,
    specifying the explicit FPU type (<tt>NS32081</tt>,<tt>
    NS32181</tt>,<tt> NS32381</tt>, or<tt> NS32580</tt>) is also
    possible, to enable or disable the additional registers and
    instructions.</li>
<li> <tt>PMMU</tt>: allows or prohibits the commands of the memory
    management unit 68851 resp. of the built-in MMU of the 68030.<b>
    CAUTION!</b> The 68030-MMU supports only a relatively small
    subset of the 68851 instructions. This is controlled via the<tt>
    FULLPMMU</tt> statement. The status variable is called<tt>
    PMMUAVAIL</tt>. For NS32xxx as target, specifying the explicit
    MMU type as target (<tt>NS32082</tt>,<tt> NS32381</tt>, or<tt>
    NS32352</tt>) is also possible, to enable access to the
    MMU-type-specific register set.</li>
<li> <tt>CUSTOM</tt>: allows or prohibits the commands reserved for
    custom slave processors.</li>
</ul>
The usage of of instructions prohibited in this manner will generate
a warning at<tt> SUPMODE</tt>, at<tt> PMMU</tt> and<tt> FPU</tt> a
real error message.
<p>

</p><h3><a name="sect_3_2_5_">3.2.5. FULLPMMU</a></h3>
<a name="index_FULLPMMU_1"></a>
<p>
<em> valid for: 680x0</em>
</p><p>
Motorola integrated the MMU into the processor starting with the
68030, but the built-in FPU is equipped only with a relatively small
subset of the 68851 instruction set. AS will therefore disable all
extended MMU instructions when the target processor is 68030 or
higher. It is however possible that the internal MMU has been
disabled in a 68030-based system and the processor operates with an
external 68851. One can the use a<tt> FULLPMMU ON</tt> to tell AS
that the complete MMU instruction set is allowed. Vice versa, one may
use a<tt> FULLPMMU OFF</tt> to disable all additional instruction in
spite of a 68020 target platform to assure that portable code is
written. The switch between full and reduced instruction set may be
done as often as needed, and the current setting may be read from a
symbol with the same name.<b> CAUTION!</b> The<tt> CPU</tt>
instruction implicitly sets or resets this switch when its argument
is a 68xxx processor!<tt> FULLPMMU</tt> therefore has to be written
after the<tt> CPU</tt> instruction!
</p><p>

</p><h3><a name="sect_3_2_6_">3.2.6. PADDING</a></h3>
<a name="index_PADDING_1"></a>
<p>
<em> valid for: 680x0, 68xx, M*Core, XA, H8, SH7000, MSP430(X),
TMS9900,<br>
ST7/STM8, AVR (only if code segment granularity is 8 bits)</em>
</p><p>
Various processor families have a requirement that objects of more
than one byte length must be located on a n even address. Aside from
data objects, this may also include instruction words. For instance,
word accesses to an odd address result in an exception on a 68000,
while other processors like the H8 force the lowest address bit to
zero.
</p><p>
The<tt> PADDING</tt> instruction allows to activate a mechanism that
tries to avoid such misalignments. If the situation arises that an
instruction word, or a data object of 16 bits or more (created e.g.
via<tt> DC</tt>) would be stored on an odd address, a padding byte is
automatically inserted before. Such a padding byte is displayed in
the listing in a separate line that contains the remark
</p><pre>
&lt;padding&gt;

</pre>
If the source line also contained a label, the label still points to
the address of the code or data object, i.e. right behind the pad
byte. The same is true for a label in a source line immediately
before, as long as this line<em></em> only holds the label and no
other instruction. So, in the follwing example:
<pre>
       padding  on
       org      $1000

       dc.b     1
adr1:  nop

       dc.b     1
adr2:
       nop

       dc.b     1
adr3:  equ      *
       nop

</pre>
the labels<tt> adr1</tt> and<tt> adr2</tt> hold the addresses of the
respective<tt> NOP</tt> instructions, which were made even by
inserting a pad byte.<tt> adr3</tt> in contrast holds the address of
the pad byte preceding the third<tt> NOP</tt>.
<p>
Similar to the previous instructions, the argument to<tt>
PADDING</tt> may be either<tt> ON</tt> or<tt> OFF</tt>, and the
current setting may be read from a symbol with the same name.<tt>
PADDING</tt> is by default only enabled for the 680x0 family, it has
to be turned on explicitly for all other families.
</p><p>

</p><h3><a name="sect_3_2_7_">3.2.7. PACKING</a></h3>
<a name="index_PACKING_1"></a>
<p>
<em> valid for: AVR</em>
</p><p>
In some way,<tt> PACKING</tt> is similar to<tt> PADDING</tt>, it just
has a somewhat opposite effect: While<tt> PADDING</tt> extends the
disposed data to get full words and keep a possible alignment,<tt>
PACKING</tt> squeezes several values into a single word. This makes
sense for the AVR's code segment since the CPU has a special
instruction (<tt> LPM</tt>) to access single bytes within a 16-bit
word. In case this option is turned on (argument<tt> ON</tt>), two
byte values are packed into a single word by<tt> DATA</tt>, similar
to the single characters of string arguments. The value range of
course reduces to -128...+255. If this option is turned off
(argument<tt> OFF</tt>), each integer argument obtains its own word
and may take values from -32768...+65535.
</p><p>
This distinctin is only made for integer arguments of<tt> DATA</tt>,
strings will always be packed.. Keep further in mind that packing of
values only works within the arguments of a<tt> DATA</tt> statement;
if one has subsequent<tt> DATA</tt> statements, there will still be
half-filled words when the argument count is odd!
</p><p>

</p><h3><a name="sect_3_2_8_">3.2.8. MAXMODE</a></h3>
<a name="index_MAXMODE_1"></a>
<p>
<em> valid for: TLCS-900, H8</em>
</p><p>
The processors of the TLCS-900-family are able to work in 2 modes,
the minimum and maximum mode. Depending on the actual mode, the
execution environment and the assembler are a little bit different.
Along with this instruction and the parameter<tt> ON</tt> or<tt>
OFF</tt>, AS is informed that the following code will run in maximum
resp. minimum mode. The actual setting can be read from the
variable<tt> INMAXMODE</tt>. Presetting is<tt> OFF</tt>, i.e. minimum
mode.
</p><p>
Similarly, one uses this instruction to tell AS in H8 mode whether
the address space is 64K or 16 Mbytes. This setting is always<tt>
OFF</tt> for the 'small' 300 version and cannot be changed.
</p><p>

</p><h3><a name="sect_3_2_9_">3.2.9. EXTMODE and LWORDMODE</a></h3>
<a name="index_EXTMODE_1"></a><a name="index_LWORDMODE_1"></a>
<p>
<em> valid for: Z380</em>
</p><p>
The Z380 may operate in altogether 4 modes, which are the result of
setting two flags: The XM flag rules whether the processor shall
operate wit an address space of 64 Kbytes or 4 Gbytes and it may only
be set to 1 (after a reset, it is set to 0 for compatibility with the
Z80). The LW flag in turn rules whether word operations shall work
with a word size of 16 or 32 bits. The setting of these two flags
influences range checks of constants and addresses, which is why one
has to tell AS the setting of these two flags via these instructions.
The default assumption is that both flags are 0, the current setting
(<tt>ON</tt> or<tt> OFF</tt>) may be read from the predefined
symbols<tt> INEXTMODE</tt> resp.<tt> INLWORDMODE.</tt>
</p><p>

</p><h3><a name="sect_3_2_10_">3.2.10. SRCMODE</a></h3>
<a name="index_SRCMDE_1"></a>
<p>
<em> valid for: MCS-251</em>
</p><p>
Intel substantially extended the 8051 instruction set with the
80C251, but unfortunately there was only a single free opcode for all
these new instructions. To avoid a processor that will be eternally
crippled by a prefix, Intel provided two operating modes: the binary
and the source mode. The new processor is fully binary compatible to
the 8051 in binary mode, all new instructions require the free opcode
as prefix. In source mode, the new instructions exchange their places
in the code tables with the corresponding 8051 instructions, which in
turn then need a prefix. One has to inform AS whether the processor
operates in source mode (<tt>ON</tt>) or binary mode (<tt>OFF</tt>)
to enable AS to add prefixes when required. The current setting may
be read from the variable<tt> INSRCMODE</tt>. The default is<tt>
OFF</tt>.
</p><p>

</p><h3><a name="sect_3_2_11_">3.2.11. BIGENDIAN</a></h3>
<a name="index_BIGENDIAN_1"></a>
<p>
<em> valid for: MCS-51/251, PowerPC, SC/MP</em>
</p><p>
Intel broke with its own principles when the 8051 series was
designed: in contrast to all traditions, the processor uses
big-endian ordering for all multi-byte values! While this was not a
big deal for MCS-51 processors (the processor could access memory
only in 8-bit portions, so everyone was free to use whichever
endianess one wanted), it may be a problem for the 251 as it can
fetch whole (long-)words from memory and expects the MSB to be first.
As this is not the way of constant disposal earlier versions of AS
used, one can use this instruction to toggle between big and little
endian mode for the instructions<tt> DB, DW, DD, DQ,</tt> and<tt>
DT</tt>.<tt> BIGENDIAN OFF</tt> (the default) puts the LSB first into
memory as it used to be on earlier versions of AS,<tt> BIGENDIAN
ON</tt> engages the big-endian mode compatible to the MCS-251. One
may of course change this setting as often as one wants; the current
setting can be read from the symbol with the same name.
</p><p>

</p><h3><a name="sect_3_2_12_">3.2.12. WRAPMODE</a></h3>
<a name="index_WRAPMODE_1"></a>
<p>
<em> valid for: Atmel AVR</em>
</p><p>
After this switch has been set to<tt> ON</tt>, AS will assume that
the processor's program counter does not have the full length of 16
bits given by the architecture, but instead a length that is exactly
sufficient to address the internal ROM. For example, in case of the
AT90S8515, this means 12 bits, corresponding to 4 Kwords or 8 Kbytes.
This assumption allows relative branches from the ROM's beginning to
the end and vice versa which would result in an out-of-branch error
when using strict arithmetics. Here, they work because the carry bits
resulting from the target address computation are discarded. Assure
that the target processor you are using works in the outlined way
before you enable this option! In case of the abovementioned
AT90S8515, this option is even necessary because it is the only way
to perform a direct jump through the complete address space...
</p><p>
This switch is set to<tt> OFF</tt> by default, and its current
setting may be read from a symbol with same name.
</p><p>

</p><h3><a name="sect_3_2_13_">3.2.13. SEGMENT</a></h3>
<a name="index_SEGMENT_1"></a><a name="ref_SEGMENT"></a>
<p>
<em> valid for: all processors</em>
</p><p>
Some microcontrollers and signal processors know various address
ranges, which do not overlap with each other and require also
different instructions and addressing modes for access. To manage
these ones also, the assembler provides various program counters, you
can switch among them to and from by the use of the<tt> SEGMENT</tt>
instruction. For subroutines included with<tt> INCLUDE</tt>, this
e.g. allows to define data used by the main program or subroutines
near to the place they are used. In detail, the following segments
with the following names are supported:
</p><ul>
<li> <tt>CODE</tt>: program code;</li>
<li> <tt>DATA</tt>: directly addressable data (including SFRs);</li>
<li> <tt>XDATA</tt>: data in externally connected RAM or X-addressing
    space of the DSP56xxx or ROM data for the µPD772x;</li>
<li> <tt>YDATA</tt>: Y-addressing space of the DSP56xxx;</li>
<li> <tt>IDATA</tt>: indirectly addressable (internal) data;</li>
<li> <tt>BITDATA</tt>: the part of the 8051-internal RAM that is bitwise
    addressable;</li>
<li> <tt>IO</tt>: I/O-address range;</li>
<li> <tt>REG</tt>: register bank of the ST9;</li>
<li> <tt>ROMDATA</tt>: constant ROM of the NEC signal processors;</li>
<li> <tt>EEDATA</tt>: built-in EEPROM.</li>
</ul>
See also section <a href="#ref_SectORG">3.2.1</a> (<tt>ORG</tt>) for
detailed information about address ranges and initial values of the
segments. Depending on the processor family, not all segment types
will be permitted.
<p>
The bit segment is managed as if it would be a byte segment, i.e. the
addresses will be incremented by 1 per bit.
</p><p>
Labels get the same type as attribute as the segment that was active
when the label was defined. So the assembler has a limited ability to
check whether you access symbols of a certain segment with wrong
instructions. In such cases the assembler issues a warning.
</p><p>
Example:
</p><pre>
        CPU     8051    ; MCS-51-code

        segment code    ; test code

        setb    flag    ; no warning
        setb    var     ; warning : wrong segment

        segment data

var     db      ?

        segment bitdata

flag    db      ?

</pre>
<p>

</p><h3><a name="sect_3_2_14_">3.2.14. PHASE and DEPHASE</a></h3>
<a name="index_PHASE_1"></a><a name="index_DEPHASE_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
For some applications (especially on Z80 systems), the code must be
moved to another address range before execution. If the assembler
didn't know about this, it would align all labels to the load address
(not the start address). The programmer is then forced to write jumps
within this area either independent of location or has to add the
offset at each symbol manually. The first one is not possible for
some processors, the last one is extremely error-prone. With the
commands<tt> PHASE</tt> and<tt> DEPHASE</tt>, it is possible to
inform the assembler at which address the code will really be
executed on the target system:
</p><pre>
        phase   &lt;address&gt;

</pre>
informs the assembler that the following code shall be executed at
the specified address. The assembler calculates thereupon the
difference to the real program counter and adds this difference for
the following operations:
<ul>
<li> address values in the listing</li>
<li> filing of label values</li>
<li> program counter references in relative jumps and address
    expressions</li>
<li> readout of the program counter via the symbols * or $</li>
</ul>
By using the instruction
<pre>
        DEPHASE

</pre>
, this ''shifting'' is reverted to the value previous to the most
recent<tt> PHASE</tt> instruction.<tt> PHASE</tt> und<tt>
DEPHASE</tt> may be used in a nested manner.
<p>
The assembler keeps phase values for all defined segments, although
this instruction pair only makes real sense in the code segment.
</p><p>

</p><h3><a name="sect_3_2_15_">3.2.15. SAVE and RESTORE</a></h3>
<a name="index_SAVE_1"></a><a name="index_RESTORE_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
The command<tt> SAVE</tt> forces the assembler to push the contents
of following variables onto an internal stack:
</p><ul>
<li> currently selected processor type (set by<tt> CPU</tt>);</li>
<li> currently active memory area (set by<tt> SEGMENT</tt>);</li>
<li> the flag whether listing is switched on or off (set by<tt>
    LISTING</tt>);</li>
<li> the flags that define which part of expanded macros shall be printed
    in the assembly listing (set by<tt>
    /MACEXP_DFT/MACEXP_OVR</tt>).</li>
<li> currently active character translation table (set by<tt>
    CODEPAGE</tt>).</li>
</ul>
The counterpart<tt> RESTORE</tt> pops the values saved last from this
stack. These two commands were primarily designed for include files,
to change the above mentioned variables in any way inside of these
files, without loosing their original content. This may be helpful
e.g. in include files with own, fully debugged subroutines, to switch
the listing generation off:
<pre>
        SAVE            ; save old status

        LISTING OFF     ; save paper

        .               ; the actual code
        .

        RESTORE         ; restore

</pre>
In opposite to a simple<tt> LISTING OFF .. ON</tt>-pair, the correct
status will be restored, in case the listing generation was switched
off already before.
<p>
The assembler checks if the number of<tt> SAVE</tt>-and<tt>
RESTORE</tt>-commands corresponds and issues error messages in the
following cases:
</p><ul>
<li> <tt>RESTORE</tt>, but the internal stack is empty;</li>
<li> the stack not empty at the end of a pass.</li>
</ul>
<p>

</p><h3><a name="sect_3_2_16_">3.2.16. ASSUME</a></h3>
<a name="index_ASSUME_1"></a>
<p>
<em> valid for: various</em>
</p><p>
This instruction allows to tell AS the current setting of certain
registers whose contents cannot be described with a simple<tt>
ON</tt> or<tt> OFF</tt>. These are typically registers that influence
addressing modes and whose contents are important to know for AS in
order to generate correct addressing. It is important to note
that<tt> ASSUME</tt> only informs AS about these,<b> no</b> machine
code is generated that actually loads these values into the
appropriate registers!
</p><p>
A value defined with<tt> ASSUME</tt> can be queried or integrated
into expressions via the built-in function<tt> ASSUMEDVAL</tt>. This
is the case for all architectures listed in the following
sub-sections except for the 8086.
</p><p>

</p><h4>65CE02</h4>
<p>
The 65CE02 features a a register named 'B' that is used to set the
'base page'. In comparison to the original 6502, this allows the
programmer to place the memory page addressable with short (8 bit)
addresses anywhere in the 64K address space. This register is set to
zero after a reset, so the 65CE02 behaves like its predecessor. A
base page at zero is also the default assumption of the assembler. It
may be informed about its actual contents via a<tt> ASSUME B:xx</tt>
statement. Addresses located in this page will then automatically be
addressed via short addressing modes.
</p><p>

</p><h4>6809</h4>
<p>
In contrast to its 'predecessors' like the 6800 and 6502, the
position of the direct page, i.e. the page of memory that can be
reached with single-byte addresses, can be set freely. This is done
via the 'direct page register' that sets the page number. One has to
assign a corresponding value to this register via<tt> ASSUME</tt> is
the contents are different from the default of 0, otherwise wrong
addresses will be generated!
</p><p>

</p><h4>68HC11K4</h4>
<p>
Also for the HC11, the designers finally weren't able to avoid the
major sin: using a banking scheme to address more than 64 Kbytes with
only 16 address lines. The registers<tt> MMSIZ</tt>,<tt>
MMWBR</tt>,<tt> MM1CR</tt>, and<tt> MM2CR</tt> control whether and
how the additional 512K address ranges are mapped into the physical
address space. AS intially assumes the reset state of these
registers, i.e. all are set to $00 and windowing is disabled.
</p><p>

</p><h4>68HC12X</h4>
<p>
Similar to its cousin without the appended 'X', the HC12X supports a
short direct addressing mode. In this case however, it can be used to
address more than just the first 256 bytes of the address space.
The<tt> DIRECT</tt> register specifices which 256 byte page of the
address space is addressed by this addressing mode.<tt> ASSUME</tt>
is used to tell AS the current value of this register, so it is able
to automatically select the most efficient address ing mode when
absolute addresses are used. The default is 0, which corresponds to
the reset state.
</p><p>

</p><h4>68HC16</h4>
<p>
The 68HC16 employs a set of bank registers to address a space of 1
Mbyte with its registers that are only 16 bits wide. These registers
supply the upper 4 bits. Of these, the EK register is responsible for
absolute data accesses (not jumps!). AS checks for each absolute
address whether the upper 4 bits of the address are equal to the
value of EK specified via<tt> ASSUME</tt>. AS issues a warning if
they differ. The default for EK is 0.
</p><p>

</p><h4>H8/500</h4>
<p>
In maximum mode, the extended address space of these processors is
addressed via a couple of bank registers. They carry the names DP
(registers from 0..3, absolute addresses), EP (register 4 and 5), and
TP (stack). AS needs the current value of DP to check if absolute
addresses are within the currently addressable bank; the other two
registers are only used for indirect addressing and can therefore not
be monitored; it is a question of personal taste whether one
specifies their values or not. The BR register is in contrast
important because it rules which 256-byte page may be accessed with
short addresses. It is common for all registers that AS does not
assume<b> any</b> default value for them as they are undefined after
a CPU reset. Everyone who wants to use absolute addresses must
therefore assign values to at least DR and DP!
</p><p>

</p><h4>MELPS740</h4>
<p>
Microcontrollers of this series know a ''special page'' addressing
mode for the<tt> JSR</tt> instruction that allows a shorter coding
for jumps into the last page of on-chip ROM. The size of this ROM
depends of course on the exact processor type, and there are more
derivatives than it would be meaningful to offer via the CPU
instruction...we therefore have to rely on<tt> ASSUME</tt> to define
the address of this page, e.g.
</p><pre>
        ASSUME  SP:$1f

</pre>
in case the internal ROM is 8K.
<p>

</p><h4>MELPS7700/65816</h4>
<p>
These processors contain a lot of registers whose contents AS has to
know in order to generate correct machine code. These are the
registers in question:
</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">function</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">value range</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">default</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">DT/DBR<br>
PG/PBR<br>
DPR<br>
X<br>
M</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">data bank<br>
code Bank<br>
directly addr. page<br>
index register width<br>
accumulator width</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">0-$ff<br>
0-$ff<br>
0-$ffff<br>
0 or 1<br>
0 or 1</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">0<br>
0<br>
0<br>
0<br>
0</td>
</tr>
</tbody></table></center>
</center>
<p>
To avoid endless repetitions, see section <a href="#ref_MELPS7700Spec">4.14</a> for instructions how to use these
registers. The handling is otherwise similar to the 8086, i.e.
multiple values may be set with one instruction and no code is
generated that actually loads the registers with the given values.
This is again up to the programmer!
</p><p>

</p><h4>MCS-196/296</h4>
<p>
Starting with the 80196, all processors of the MCS-96 family have a
register 'WSR' that allows to map memory areas from the extended
internal RAM or the SFR range into areas of the register file which
may then be accessed with short addresses. If one informs AS about
the value of the WSR register, it can automatically find out whether
an absolute address can be addressed with a single-byte address via
windowing; consequently, long addresses will be automatically
generated for registers covered by windowing. The 80296 contains an
additional register WSR1 to allow simultaneous mapping of two memory
areas into the register file. In case it is possible to address a
memory cell via both areas, AS will always choose the way via WSR!
</p><p>
For indirect addressing, displacements may be either short (8 bits,
-128 to +127) or long (16 bits). The assembler will automatically use
the shortest possible encoding for a given displacement. It is
however possible to enforce a 16-bit coding by prefixing the
displacement argument with a bigger sign ((&gt;). Similarly, absolute
addresses in the area from 0ff80h to 0ffffh may be reached via a
short offset relative to the "null register".
</p><p>

</p><h4>8086</h4>
<p>
The 8086 is able to address data from all segments in all
instructions, but it however needs so-called ''segment prefixes'' if
another segment register than DS shall be used. In addition it is
possible that the DS register is adjusted to another segment, e.g. to
address data in the code segment for longer parts of the program. As
AS cannot analyze the code's meaning, it has to informed via this
instruction to what segments the segment registers point at the
moment, e.g.:
</p><pre>
        ASSUME  CS:CODE, DS:DATA    .

</pre>
It is possible to assign assumptions to all four segment registers in
this way. This instruction produces<b> no</b> code, so the program
itself has to do the actual load of the registers with the values.
<p>
The usage of this instruction has on the one hand the result that AS
is able to automatically put ahead prefixes at sporadic accesses into
the code segment, or on the other hand, one can inform AS that the
DS-register was modified and you can save explicit<tt>
CS:</tt>-instructions.
</p><p>
Valid arguments behind the colon are<tt> CODE</tt>,<tt> DATA</tt>
and<tt> NOTHING</tt>. The latter value informs AS that a segment
register contains no usable value (for AS). The following values are
preinitialized:
</p><pre>
  CS:CODE, DS:DATA, ES:NOTHING, SS:NOTHING

</pre>
<p>

</p><h4>XA</h4>
<p>
The XA family has a data address space of 16 Mbytes, a process
however can always address within a 64K segment only that is given by
the DS register. One has to inform AS about the current value of this
register in order to enable it to check accesses to absolute
addresses.
</p><p>

</p><h4>29K</h4>
<p>
The processors of the 29K family feature a register RBP that allows
to protect banks of 16 registers against access from user mode. The
corresponding bit has to be set to achieve the protection.<tt>
ASSUME</tt> allows to tell AS which value RBP currently contains. AS
can warn this way in case a try to access protected registers from
user mode is made.
</p><p>

</p><h4>80C166/167</h4>
<p>
Though none of the 80C166/167's registers is longer than sixteen
bits, this processor has 18/24 address lines and can therefore
address up to 256Kbytes/16Mbytes. To resolve this contradiction, it
neither uses the well-known (and ill-famed) Intel method of
segmentation nor does it have inflexible bank registers...no, it uses
paging! To accomplish this, the logical address space of 64 Kbytes is
split into 4 pages of 16 Kbytes, and for each page there is a page
register (named DPP0..DPP3) that rules which of the 16/1024 physical
pages shall be mapped to this logical page. AS always tries to
present the address space with a size of 256Kbytes/16MBytes in the
sight of the programmer, i.e. the physical page is taken for absolute
accesses and the setting of bits 14/15 of the logical address is
deduced. If no page register fits, a warning is issued. AS assumes by
default that the four registers linearly map the first 64 Kbytes of
memory, in the following style:
</p><pre>
        ASSUME  DPP0:0,DPP1:1,DPP2:2,DPP3:3

</pre>
The 80C167 knows some additional instructions that can override the
page registers' function. The chapter with processor-specific hints
describes how these instructions influence the address generation.
<p>
Some machine instructions have a shortened form that can be used if
the argument is within a certain range:
</p><ul>
<li> MOV Rn,#&lt;0..15&gt;</li>
<li> ADD/ADDC/SUB/SUBC/CMP/XOR/AND/OR Rn, #&lt;0..7&gt;</li>
<li> LOOP Rn,#&lt;0..15&gt;</li>
</ul>
The assembler automatically uses to the shorter coding if possible.
If one wants to enforce the longer coding, one may place a 'bigger'
character right before the expression (behind the double cross
character!). Vice versa, a 'smaller' character can be used to assure
the shorter coding is used. In case the operand does not fulfill the
range restrictions for the shorter coding, an error is generated.
This syntax may also be used for branches and calls which may either
have a short displacement or a long absolute argument.
<p>

</p><h4>TLCS-47</h4>
<p>
The direct data address space of these processors (it makes no
difference whether you address directly or via the HL register) has a
size of only 256 nibbles. Because the ''better'' family members have
up to 1024 nibbles of RAM on chip, Toshiba was forced to introduce a
banking mechanism via the DMB register. AS manages the data segment
as a continuous addressing space and checks at any direct addressing
if the address is in the currently active bank. The bank AS currently
expects can be set by means of
</p><pre>
        ASSUME  DMB:&lt;0..3&gt;

</pre>
The default value is 0.
<p>

</p><h4>ST6</h4>
<a name="ref_ST6Assume"></a>
<p>
The microcontrollers of the ST62 family are able to map a part (64
bytes) of the code area into the data area, e.g. to load constants
from the ROM. This means also that at one moment only one part of the
ROM can be addressed. A special register rules which part it is. AS
cannot check the contents of this register directly, but it can be
informed by this instruction that a new value has been assigned to
the register. AS then can test and warn if necessary, in case
addresses of the code segment are accessed, which are not located in
the ''announced'' window. If, for example, the variable<tt> VARI</tt>
has the value 456h, so
</p><pre>
        ASSUME  ROMBASE:VARI&gt;&gt;6

</pre>
sets the AS-internal variable to 11h, and an access to<tt> VARI</tt>
generates an access to address 56h in the data segment.
<p>
It is possible to assign a simple<tt> NOTHING</tt> instead of a
value, e.g. if the bank register is used temporarily as a memory
cell. This value is also the default.
</p><p>
The program counter of these controller only has a width of 12 bits.
This means that some sort of banking scheme had to be introduced if a
device includes more than 4 KBytes of program memory. The banking
scheme splits both proram space and program memory in pages of 2
KBytes. Page one of the program space always accesses page one of
program memory. The<tt> PRPR</tt> register present on such devices
selects which page of program memory is accessed via addresses 000h
to 7ffh of program space. As an initial approcimation, AS regards
program space to be linear and of the size of program memory. If a
jump or call from page one is made to code in one of the other pages,
it checks whether the assumed contents of the<tt> PRPR</tt> register
match the destination address. If a jump or call is done from one of
the other pages to an address outside of page one, it checks whether
the destination address is within the same page.<b> IMPORTANT</b>:
The program counter itself is only 12 bits wide. It is therefore not
possible to jump from one page to another one, without an
intermediate step of jumping back to page one. Changing the<tt>
PRPR</tt> register while operating outside of page one would result
in ''pulling out'' the code from under one's feet.
</p><p>

</p><h4>ST9</h4>
<p>
The ST9 family uses exactly the same instructions to address code and
data area. It depends on the setting of the flag register's DP flag
which address space is referenced. To enable AS to check if one works
with symbols from the correct address space (this of course<b>
only</b> works with absolute accesses!), one has to inform AS whether
the DP flag is currently 0 (code) or 1 (data). The initial value of
this assumption is 0.
</p><p>

</p><h4>78K2</h4>
<p>
78K2 is an 8/16 bit architecture, which has later been extended to a
one-megabyte addres space via banking. Banking is realized with the
registers PM6 (normal case) resp. P6 (alternate case with &amp; as
prefix) that supply the missing upper four address bits. At least for
absolute addresses, AS can check whether the current, linear 20-bit
address is within the given 64K window.
</p><p>

</p><h4>78K3</h4>
<p>
Processors witrh a 78K3 core have register banks that consist of 16
registers. These registers may be used via their numbers (<tt>R0</tt>
to<tt> R15</tt>) or their symbolic names (<tt>X=R0, A=R1, C=R2, B=R3,
VPL=R8, VPH=R9, UPL=R10, UPH=R11, E=R12, D=R13, L=R14, H=R15</tt>).
The processor core has a register select bit (<tt>RSS</tt>) to switch
the mapping of A/X and B/C from R0..R3 to R4..R7. This is mainly
important for instructions that implicitly use one of these registers
(i.e. instruction that do not encode the register number in the
machine code). However, it is also possible to inform the assembler
about the changed mapping via a
</p><p>
</p><pre>
  assume rss:1

</pre>
<p>
The assmebler will then insert the alternate register numbers into
machine instructions that explicitly encode the register numbers.
Vice versa,<tt> R5</tt> will be treated like<tt> A</tt> instead
of<tt> R1</tt> in the source code.
</p><p>

</p><h4>78K4</h4>
<p>
78K4 was designed as an 'upgrade path' from 78K3, which is why this
processor core contains the same RSS bit to control the mapping of
registers AX and BC (though NEC discourages use of it in new code).
</p><p>
Aside from many new instructins and addressing modes, the most
significant extension is the larger address space of 16 MBytes, of
which only the first MByte may be used for program code. The
CPU-internal RAM and all special function registers may be positioned
either at the top of the first MByte or the top of the first 64 KByte
page. Choice is made via the<tt> LOCATION</tt> machine instruction
that either takes a 0 or 15 as argument. Together with remapping RAM
and SFRs, the processor also switches the address ranges that may be
reached with short (8 bit) addresses. Parallel to using<tt>
LOCATION</tt>, one has to inform the assembler about this setting via
a<tt> ASSUME LOCATION:..</tt> statement. It will then use short
addressing for the proper ranges. The assembler will assume a default
of 0 for LOCATION.
</p><p>

</p><h4>320C3x/C4x</h4>
<p>
As all instruction words of this processor family are only 32 bits
long (of which only 16 bits were reserved for absolute addresses),
the missing upper 8/16 bits have to be added from the DP register. It
is however still possible to specify a full 24/32-bit address when
addressing, AS will check then whether the upper 8 bits are equal to
the DP register's assumed values.<tt> ASSUME</tt> is different to
the<tt> LDP</tt> instruction in the sense that one cannot specify an
arbitrary address out of the bank in question, one has to extract the
upper bits by hand:
</p><pre>
        ldp     @addr
        assume  dp:addr&gt;&gt;16
        .
        .
        ldi     @addr,r2

</pre>
<p>

</p><h4>uPD78(C)10</h4>
<p>
These processors have a register (V) that allows to move the ''zero
page'', i.e. page of memory that is addressable by just one byte,
freely in the address space, within page limits. By reasons of
comforts you don't want to work with expressions such as
</p><pre>
        inrw    Lo(counter)

</pre>
so AS takes over this job, but only under the premise that it is
informed via the<tt> ASSUME</tt>-command about the contents of the V
register. If an instruction with short addressing is used, it will be
checked if the upper half of the address expression corresponds to
the expected content. A warning will be issued if both do not match.
<p>

</p><h4>75K0</h4>
<p>
As the whole address space of 12 bits could not be addressed even by
the help of register pairs (8 bits), NEC had to introduce banking
(like many others too...): the upper 4 address bits are fetched from
the MBS register (which can be assigned values from 0 to 15 by
the<tt> ASSUME</tt> instruction), which however will only be regarded
if the MBE flag has been set to 1. If it is 0 (default), the lowest
and highest 128 nibbles of the address space can be reached without
banking. The<tt> ASSUME</tt> instruction is undefined for the 75402
as it contains neither a MBE flag nor an MBS register; the initial
values cannot be changed therefore.
</p><p>

</p><h4>F²MC16L</h4>
<p>
Similar to many other families of microcontrollers, this family
suffers somewhat from its designers miserliness: registers of only 16
bits width are faced with an address space of 24 bits. Once again,
bank registers had to fill the gap. In detail, these are PCB for the
progam code, DTB for all data accesses, ADB for indirect accesses via
RW2/RW6, and SSB/USB for the stacks. They may all take values from 0
to 255 and are by default assumed to be 0, with the exception of 0ffh
for PCB.
</p><p>
Furthermore, a DPR register exists that specifies which memory page
within the 64K bank given by DTB may be reached with 8 bit addresses.
The default for DPR is 1, resulting in a default page of 0001xxh when
one takes DTB's default into account.
</p><p>

</p><h4>MN1613</h4>
<p>
The MN1613 is an extension of an architecture with 16 bit addresses.
The address extension is done by a set of "segment registers" (CSBR,
SSBR, TSR0, and TSR1), each of which is four bits wide. The contents
of a segment register, left-shifted by 14 bits, is added to the 16
bit addresses. This way, a process may access a memory window of 64
KWords within the address space of 256 KWords. The assembler uses
segment register values reported via<tt> ASSUME</tt> to warn whether
an absolute address is outside the window defined by the used segment
register. If the address is within the window, it will compute the
correc t16-bit offset. Naturally, this cannot be done when indirect
addressing is used.
</p><p>

</p><h3><a name="sect_3_2_17_">3.2.17. CKPT</a></h3>
<a name="index_CKPT_1"></a>
<p>
<em> valid for: TI990/12</em>
</p><p>
Type 12 instructions require a<em> checkpoint register</em> for
execution. This register may either be specified explicitly as fourth
argument, or a default for all following code may be given via this
instruction. If neither a<tt> CKPT</tt> instruction nor an explicit
checkpoint register was used, an error is reported. The default of no
default register may be restored by using<tt> NOTHING</tt> as
argument to<tt> CKPT</tt>.
</p><p>

</p><h3><a name="sect_3_2_18_">3.2.18. EMULATED</a></h3>
<p>
<em> valid for: 29K</em>
</p><p>
AMD defined the 29000's series exception handling for undefined
instructions in a way that there is a separate exception vector for
each instruction. This allows to extend the instruction set of a
smaller member of this family by a software emulation. To avoid that
AS quarrels about these instructions as being undefined, the<tt>
EMULATED</tt> instruction allows to tell AS that certain instructions
are allowed in this case. The check if the currently set processors
knows the instruction is then skipped. For example, if one has
written a module that supports 32-bit IEEE numbers and the processor
does not have a FPU, one writes
</p><pre>
        EMULATED FADD,FSUB,FMUL,FDIV
        EMULATED FEQ,FGE,FGT,SQRT,CLASS

</pre>
<p>

</p><h3><a name="sect_3_2_19_">3.2.19. BRANCHEXT</a></h3>
<a name="index_BRANCHEXT_1"></a>
<p>
<em> valid for: XA</em>
</p><p>
<tt> BRANCHEXT</tt> with either<tt> ON</tt> or<tt> OFF</tt> as
argument tells AS whether short branches that are only available with
an 8-bit displacement shall automatically be 'extended', for example
by replacing a single instruction like
</p><pre>
        bne     target

</pre>
with a longer sequence of same functionality, in case the branc
target is out of reach for the instruction's displacement. For
example, the replacement sequence for<tt> bne</tt> would be
<pre>
        beq     skip
        jmp     target
skip:

</pre>
In case there is no fitting 'opposite' for an instruction, the
sequence may become even longer, e.g. for<tt> jbc</tt>:
<pre>
        jbc     dobr
        bra     skip
dobr:   jmp     target
skip:

</pre>
This feature however has the side effect that there is no unambigious
assignment between machine and assembly code any more. Furthermore,
additional passes may be the result if there are forward branches.
One should therefore use this feature with caution!
<p>

</p><h3><a name="sect_3_2_20_">3.2.20. Z80SYNTAX</a></h3>
<a name="index_Z80SYNTAX_1"></a>
<p>
<em> G"ultigkeit: 8008, 8080/8085</em>
</p><p>
With<tt> ON</tt> as argument, one can optionally write (almost) all
8008/8080 instructions in the form Zilog defined them for the Z80.
For instance, you simply use<tt> LD</tt> with self-explaining
operands instead of<tt> MVI, LXI, MOV, STA, LDA, SHLD, LHLD, LDAX,
STAX</tt> or<tt> SPHL</tt>.
</p><p>
Since some mnemonics have a different meaning in 8008/8080 and Z80
syntax, it is not possible to program in 'Z80 style' all the time,
unless the '8080 syntax' is turned off entirely by using<tt>
EXCLUSIVE</tt> as argument. The details of this operation mode can be
looked up in section <a href="#ref_8080Spec">4.20</a>.
</p><p>
A built-in symbol of same name allows to query the operation mode.
The mapping is<tt> 0=OFF</tt>,<tt> 1=ON</tt>, and<tt>
2=EXCLUSIVE</tt>.
</p><p>

</p><h3><a name="sect_3_2_21_">3.2.21. EXPECT and ENDEXPECT</a></h3>
<a name="index_EXPECT_1"></a><a name="index_ENDEXPECT_1"></a>
<p>
This pair of instructions may be used to frame a piece of code that
is<em> expected</em> to trigger one or more error or warning
messages. If the errors or warnings (identified by their numbers, see
chapter <a href="#ref_ChapErrMess">A</a>) do occur, they are
suppressed and assembly continues without any error (naturally,
without creating code at the erroneous places). However, if warnings
or errors that were expected do not occur,<tt> ENDEXPECT</tt> will
emit errors about them. The main usage scenario of these instructions
are the self tests in the tests/ subdirectory. For instance, one may
check this way if range checking of operands works as expected:
</p><pre>
       cpu      68000
       expect   1320     ; immediate shift only for 1..8
       lsl.l    #10,d0
       endexpect

</pre>
<p>

</p><h2><a name="sect_3_3_">3.3. Data Definitions</a></h2>
<p>
The instructions described in this section partially overlap in their
functionality, but each processor family defines other names for the
same function. To stay compatible with the standard assemblers, this
way of implementation was chosen.
</p><p>
If not explicitly mentioned otherwise, all instructions for data
deposition (not those for reservation of memory!) allow an arbitrary
number of parameters which are being processed from left to right.
</p><p>

</p><h3><a name="sect_3_3_1_">3.3.1. DC[.Size]</a></h3>
<a name="index_DC_1"></a>
<p>
<em> valid for: 680x0, M*Core, 68xx, H8, SH7x00, DSP56xxx, XA,
ST7/STM8, MN161x</em>
</p><p>
This instruction places one or several constants of the type
specified by the attribute into memory. The attributes are the same
ones as defined in section <a href="#ref_AttrTypes">2.5</a>, and
there is additionally the possibility for byte constants to place
string constants in memory, like
</p><pre>
String  dc.B "Hello world!\0"

</pre>
The parameter count may be between 1 and 20. A repeat count enclosed
in brackets may additionally be prefixed to each parameter; for
example, one can for example fill the area up to the next page
boundary with zeroes with a statement like
<pre>
        dc.b    [(*+255)&amp;$ffffff00-*]0

</pre>
<b>CAUTION!</b> This function easily allows to reach the limit of 1
Kbyte of generated code per line!
<p>
The assembler can automatically add another byte of data in case the
byte sum should become odd, to keep the word alignment. This
behaviour may be turned on and off via the<tt> PADDING</tt>
instruction.
</p><p>
Decimal floating point numbers stored with this instruction
(<tt>DC.P...</tt>) can cover the whole range of extended precision,
one however has to pay attention to the detail that the coprocessors
currently available from Motorola (68881/68882) ignore the thousands
digit of the exponent at the read of such constants!
</p><p>
The default attribute is<tt> W</tt>, that means 16-bit-integer
numbers.
</p><p>
For the DSP56xxx, the data type is fixed to integer numbers (an
attribute is therefore neither necessary nor allowed), which may be
in the range of -8M up to 16M-1. String constants are also allowed,
whereby three characters are packed into each word.
</p><p>
Opposed to the standar Motorola ssembler, it is also valid to reserve
memory space with this statement, by using a question mark as
operand. This is an extension added by some third-party suppliers for
68K assemblers, similar to what Intel assemblers provide. However, it
should be clear that usage of this feature may lead to portability
problems. Furthermore, question marks as operands must not be mixed
with 'normal' constants in a single statement.
</p><p>

</p><h3><a name="sect_3_3_2_">3.3.2. DS[.Size]</a></h3>
<a name="index_DS_1"></a>
<p>
<em> valid for: 680x0, M*Core, 68xx, H8, SH7x00, DSP56xxx, XA,
ST7/STM8, MN161x</em>
</p><p>
On the one hand, this instruction enables to reserve memory space for
the specified count of numbers of the type given by the attribute.
Therefore,
</p><pre>
        DS.B    20

</pre>
for example reserves 20 bytes of memory, but
<pre>
        DS.X    20

</pre>
reserves 240 bytes!
<p>
The other purpose is the alignment of the program counter which is
achieved by a count specification of 0. In this way, with a
</p><pre>
        DS.W    0  ,

</pre>
the program counter will be rounded up to the next even address, with
a
<pre>
        DS.D 0

</pre>
in contrast to the next double word boundary. Memory cells possibly
staying unused thereby are neither zeroed nor filled with NOPs, they
simply stay undefined.
<p>
The default for the operand length is - as usual -<tt> W</tt>, i.e.
16 bits.
</p><p>
For the 56xxx, the operand length is fixed to words (of 24 bit),
attributes therefore do not exist just as in the case of<tt> DC</tt>.
</p><p>

</p><h3><a name="sect_3_3_3_">3.3.3. DN,DB,DW,DD,DQ, and DT</a></h3>
<a name="index_DN_1"></a><a name="index_DB_1"></a><a name="index_DW_1"></a><a name="index_DD_1"></a><a name="index_DQ_1"></a><a name="index_DT_1"></a>
<p>
<em>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><em> valid for:</em></td><td nowrap="nowrap"><em> Intel (except for 4004/4040), Zilog, Toshiba,</em></td></tr>
<tr><td nowrap="nowrap"><em></em></td><td nowrap="nowrap"><em> NEC, TMS370, Siemens, AMD, MELPS7700/65816,</em></td></tr>
<tr><td nowrap="nowrap"><em></em></td><td nowrap="nowrap"><em> M16(C), National, ST9, Atmel, TMS70Cxx, TMS1000,</em></td></tr>
<tr><td nowrap="nowrap"><em></em></td><td nowrap="nowrap"><em> Signetics, µPD77230, Fairchild, Intersil,</em></td></tr>
<tr><td nowrap="nowrap"><em></em></td><td nowrap="nowrap"><em> XS1</em></td></tr>
</tbody></table></em>
</p><p>
These commands are - one could say - the Intel counterpart to<tt>
DS</tt> and<tt> DC</tt>, and as expected, their logic is a little bit
different: First, the specification of the operand length is moved
into the mnemonic:
</p><ul>
<li> <tt>DN</tt>: 4-bit integer</li>
<li> <tt>DB</tt>: byte or ASCII string similar to<tt> DC.B</tt></li>
<li> <tt>DW</tt>: 16-bit integer or half precision</li>
<li> <tt>DD</tt>: 32-bit integer or single precision</li>
<li> <tt>DQ</tt>: double precision (64 bits)</li>
<li> <tt>DT</tt>: extended precision (80 bits)</li>
</ul>
Second, the distinction between constant definition and memory
reservation is done by the operand. A reservation of memory is marked
by a<tt> ?</tt> :
<pre>
        db      ?       ; reserves a byte
        dw      ?,?     ; reserves memory for 2 words (=4 byte)
        dd      -1      ; places the constant -1 (FFFFFFFFH) !

</pre>
Reserved memory and constant definitions<b> must not</b> be mixed
within one instruction:
<pre>
        db      "hello",?       ; --&gt; error message

</pre>
Additionally, the<tt> DUP</tt> Operator permits the repeated placing
of constant sequences or the reservation of whole memory blocks:
<pre>
        db      3 dup (1,2)     ; --&gt; 1 2 1 2 1 2
        dw      20 dup (?)      ; reserves 40 bytes of memory

</pre>
As you can see, the<tt> DUP</tt>-argument must be enclosed in
parentheses, which is also why it may consist of several components,
that may themselves be<tt> DUP</tt>s...the stuff therefore works
recursively.
<p>
<tt> DUP</tt> is however also a place where one can get in touch with
another limit of the assembler: a maximum of 1024 bytes of code or
data may be generated in one line. This is not valid for the
reservation of memory, only for the definition of constant arrays!
</p><p>
The<tt> DUP</tt> operator only gets recognized if it is itself not
enclosed in parentheses, and if there is a non-empty argument to its
left. This way, it is possible to use a symbol of same name as
argument.
</p><p>
In order to be compatible to the M80,<tt> DEFB/DEFW</tt> may be used
instead of<tt> DB/DW</tt> in Z80-mode.
</p><p>
Similarly,<tt> BYTE/ADDR</tt> resp.<tt> WORD/ADDRW</tt> in COP4/8
mode are an alias for<tt> DB</tt> resp.<tt> DW</tt>, with the pairs
differing in byte order: instructions defined by National for address
storage use big endian,<tt> BYTE</tt> resp.<tt> WORD</tt> in contrast
use little endian.
</p><p>
If<tt> DB</tt> is used in an address space that is not byte
addressable (like the Atmel AVR's<tt> CODE</tt> segment), bytes are
packed in pairs into 16 bit words, according to the endianess given
by the architecture: for little endian, the LSB is filled first. If
the total number of bytes is odd, one half of the last word remains
unused, just like the argument list had been padded. It will also not
be used if another<tt> DB</tt> immediately follows in source code.
The analogous is true for<tt> DN</tt>, just with the difference that
two or four nibbles are packet into a byte or 16 bit word.
</p><p>
The NEC 77230 is special with its<tt> DW</tt> instruction: It more
works like the<tt> DATA</tt> statement of its smaller brothers, but
apart from string and integer arguments, it also accepts floating
point values (and stores them in the processor's proprietary 32-bit
format). There is<em> no</em><tt> DUP</tt> operator!
</p><p>

</p><h3><a name="sect_3_3_4_">3.3.4. DS, DS8</a></h3>
<a name="index_DS_2"></a><a name="index_DS8_1"></a>
<p>
<em>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><em> valid for:</em></td><td nowrap="nowrap"><em> Intel, Zilog, Toshiba, NEC, TMS370, Siemens, AMD,</em></td></tr>
<tr><td nowrap="nowrap"><em></em></td><td nowrap="nowrap"><em> M16(C), National, ST9, TMS7000, TMS1000, Intersil</em></td></tr>
</tbody></table></em>
</p><p>
With this instruction, you can reserve a memory area:
</p><pre>
        DS      &lt;count&gt;

</pre>
It is an abbreviation of
<pre>
        DB      &lt;count&gt; DUP (?)

</pre>
Although this could easily be made by a macro, some people grown up
with Motorola CPUs (Hi Michael!) suggest<tt> DS</tt> to be a built-in
instruction...I hope they are satisfied now<tt> ;-)</tt>
<p>
<tt> DS8</tt> is defined as an alias for<tt> DS</tt> on the National
SC14xxx. Beware that the code memory of these processors is organized
in words of 16 bits, it is therefore impossible to reserve individual
bytes. In case the argument of<tt> DS</tt> is odd, it will be rounded
up to the next even number.
</p><p>

</p><h3><a name="sect_3_3_5_">3.3.5. BYT or FCB</a></h3>
<a name="index_BYT_1"></a><a name="index_FCB_1"></a>
<p>
<em> valid for: 6502, 68xx</em>
</p><p>
By this instruction, byte constants or ASCII strings are placed in
65xx/68xx-mode, it therefore corresponds to<tt> DC.B</tt> on the
68000 or<tt> DB</tt> on Intel. Similarly to<tt> DC</tt>, a repetition
factor enclosed in brackets ([..]) may be prepended to every single
parameter.
</p><p>

</p><h3><a name="sect_3_3_6_">3.3.6. BYTE</a></h3>
<a name="index_BYTE_1"></a>
<p>
<em> valid for: ST6, 320C2(0)x, 320C5x, MSP, TMS9900, CP-1600</em>
</p><p>
Ditto. Note that when in 320C2(0)x/5x mode, the assembler assumes
that a label on the left side of this instruction has no type, i.e.
it belongs to no address space. This behaviour is explained in the
processor-specific hints.
</p><p>
The<tt> PADDING</tt> instruction allows to set whether odd counts of
bytes shall be padded with a zero byte in MSP/TMS9900 mode.
</p><p>
The operation of<tt> BYTE</tt> on CP-1600 is somewhat different: the
16-bit integer arguments are stored byte-wise in two consecutive
words of memory (LSB first). If individual 8-bit values shall be
stored in memor (optionally packed), use the<tt> TEXT</tt>
instruction!
</p><p>

</p><h3><a name="sect_3_3_7_">3.3.7. DC8</a></h3>
<a name="index_DC8_1"></a>
<p>
<em> valid for: SC144xx</em>
</p><p>
This statement is an alias for<tt> DB</tt>, i.e. it may be used to
dump byte constants or strings to memory.
</p><p>

</p><h3><a name="sect_3_3_8_">3.3.8. ADR or FDB</a></h3>
<a name="index_ADR_1"></a><a name="index_FDB_1"></a>
<p>
<em> valid for: 6502, 68xx</em>
</p><p>
<tt> ADR</tt> resp.<tt> FDB</tt> stores word constants when in
65xx/68xx mode. It is therefore the equivalent to<tt> DC.W</tt> on
the 68000 or<tt> DW</tt> on Intel platforms. Similarly to<tt>
DC</tt>, a repetition factor enclosed in brackets ([..]) may be
prepended to every single parameter.
</p><p>

</p><h3><a name="sect_3_3_9_">3.3.9. WORD</a></h3>
<a name="index_WORD_1"></a>
<p>
<em> valid for: ST6, i960, 320C2(0)x, 320C3x/C4x/C5x, MSP,
CP-1600</em>
</p><p>
If assembling for the 320C3x/C4x or i960, this command stores 32-bit
words, 16-bit words for the other families. Note that when in
320C2(0)x/5x mode, the assembler assumes that a label on the left
side of this instruction has no type, i.e. it belongs to no address
space. This behaviour is explained at the discussion on
processor-specific hints.
</p><p>

</p><h3><a name="sect_3_3_10_">3.3.10. DW16</a></h3>
<a name="index_DW16_1"></a>
<p>
<em> valid for: SC144xx</em>
</p><p>
This instruction is for SC144xx targets a way to dump word (16 bit)
constants to memory.<tt> CAUTION!!</tt> It is therefore an alias
for<tt> DW</tt>.
</p><p>

</p><h3><a name="sect_3_3_11_">3.3.11. LONG</a></h3>
<a name="index_LONG_1"></a>
<p>
<em> valid for: 320C2(0)x, 320C5x</em>
</p><p>
LONG stores a 32-bit integer to memory with the order LoWord-HiWord.
Note that when in 320C2(0)x/5x mode, the assembler assumes that a
label on the left side of this instruction has no type, i.e. it
belongs to no address space. This behaviour is explained in the
processor-specific hints.
</p><p>

</p><h3><a name="sect_3_3_12_">3.3.12. SINGLE, DOUBLE, and EXTENDED</a></h3>
<a name="index_SINGLE_1"></a><a name="index_DOUBLE_1"></a><a name="index_EXTENDED_1"></a>
<p>
<em> valid for: 320C3x/C4x (not<tt> DOUBLE</tt>), 320C6x (not<tt>
EXTENDED</tt>)</em>
</p><p>
Both commands store floating-point constants to memory. In case of
the 320C3x/C4x, they are<b> not</b> stored in IEEE-format. Instead
the processor-specific formats with 32 and 40 bit are used. In case
of<tt> EXTENDED</tt> the resulting constant occupies two memory
words. The most significant 8 bits (the exponent) are written to the
first word while the other ones (the mantissa) are copied into the
second word.
</p><p>

</p><h3><a name="sect_3_3_13_">3.3.13. FLOAT and DOUBLE</a></h3>
<a name="index_FLOAT_1"></a><a name="index_DOUBLE_2"></a>
<p>
<em> valid for: 320C2(0)x, 320C5x</em>
</p><p>
These two commands store floating-point constants in memory using the
standard IEEE 32-bit and 64-bit IEEE formats. The least significant
byte is copied to the first allocated memory location. Note that when
in 320C2(0)x/5x mode the assembler assumes that all labels on the
left side of an instruction have no type, i.e. they belong to no
address space. This behaviour is explained in the processor-specific
hints.
</p><p>

</p><h3><a name="sect_3_3_14_">3.3.14. SINGLE and DOUBLE</a></h3>
<a name="index_SINGLE_2"></a><a name="index_DOUBLE_3"></a>
<p>
<em> valid for: TMS99xxx</em>
</p><p>
These two commands store floating-point constants in memory using the
processor's floating point format, which is equal to the IBM/360
floating point format.
</p><p>

</p><h3><a name="sect_3_3_15_">3.3.15. EFLOAT, BFLOAT, and TFLOAT</a></h3>
<a name="index_EFLOAT_1"></a><a name="index_BFLOAT_1"></a><a name="index_TFLOAT_1"></a>
<p>
<em> valid for: 320C2(0)x, 320C5x</em>
</p><p>
Another three floating point commands. All of them support non-IEEE
formats, which should be easily applicable on signal processors:
</p><ul>
<li> <tt>EFLOAT</tt>: mantissa with 16 bits, exponent with 16 bits</li>
<li> <tt>BFLOAT</tt>: mantissa with 32 bits, exponent with 16 bits</li>
<li> <tt>DFLOAT</tt>: mantissa with 64 bits, exponent with 32 bits</li>
</ul>
The three commands share a common storage strategy. In all cases the
mantissa precedes the exponent in memory, both are stored as 2's
complement with the least significant byte first. Note that when in
320C2(0)x/5x mode the assembler assumes that all labels on the left
side of an instruction have no type, i.e. they belong to no address
space. This behaviour is explained in the processor-specific hints.
<p>

</p><h3><a name="sect_3_3_16_">3.3.16. Qxx and LQxx</a></h3>
<a name="index_Qxx_1"></a><a name="index_LQxx_1"></a>
<p>
<em> valid for: 320C2(0)x, 320C5x</em>
</p><p>
<tt> Qxx</tt> and<tt> LQxx</tt> can be used to generate constants in
a fixed point format.<tt> xx</tt> denotes a 2-digit number. The
operand is first multiplied by 2<sup> xx</sup> before converting it
to binary notation. Thus<tt> xx</tt> can be viewed as the number of
bits which should be reserved for the fractional part of the constant
in fixed point format.<tt> Qxx</tt> stores only one word (16 bit)
while<tt> LQxx</tt> stores two words (low word first):
</p><pre>
        q05     2.5     ; --&gt; 0050h
        lq20    ConstPI ; --&gt; 43F7h 0032h

</pre>
Please do not flame me in case I calculated something wrong on my
HP28...
<p>

</p><h3><a name="sect_3_3_17_">3.3.17. DATA</a></h3>
<a name="index_DATA_1"></a>
<p>
<em> valid for: PIC, 320xx, AVR, MELPS-4500, H8/500, HMCS400,
4004/4040, µPD772x, OLMS-40/50, Padauk</em>
</p><p>
This command stores data in the current segment. Both integer values
as well as character strings are supported. On 16C5x/16C8x, 17C4x in
data segment, and on the 4500, 4004, and HMCS400 in code segment,
characters occupy one word. On AVR, 17C4x in code segment,
µPD772x in the data segments, and on 3201x/3202x, in general
two characters fit into one word (LSB first). The µPD77C25 can
hold three bytees per word in the code segment. When in 320C3x/C4x,
mode the assembler puts four characters into one word (MSB first). In
contrast to this characters occupy two memory locations in the data
segment of the 4500, similar in the 4004 and HMCS400. The range of
integer values corresponds to the word width of each processor in a
specific segment. This means that<tt> DATA</tt> has the same result
than<tt> WORD</tt> on a 320C3x/C4x (and that of<tt> SINGLE</tt> if AS
recognizes the operand as a floating-point constant).
</p><p>

</p><h3><a name="sect_3_3_18_">3.3.18. ZERO, CP-1600</a></h3>
<a name="index_ZERO_1"></a>
<p>
<em> valid for: PIC</em>
</p><p>
Generates a continuous string of zero words in memory (which equals a
NOP on PIC).
</p><p>

</p><h3><a name="sect_3_3_19_">3.3.19. FB and FW</a></h3>
<a name="index_FB_1"></a><a name="index_FW_1"></a>
<p>
<em> valid for: COP4/8</em>
</p><p>
These instruction allow to fill memory blocks with a byte or word
constant. The first operand specifies the size of the memory block
while the second one sets the filling constant itself.
</p><p>

</p><h3><a name="sect_3_3_20_">3.3.20. ASCII and ASCIZ</a></h3>
<a name="index_ASCII_1"></a><a name="index_ASCIZ_1"></a>
<p>
<em> valid for: ST6</em>
</p><p>
Both commands store string constants to memory. While<tt> ASCII</tt>
writes the character information only,<tt> ASCIZ</tt> additionally
appends a zero to the end of the string.
</p><p>

</p><h3><a name="sect_3_3_21_">3.3.21. STRING and RSTRING</a></h3>
<a name="index_STRING_1"></a><a name="index_RSTRING_1"></a>
<p>
<em> valid for: 320C2(0)x, 320C5x</em>
</p><p>
These commands are functionally equivalent to<tt> DATA</tt>, but
integer values are limited to the range of byte values. This enables
two characters or numbers to be packed together into one word. Both
commands only differ in the order they use to write bytes:<tt>
STRING</tt> stores the upper one first then the lower one,<tt>
RSTRING</tt> does this vice versa. Note that when in 320C2(0)x/5x
mode the assembler assumes that a label on the left side of this
instruction has no type, i.e. it belongs to no address space. This
behaviour is explained in the processor-specific hints.
</p><p>

</p><h3><a name="sect_3_3_22_">3.3.22. FCC</a></h3>
<a name="index_FCC_1"></a>
<p>
<em> valid for: 6502, 68xx</em>
</p><p>
When in 65xx/68xx mode, string constants are generated using this
instruction. In contrast to the original assembler AS11 from Motorola
(this is the main reason why AS understands this command, the
functionality is contained within the<tt> BYT</tt> instruction) you
must enclose the string argument by double quotation marks instead of
single quotation marks or slashes. Similarly to<tt> DC</tt>, a
repetition factor enclosed in brackets ([..]) may be prepended to
every single parameter.
</p><p>

</p><h3><a name="sect_3_3_23_">3.3.23. TEXT</a></h3>
<p>
In CP-1600 mode, This instruction is used to store string constants
in packed format, i.e. two characters per word.
</p><p>

</p><h3><a name="sect_3_3_24_">3.3.24. DFS or RMB</a></h3>
<a name="index_DFS_1"></a><a name="index_RMB_1"></a>
<p>
<em> valid for: 6502, 68xx</em>
</p><p>
Reserves a memory block when in 6502/68xx mode. It is therefore the
equivalent to<tt> DS.B</tt> on the 68000 or<tt> DB ?</tt> on Intel
platforms.
</p><p>

</p><h3><a name="sect_3_3_25_">3.3.25. BLOCK</a></h3>
<a name="index_BLOCK_1"></a>
<p>
<em> valid for: ST6</em>
</p><p>
Ditto.
</p><p>

</p><h3><a name="sect_3_3_26_">3.3.26. SPACE</a></h3>
<a name="index_SPACE_1"></a>
<p>
<em> valid for: i960</em>
</p><p>
Ditto.
</p><p>

</p><h3><a name="sect_3_3_27_">3.3.27. RES</a></h3>
<a name="index_RES_1"></a>
<p>
<em> valid for: PIC, MELPS-4500, HMCS400, 3201x, 320C2(0)x, 320C5x,
AVR, µPD772x, OLMS-40/50, Padauk, CP-1600</em>
</p><p>
This command allocates memory. When used in code segments the
argument counts words (10/12/14/16 bit). In data segments it counts
bytes for PICs, nibbles for 4500 and OLMS-40/50 and words for the TI
devices.
</p><p>

</p><h3><a name="sect_3_3_28_">3.3.28. BSS</a></h3>
<a name="index_BSS_1"></a>
<p>
<em> valid for: 320C2(0)x, 320C3x/C4x/C5x/C6x, MSP</em>
</p><p>
<tt> BSS</tt> works like<tt> RES</tt>, but when in 320C2(0)x/5x mode,
the assembler assumes that a label on the left side of this
instruction has no type, i.e it belongs to no address space. This
behaviour is explained in the processor-specific hints.
</p><p>

</p><h3><a name="sect_3_3_29_">3.3.29. DSB and DSW</a></h3>
<a name="index_DSB_1"></a><a name="index_DSW_1"></a>
<p>
<em> valid for: COP4/8</em>
</p><p>
Both instructions allocate memory and ensure compatibility to ASMCOP
from National. While<tt> DSB</tt> takes the argument as byte
count,<tt> DSW</tt> uses it as word count (thus it allocates twice as
much memory than<tt> DSB</tt>).
</p><p>

</p><h3><a name="sect_3_3_30_">3.3.30. DS16</a></h3>
<a name="index_DS16_1"></a>
<p>
<em> valid for: SC144xx</em>
</p><p>
This instruction reserves memory in steps of full words, i.e. 16
bits. It is an alias for<tt> DW</tt>.
</p><p>

</p><h3><a name="sect_3_3_31_">3.3.31. ALIGN</a></h3>
<a name="index_ALIGN_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
Takes the argument to align the program counter to a certain address
boundary. AS increments the program counter to the next multiple of
the argument. So,<tt> ALIGN</tt> corresponds to<tt> DS.x</tt> on
68000, but is much more flexible at the same time.
</p><p>
Example:
</p><pre>
        align     2

</pre>
aligns to an even address (PC mod 2 = 0). If Align is used in this
form with only one argument, the contents of the skipped memory space
is not defined. An optinal second argument may be used to define the
(byte) value used to fill the area.
<p>

</p><h3><a name="sect_3_3_32_">3.3.32. LTORG</a></h3>
<a name="index_LTORG_1"></a>
<p>
<em> valid for: SH7x00</em>
</p><p>
Although the SH7000 processor can do an immediate register load with
8 bit only, AS shows up with no such restriction. This behaviour is
instead simulated through constants in memory. Storing them in the
code segment (not far away from the register load instruction) would
require an additional jump. AS Therefore gathers the constants an
stores them at an address specified by<tt> LTORG</tt>. Details are
explained in the processor-specific section somewhat later.
</p><p>

</p><h2><a name="sect_3_4_">3.4. Macro Instructions</a></h2>
<p>
<em> valid for: all processors</em>
</p><p>
Now we finally reach the things that make a macro assembler different
from an ordinary assembler: the ability to define macros (guessed it
!?).
</p><p>
When speaking about 'macros', I generally mean a sequence of (machine
or pseudo) instructions which are united to a block by special
statements and can then be treated in certain ways. The assembler
knows the following statements to work with such blocks:
</p><p>

</p><h3><a name="sect_3_4_1_">3.4.1. MACRO</a></h3>
<a name="index_MACRO_1"></a><a name="index_ENDM_1"></a><a name="ref_SectMacros"></a>
<p>
is probably the most important instruction for macro programming. The
instruction sequence
</p><pre>
&lt;name&gt;  MACRO   [parameter list]
        &lt;instructions&gt;
        ENDM

</pre>
defines the macro<tt> &lt;name&gt;</tt> to be the enclosed
instruction sequence. This definition by itself does not generate any
code! In turn, from now on the instruction sequence can simply be
called by the name, the whole construct therefore shortens and
simplifies programs. A parameter list may be added to the macro
definition to make things even more useful. The parameters' names
have to be separated by commas (as usual) and have to conform to the
conventions for symbol names (see section <a href="#ref_SectSymConv">2.7</a>) - like the macro name itself.
<p>
A switch to case-sensitive mode influences both macro names and
parameters.
</p><p>
Similar to symbols, macros are local, i.e. they are only known in a
section and its subsections when the definition is done from within a
section. This behaviour however can be controlled in wide limits via
the options<tt> PUBLIC</tt> and<tt> GLOBAL</tt> described below.
</p><p>
A default value may be provided for each macro parameter (appended
via an equal sign). This value is used if there is no argument for
this parameter at macro call or if the positional argument (see
below) for this parameter is empty.
</p><p>
Apart from the macro parameters themselves, the parameter list may
contain control parameters which influence the processing of the
macro. These parameters are distinguished from normal parameters by
being enclosed in curly braces. The following control parameters are
defined:
</p><ul>
<li> <tt>EXPAND/NOEXPAND</tt>: rule whether the enclosed code shall be
    written to the listing when the macro is expanded. The default is
    the value set by the pseudo instruction<tt> MACEXP_DFT</tt>.</li>
<li> <tt>EXPIF/NOEXPIF</tt>: rule whether instructions for conditional
    assembly and code excluded by it shall be written to the listing
    when the macro is expanded. The default is the value set by the
    pseudo instruction<tt> MACEXP_DFT</tt>.</li>
<li> <tt>EXPMACRO/NOEXPMACRO</tt>: rule whether macros defined in the
    macro's body shall be written to the listing when the macro is
    expanded. The default is the value set by the pseudo
    instruction<tt> MACEXP_DFT</tt>.</li>
<li> <tt>EXPREST/NOEXPREST</tt> : rule whether a macro body's lines not
    fitting into the first two categories shall be written to the
    listing when the macro is expanded. The default is the value set
    by the pseudo instruction<tt> MACEXP_DFT</tt>.</li>
<li> <tt>PUBLIC[:section name]</tt>: assigns the macro to a parent
    section instead of the current section. A section can make macros
    accessible for the outer code this way. If the section
    specification is missing, the macro becomes completely global,
    i.e. it may be referenced from everywhere.</li>
<li> <tt>GLOBAL[:section name]</tt>: rules that in addition to the macro
    itself, another macro shall be generated that has the same
    contents but is assigned to the specified section. Its name is
    constructed by concatenating the current section's name to the
    macro name. The section specified must be a parent section of the
    current section; if the specification is missing, the additional
    macro becomes globally visible. For example, if a macro<tt>
    A</tt> is defined in a section<tt> B</tt> that is a child section
    of section<tt> C</tt>, an additional global macro named<tt>
    C_B_A</tt> would be generated. In contrast, if<tt> C</tt> had
    been specified as target section, the macro would be named<tt>
    B_A</tt> and be assigned to section<tt> C</tt>. This option is
    turned off by default and it only has an effect when it is used
    from within a section. The macro defined locally is not
    influenced by this option.</li>
<li> <tt>EXPORT/NOEXPORT</tt>: rules whether the definition of this macro
    shall be written to a separate file in case the<tt> -M</tt>
    command line option was given. This way, definitions of 'private'
    macros may be mapped out selectively. The default is FALSE, i.e.
    the definition will not be written to the file. The macro will be
    written with the concatenated name if the<tt> GLOBAL</tt> option
    was additionally present.</li>
<li> <tt>INTLABEL/NOINTLABEL</tt> : rules whether a label defined in a
    line that calls this macro may be used as an additional parameter
    inside the label or not, instead of simply 'labeling' the
    line.</li>
<li> <tt>GLOBALSYMBOLS/NOGLOBALSYMBOLS</tt> : rules whether labels
    defined in the macro's body shall be local to this macro or also
    be available outside the macro. The default is to keep them
    local, since using a macro multiple time would be difficult
    otherwise.</li>
</ul>
The control parameters described above are removed from the parameter
list by AS, i.e. they do not have a further influence on processing
and usage.
<p>
When a macro is called, the parameters given for the call are
textually inserted into the instruction block and the resulting
assembler code is assembled as usual. Zero length parameters are
inserted in case too few parameters are specified. It is important to
note that string constants are not protected from macro expansions.
The old IBM rule:
</p><blockquote>
    <i> It's not a bug, it's a feature!</i>
</blockquote>
applies for this detail. The gap was left to allow checking of
parameters via string comparisons. For example, one can analyze a
macro parameter in the following way:
<pre>
mul     MACRO   para,parb
        IF      UpString("PARA")&lt;&gt;"A"
         MOV    a,para
        ENDIF
        IF      UpString("PARB")&lt;&gt;"B"
         MOV    b,parb
        ENDIF
        !mul     ab
        ENDM

</pre>
It is important for the example above that the assembler converts all
parameter names to upper case when operating in case-insensitive
mode, but this conversion never takes place inside of string
constants. Macro parameter names therefore have to be written in
upper case when they appear in string constants.
<p>
Macro arguments may be given in either of two forms:<em>
positional</em> or<em> keyword</em> arguments.
</p><p>
For positional arguments, the assignment of arguments to macro
parameters simply results from the position of arguments, i.e. the
first argument is assigned to the first parameter, the second
argument to the second parameter and so on. If the number of
arguments is smaller than the number of parameters, eventually
defined default values or simply an empty string are inserted. The
same is valid for empty arguments in the argument list.
</p><p>
Keyword arguments on the other hand explicitly define which parameter
they relate to, by being prefixed with the parameter's name:
</p><pre>
       mul  para=r0,parb=r1

</pre>
Again, non-assigned parameters will use an eventually defined default
or an empty string.
<p>
As a difference to positional arguments, keyword arguments allow to
assign an empty string to a parameter with a non-empty default.
</p><p>
Mixing of positional and keyword arguments in one macro call is
possible, however it is not allowed to use positional arguments after
the first keyword argument.
</p><p>
The same naming rules as for usual symbols also apply for macro
parameters, with the exception that only letters and numbers are
allowed, i.e. dots and underscores are forbidden. This constraint has
its reason in a hidden feature: the underscore allows to concatenate
macro parameter names to a symbol, like in the following example:
</p><pre>
concat  macro   part1,part2
        call    part1_part2
        endm

</pre>
The call
<pre>
        concat  module,function

</pre>
will therefore result in
<pre>
        call    module_function

</pre>
Apart from the parameters explicitly declared for a macro, four more
'implicitly' declared parameters exist. Since they are always
present, they cannot not be redeclared as explicit parameters:
<ul>
<li> <tt> ATTRIBUTE</tt> refers to the attribute appended to the macro
    call, in case the currently active architecture supports
    attributes for machine instructions. See below for an
    example!</li>
<li> <tt> ALLARGS</tt> refers to a comma-separated list of all arguments
    passed to a macro, usable e.g. to pass them on to a IRP
    statement.</li>
<li> <tt> ARGCOUNT</tt> refers to the actual count of parameters passed
    to a macro. Note however that this number is never lower than the
    formal parameter count of the macro, since AS will fill up
    missing arguments with empty strings!</li>
<li> <tt> __LABEL__</tt> refers to a label present in a line that calls
    the macro. This replacement only takes place if the<tt>
    INTLABEL</tt> option was set for this macro!</li>
</ul>
<b> IMPORTANT:</b> the names of these implicit parameters are also
case-insensitive if AS was told to operate case-sensitive!
<p>
The purpose of being able to 'internally' use a label in a macro is
surely not immediately obvious. There might be cases where moving the
macro's entry point into its body may be useful. The most important
application however are TI signal processors that use a double pipe
symbol in the label's column to mark parallelism, like this:
</p><pre>
    instr1
||  instr2

</pre>
(since both instructions merge into a single word of machine code,
you cannot branch to the second instruction - so occupying the
label's position doesn't hurt). The problem is however that some
'convenience instructions' are realized as macros. A prallelization
symbol written in front of a macro call normally would be assigned to
the macro itself,<i> not to the macro body's first instruction</i>.
However, things work with this trick:
<pre>
myinstr    macro {INTLABEL}
__LABEL__  instr2
           endm

           instr1
||         myinstr

</pre>
The result after expanding<tt> myinstr</tt> is identical to the
previous example without macro.
<p>
Recursion of macros, i.e. the repeated call of a macro from within
its own body is completely legal. However, like for any other sort of
recursion, one has to assure that there is an end at someplace. For
cases where one forgot this, AS keeps an internal counter for every
macro that is incremented when an expansion of this macro is begun
and decremented again when the expansion is completed. In case of
recursive calls, this counter reaches higher and higher values, and
at a limit settable via<tt> NESTMAX</tt>, AS will refuse to expand.
Be careful when you turn off this emergency brake: the memory
consumption on the heap may go beyond all limits and even shut down a
Unix system...
</p><p>
A small example to remove all clarities ;-)
</p><p>
A programmer braindamaged by years of programming Intel processors
wants to have the instructions<tt> PUSH/POP</tt> also for the 68000.
He solves the 'problem' in the following way:
</p><pre>
push    macro   op
        move.ATTRIBUTE op,-(sp)
        endm

pop     macro   op
        move.ATTRIBUTE (sp)+,op
        endm

</pre>
If one writes
<pre>
        push    d0
        pop.l   a2    ,

</pre>
this results in
<pre>
        move.   d0,-(sp)
        move.l  (sp)+,a2

</pre>
A macro definition must not cross include file boundaries.
<p>
Labels defined in macros always are regarded as being local, unless
the<tt> GLOBALSYMBOLS</tt> was used in the macro's definition. If a
single label shall be made public in a macro that uses local labels
otherwise, it may be defined with a<tt> LABEL</tt> statement which
always creates global symbols (similar to<tt> BIT, SFR...</tt>):
</p><pre>
&lt;Name&gt;  label   $

</pre>
When parsing a line, the assembler first checks the macro list
afterwards looks for processor instructions, which is why macros
allow to redefine processor instructions. However, the definition
should appear previously to the first invocation of the instruction
to avoid phase errors like in the following example:
<pre>
        bsr     target

bsr     macro   targ
        jsr     targ
        endm

        bsr     target

</pre>
In the first pass, the macro is not known when the first<tt> BSR</tt>
instruction is assembled; an instruction with 4 bytes of length is
generated. In the second pass however, the macro definition is
immediately available (from the first pass), a<tt> JSR</tt> of 6
bytes length is therefore generated. As a result, all labels
following are too low by 2 and phase errors occur for them. An
additional pass is necessary to resolve this.
<p>
Because a machine or pseudo instruction becomes hidden when a macro
of same name is defined, there is a backdoor to reach the original
meaning: the search for macros is suppressed if the name is prefixed
with an exclamation mark (!). This may come in handy if one wants to
extend existing instructions in their functionality, e.g. the
TLCS-90's shift instructions:
</p><pre>
srl     macro   op,n            ; shift by n places
        rept    n               ; n simple instructions
         !srl   op
        endm
        endm

</pre>
From now on, the<tt> SRL</tt> instruction has an additional
parameter...
<p>

</p><h4>Macro Expansion in the Listing</h4>
<p>
If a macro is being called, the macro's body is included in the
assembly listing, after arguemnts have been expanded. This can
significantly increase the listing's size and make it hard to read.
It is therefore possible to suppress this expansion totally or in
parts. Fundamentally, AS divides the source lines contained in a
macro's body into three classes:
</p><ul>
<li> Macro definitions, i.e. the macro is used to define another macro,
    or it contains<tt> REPT/IRP/IRPC/WHILE</tt> blocks.</li>
<li> Instructions for conditional assembly plus any source lines that
    have<i> not</i> been assembled due to conditional assembly. Since
    conditional assembly may depend on macro arguments, this subset
    may also vary.</li>
<li> All remaining sourc elines that do not fall under the first two
    categories.</li>
</ul>
Which parts occur in the listing may be defined individually for
every macro. When defining a macro, the default is the set defined by
the most recent<tt> MACEXP_DFT</tt> instruction (<a href="#ref_MACEXPDFT">3.7.3</a>). If one of the<tt>
EXPAND/NOEXPAND</tt>,<tt> EXPIF/NOEXPIF</tt><tt>
EXPMACRO/NOEXPMACRO</tt>, or<tt> EXPREST/NOEXPREST</tt> directives is
used in the macro's definition, they act<em> additionally</em>, but
with higher preference. For instance, if expansion had been disabled
completely (<tt>MACEXP_DFT OFF</tt>), adding the directive<tt>
EXPREST</tt> has the effect that when using this macro, only lines
are written to the listing that remain after conditional assembly and
are no macro definitions themselves.
<p>
In consequence, changing the set via<tt> MACEXP_DFT</tt> has no
effect on macros that have been<i> defined before</i> this statement.
The listing's section shows for defined macros the effective set of
expansion directives. The list given in curly braces is shorted so
that it only conatins the last (and therefore valid) directive for a
certain class of source lines. A<tt> NOIF</tt> given via<tt>
MACEXP_DFT</tt> will therefore not show up if the directive<tt>
EXPIF</tt> had been given specifically for this macro.
</p><p>
There might be cases where it is useful to override the expansion
rules for a certain macro, regardless whether they were given by<tt>
MACEXP_DFT</tt> or individual directives. The statement<tt>
MACEXP_OVR</tt> (<a href="#ref_MACEXPOVR">3.7.3</a>) exists for such
cases. It only has an effects on macros subsequently being<i>
expanded</i>. Once again, directives given by this instruction are
regarded in addition to a macro's rules, and they do with higher
priority. A<tt> MACEXP_OVR</tt> without any arguments disables such
an override.
</p><p>

</p><h3><a name="sect_3_4_2_">3.4.2. IRP</a></h3>
<a name="index_IRP_1"></a>
<p>
is a simplified macro definition for the case that an instruction
sequence shall be applied to a couple of operands and the the code is
not needed any more afterwards.<tt> IRP</tt> needs a symbol for the
operand as its first parameter, and an (almost) arbitrary number of
parameters that are sequentially inserted into the block of code. For
example, one can write
</p><pre>
        irp     op, acc,b,dpl,dph
        push    op
        endm

</pre>
to push a couple of registers to the stack, what results in
<pre>
        push    acc
        push    b
        push    dpl
        push    dph

</pre>
Analog to a macro definition, the argument list may contain the
control parameters<tt> GLOBALSYMBOLS</tt> resp.<tt>
NOGLOBALSYMBOLS</tt> (marked as such by being enclosed in curly
braces). This allows to control whether used labels are local for
every pass or not.
<p>

</p><h3><a name="sect_3_4_3_">3.4.3. IRPC</a></h3>
<a name="index_IRPC_1"></a>
<p>
<tt> IRPC</tt> is a variant of<tt> IRP</tt> where the first
argument's occurences in the lines up to<tt> ENDM</tt> are
successively replaced by the characters of a string instead of
further parameters. For example, an especially complicated way of
placing a string into memory would be:
</p><pre>
        irpc    char,"Hello World"
        db      'CHAR'
        endm

</pre>
<b>CAUTION!</b> As the example already shows,<tt> IRPC</tt> only
inserts the pure character; it is the programmer's task to assure
that valid code results (in this example by inserting quotes,
including the detail that no automatic conversion to uppercase
characters is done).
<p>

</p><h3><a name="sect_3_4_4_">3.4.4. REPT</a></h3>
<a name="index_REPT_1"></a>
<p>
is the simplest way to employ macro constructs. The code between<tt>
REPT</tt> and<tt> ENDM</tt> is assembled as often as the integer
argument of<tt> REPT</tt> specifies. This statement is commonly used
in small loops to replace a programmed loop to save the loop
overhead.
</p><p>
An example for the sake of completeness:
</p><pre>
        rept    3
        rr      a
        endm

</pre>
rotates the accumulator to the right by three digits.
<p>
The optional control parameters<tt> GLOBALSYMBOLS</tt> resp.<tt>
NOGLOBALSYMBOLS</tt> (marked as such by being enclosed in curly
braces) may also be used here to decide whether labels are local to
the individual repetitions.
</p><p>
In case<tt> REPT</tt>'s argument is equal to or smaller than 0, no
expansion at all is done. This is different to older versions of AS
which used to be a bit 'sloppy' in this respect and always made a
single expansion.
</p><p>

</p><h3><a name="sect_3_4_5_">3.4.5. WHILE</a></h3>
<a name="index_WHILE_1"></a>
<p>
<tt> WHILE</tt> operates similarly to<tt> REPT</tt>, but the fixed
number of repetitions given as an argument is replaced by a boolean
expression. The code framed by<tt> WHILE</tt> and<tt> ENDM</tt> is
assembled until the expression becomes logically false. This may mean
in the extreme case that the enclosed code is not assembled at all in
case the expression was already false when the construct was found.
On the other hand, it may happen that the expression stays true
forever and AS will run infinitely...one should apply therefore a bit
of accuracy when one uses this construct, i.e. the code must contain
a statement that influences the condition, e.g. like this:
</p><pre>
cnt     set     1
sq      set     cnt*cnt
        while   sq&lt;=1000
         dc.l    sq
cnt      set     cnt+1
sq       set     cnt*cnt
        endm

</pre>
This example stores all square numbers up to 1000 to memory.
<p>
Currently there exists a little ugly detail for<tt> WHILE</tt>: an
additional empty line that was not present in the code itself is
added after the last expansion. This is a 'side effect' based on a
weakness of the macro processor and it is unfortunately not that easy
to fix. I hope noone minds...
</p><p>

</p><h3><a name="sect_3_4_6_">3.4.6. EXITM</a></h3>
<a name="index_EXITM_1"></a>
<p>
<tt> EXITM</tt> offers a way to terminate a macro expansion or one of
the instructions<tt> REPT, IRP,</tt> or<tt> WHILE</tt> prematurely.
Such an option helps for example to replace encapsulations with<tt>
IF-ENDIF</tt>-ladders in macros by something more readable. Of
course, an<tt> EXITM</tt> itself always has to be conditional, what
leads us to an important detail: When an<tt> EXITM</tt> is executed,
the stack of open<tt> IF</tt> and<tt> SWITCH</tt> constructs is reset
to the state it had just before the macro expansion started. This is
imperative for conditional<tt> EXITM</tt>'s as the<tt> ENDIF</tt>
resp.<tt> ENDCASE</tt> that frames the<tt> EXITM</tt> statement will
not be reached any more; AS would print an error message without this
trick. Please keep also in mind that<tt> EXITM</tt> always only
terminates the innermost construct if macro constructs are nested! If
one want to completely break out of a nested construct, one has to
use additional<tt> EXITM</tt>'s on the higher levels!
</p><p>

</p><h3><a name="sect_3_4_7_">3.4.7. SHIFT</a></h3>
<a name="index_SHIFT_1"></a><a name="index_SHFT_1"></a>
<p>
<tt> SHIFT</tt> is a tool to construct macros with variable argument
lists: it discards the first parameter, with the result that the
second parameter takes its place and so on. This way one could
process a variable argument list...if you do it the right way. For
example, the following does not work...
</p><pre>
pushlist  macro reg
          rept  ARGCOUNT
          push  reg
          shift
          endm
          endm

</pre>
...because the macro gets expanded<tt> once</tt>, its output is
captured by<tt> REPT</tt> and then executed n times. Therefore, the
first argument is saved n times...the following approach works
better:
<pre>
pushlist  macro reg
          if      "REG"&lt;&gt;""
           push    reg
           shift
           pushlist ALLARGS
          endif
          endm

</pre>
Effectively, this is a recursion that shortens the argument list once
per step. The important trick is that a new macro expansion is
started in each step...
<p>
In case<tt> SHIFT</tt> ist already a machine instruction for a
certain target, one has to use<tt> SHFT</tt> instead.
</p><p>

</p><h3><a name="sect_3_4_8_">3.4.8. MAXNEST</a></h3>
<a name="index_MAXNEST_1"></a>
<p>
<tt> MAXNEST</tt> allows to adjust how often a mcro may be called
recursively before AS terminates with an error message. The argument
may be an arbitrary positive integer value, with the special value 0
turning the this security brake completely off (be careful with
that...). The default value for the maximum nesting level is 256; its
current value may be read from the integer symbol of same name.
</p><p>

</p><h3><a name="sect_3_4_9_">3.4.9. FUNCTION</a></h3>
<a name="ref_SectFUNCTION"></a><a name="index_FUNCTION_1"></a>
<p>
Though<tt> FUNCTION</tt> is not a macro statement in the inner sense,
I will describe this instruction at this place because it uses
similar principles like macro replacements.
</p><p>
This instruction is used to define new functions that may then be
used in formula expressions like predefined functions. The definition
must have the following form:
</p><pre>
&lt;name&gt;  FUNCTION &lt;arg&gt;,..,&lt;arg&gt;,&lt;expression&gt;

</pre>
The arguments are the values that are 'fed into' the function. The
definition uses symbolic names for the arguments. The assembler knows
by this that where to insert the actual values when the function is
called. This can be seen from the following example:
<pre>
isdigit FUNCTION ch,(ch&gt;='0')&amp;&amp;(ch&lt;='9')

</pre>
This function checks whether the argument (interpreted as a
character) is a number in the currently valid character set (the
character set can be modified via<tt> CHARSET</tt>, therefore the
careful wording).
<p>
The arguments' names (<tt>CH</tt> in this case) must conform to the
stricter rules for macro parameter names, i.e. the special characters
. and _ are not allowed.
</p><p>
User-defined functions can be used in the same way as builtin
functions, i.e. with a list of parameters, separated by commas,
enclosed in parentheses:
</p><pre>
        IF isdigit(char)
         message "\{char} is a number"
        ELSEIF
         message "\{char} is not a number"
        ENDIF

</pre>
When the function is called, all parameters are calculated once and
are then inserted into the function's formula. This is done to reduce
calculation overhead and to avoid side effects. The individual
arguments have to be separated by commas when a function has more
than one parameter.
<p>
<b> CAUTION!</b> Similar to macros, one can use user-defined
functions to override builtin functions. This is a possible source
for phase errors. Such definitions therefore should be done before
the first call!
</p><p>
The result's type may depend on the type of the input arguments as
the arguments are textually inserted into the function's formula. For
example, the function
</p><pre>
double  function x,x+x

</pre>
may have an integer, a float, or even a string as result, depending
on the argument's type!
<p>
When AS operates in case-sensitive mode, the case matters when
defining or referencing user-defined functions, in contrast to
builtin functions!
</p><p>

</p><h2><a name="sect_3_5_">3.5. Structures</a></h2>
<a name="index_STRUCT_1"></a><a name="index_ENDSTRUCT_1"></a><a name="index_UNION_1"></a><a name="index_ENDUNION_1"></a><a name="index_STRUC_1"></a><a name="index_ENDSTRUC_1"></a><a name="index_ENDS_1"></a><a name="index_DOTTEDSTRUCTS_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
Even in assembly language programs, there is sometimes the necessity
to define composed data structures, similar to high-level languages.
AS supports both the definition and usage of structures with a couple
of statements. These statements shall be explained in the following
section.
</p><p>

</p><h3><a name="sect_3_5_1_">3.5.1. Definition</a></h3>
<p>
The definiton of a structure is begun with the statement<tt>
STRUCT</tt> and ends with<tt> ENDSTRUCT</tt> (lazy people may also
write<tt> STRUC</tt> resp.<tt> ENDSTRUC</tt> or<tt> ENDS</tt>
instead). A optional label preceding these instructions is taken as
the name of the structure to be defined; it is optional at the end of
the definition and may be used to redefine the length symbol's name
(see below). The remaining procedure is simple: Together with<tt>
STRUCT</tt>, the cuurent program counter is saved and reset to zero.
All labels defined between<tt> STRUCT</tt> and<tt> ENDSTRUCT</tt>
therefore are the offsets of the structure's data fields. Reserving
space is done via the same instructions that are also otherwise used
for reserving space, like e.g.<tt> DS.x</tt> for Motorola CPUs or<tt>
DB</tt> &amp; co. for Intel-style processors. The rules for rounding
up lengths to assure certain alignments also apply here - if one
wants to define 'packed' structures, a preceding<tt> PADDING OFF</tt>
may be necessary. Vice versa, alignments may be forced with<tt>
ALIGN</tt> or similar instructions.
</p><p>
Since such a definition only represents a sort of 'prototype', only
instructions that reserve memory may be used, no instructions that
dispose constants or generate code.
</p><p>
Labels defined inside structures (i.e. the elements' names) are not
stored as-is. Instead, the structure's name is prepended to them,
separated with a special character. By default, this is the underbar
(_). This behaviour however may be modified with two arguments passed
to the<tt> STRUCT</tt> statement:
</p><ul>
<li> <tt>NOEXTNAMES</tt> suppressed the prepending of the structure's
    name. In this case, it is the programmer's responsibility to
    assure that field names are not used more than once.</li>
<li> <tt>DOTS</tt> instructs AS to use the dot as connecting character
    instead of the underbar. It should however be pointed out that on
    certain target architectures, the dot has a special meaning for
    bit addressing, which may lead to problems!</li>
</ul>
It is futhermore possible to turn the usage of a dot on resp. off for
all following structures:
<pre>
        dottedstructs &lt;on|off&gt;

</pre>
<p>
Aside from the element names, AS also defines a further symbol with
the structure's overall length when the definition has been finished.
This symbol has the name<tt> LEN</tt>, which is being extended with
the structure's name via the same rules - or alternitavely with the
label name given with the<tt> ENDSTRUCT</tt> statement.
</p><p>
In practice, this may things may look like in this example:
</p><pre>
Rec     STRUCT
Ident   db      ?
Pad     db      ?
Pointer dd      ?
Rec     ENDSTRUCT

</pre>
In this example, the symbol<tt> REC_LEN</tt> would be assigned the
value 6.
<p>

</p><h3><a name="sect_3_5_2_">3.5.2. Usage</a></h3>
<p>
Once a structure has been assigned, usage is as simple as possible
and similar to a macro: a simple
</p><pre>
thisrec Rec

</pre>
reserves as much memory as needed to hold an instance of the
structure, and additionally defines a symbol for every element of the
structure with its address, in this case<tt> THISREC_IDENT,
THISREC_PAD</tt>, and<tt> THISREC_POINTER</tt>. A label naturally
must not be omitted when calling a structure; if it is missing, an
error will be emitted.
<p>
Additional arguments allow to reserve memory for a whole array of
structures. The dimensions (up to three) are defined via arguments in
square brackets:
</p><pre>
thisarray Rec [10],[2]

</pre>
In this example, space for 2*10=20 structures is reserved. For each
individual structure in the array, proper symbols are generated that
have the array indices in their name.
<p>

</p><h3><a name="sect_3_5_3_">3.5.3. Nested Structures</a></h3>
<p>
Is is perfectly valid to call an already defined structure within the
definition of another structure. The procedure that is taking place
then is a combination of the definition and calling described in the
previous two sections: elements of the substructure are being
defined, the name of the instance is being prepended, and the name of
the super-structure is once again geing prepended to this
concatenated name. This may look like the following:
</p><pre>
TreeRec struct
left    dd         ?
right   dd         ?
data    Rec
TreeRec endstruct

</pre>
<p>
It is also allowed to define one structure inside of another
structure:
</p><pre>
TreeRec struct
left    dd         ?
right   dd         ?
TreeData struct
name      db         32 dup(?)
id        dw         ?
TreeData endstruct
TreeRec endstruct

</pre>
<p>

</p><h3><a name="sect_3_5_4_">3.5.4. Unions</a></h3>
<p>
A union is a special form of a structure whose elements are not laid
out sequentially in memory. Instead all elements occupy the<em>
same</em> memory and are located at offset 0 in the structure.
Naturally, suich a defnition basically does nothing more than to
assign the value of zero to a couple of symbols. It may however be
useful to clarify the overlap in a program and therefore to make it
more 'readable'. The size of a union is the maximum of all elements'
lengths.
</p><p>

</p><h3><a name="sect_3_5_5_">3.5.5. Nameless Structures</a></h3>
<p>
The name of a structure or union is optional if it is part of another
(named) structure or union. Elements of this structure will then
become part of of the 'next higher' named structure. For example,
</p><pre>
TreeRec struct
left    dd         ?
right   dd         ?
        struct
name      db         32 dup(?)
id        dw         ?
        endstruct
TreeRec endstruct

</pre>
generates the symbols<tt> TREEREC_NAME</tt> and<em> TREEREC_ID</em>.
<p>
Futhermore, no symbol holding its length is generated for an unnamed
structure or union.
</p><p>

</p><h3><a name="sect_3_5_6_">3.5.6. Structures and Sections</a></h3>
<p>
Symbols that are created in the course of defining or usage of
structures are treated just like normal symbols, i.e. when used
within a section, these symbols are local to the section. The same is
however also true for the structures themselves, i.e. a structure
defined within a section cannot be used outside of the section.
</p><p>

</p><h3><a name="sect_3_5_7_">3.5.7. Structures and Macros</a></h3>
<p>
If one wants to instantiate structures via macros, one has to use
the<tt> GLOBALSYMBOLS</tt> options when defining the macro to make
the defined symbols visible outside the macro. For instance, a list
of structures can be defined in the following way:
</p><p>
</p><pre>
        irp     name,{GLOBALSYMBOLS},rec1,rec2,rec3
name    Rec
        endm

</pre>
<p>

</p><h2><a name="sect_3_6_">3.6. Conditional Assembly</a></h2>
<p>
<em> valid for: all processors</em>
</p><p>
The assembler supports conditional assembly with the help of
statements like<tt> IF...</tt> resp.<tt> SWITCH...</tt> . These
statements work at assembly time allowing or disallowing the assembly
of program parts based on conditions. They are therefore not to be
compared with IF statements of high-level languages (though it would
be tempting to extend assembly language with structurization
statements of higher level languages...).
</p><p>
The following constructs may be nested arbitrarily (until a memory
overflow occurs).
</p><p>

</p><h3><a name="sect_3_6_1_">3.6.1. IF / ELSEIF / ENDIF</a></h3>
<a name="index_IF_1"></a><a name="index_ENDIF_1"></a><a name="index_ELSEIF_1"></a><a name="index_ELSE_1"></a>
<p>
<tt> IF</tt> is the most common and most versatile construct. The
general style of an<tt> IF</tt> statement is as follows:
</p><pre>
        IF      &lt;expression 1&gt;
        .
        .
        &lt;block 1&gt;
        .
        .
        ELSEIF  &lt;expression 2&gt;
        .
        .
        &lt;block 2&gt;
        .
        .
        (possibly more ELSEIFs)

        .
        .
        ELSEIF
        .
        .
        &lt;block n&gt;
        .
        .
        ENDIF

</pre>
<tt>IF</tt> serves as an entry, evaluates the first expression, and
assembles block 1 if the expression is true (i.e. not 0). All
further<tt> ELSEIF</tt>-blocks will then be skipped. However, if the
expression is false, block 1 will be skipped and expression 2 is
evaluated. If this expression turns out to be true, block 2 is
assembled. The number of<tt> ELSEIF</tt> parts is variable and
results in an<tt> IF-THEN-ELSE</tt> ladder of an arbitrary length.
The block assigned to the last<tt> ELSEIF</tt> (without argument)
only gets assembled if all previous expressions evaluated to false;
it therefore forms a 'default' branch. It is important to note that
only<b> one</b> of the blocks will be assembled: the first one
whose<tt> IF/ELSEIF</tt> had a true expression as argument.
<p>
The<tt> ELSEIF</tt> parts are optional, i.e.<tt> IF</tt> may directly
be followed by an<tt> ENDIF</tt>. An<tt> ELSEIF</tt> without
parameters must be the last branch.
</p><p>
<tt> ELSEIF</tt> always refers to the innermost, unfinished<tt>
IF</tt> construct in case<tt> IF</tt>'s are nested.
</p><p>
<a name="index_IFDEF_1"></a><a name="index_IFNDEF_1"></a><a name="index_IFUSED_1"></a><a name="index_IFNUSED_1"></a><a name="index_IFEXIST_1"></a><a name="index_IFNEXIST_1"></a><a name="index_IFB_1"></a><a name="index_IFNB_1"></a> In addition to<tt>
IF</tt>, the following further conditional statements are defined:
</p><ul>
<li> <tt>IFDEF &lt;symbol&gt;</tt>: true if the given symbol has been
    defined. The definition has to appear before<tt> IFDEF</tt>.</li>
<li> <tt>IFNDEF &lt;symbol&gt;</tt>: counterpart to<tt> IFDEF</tt>.</li>
<li> <tt>IFUSED &lt;symbol&gt;</tt>: true if if the given symbol has been
    referenced at least once up to now.</li>
<li> <tt>IFNUSED &lt;symbol&gt;</tt>: counterpart to<tt>
    IFUSED</tt>.</li>
<li> <tt>IFEXIST &lt;name&gt;</tt>: true if the given file exists. The
    same rules for search paths and syntax apply as for the<tt>
    INCLUDE</tt> instruction (see section <a href="#ref_SectInclude">3.9.2</a>).</li>
<li> <tt>IFNEXIST &lt;name&gt;</tt>: counterpart to<tt>
    IFEXIST</tt>.</li>
<li> <tt>IFB &lt;arg-list&gt;</tt>: true if all arguments of the
    parameter list are empty strings.</li>
<li> <tt>IFNB &lt;arg-list&gt;</tt>: counterpart to<tt> IFB</tt>.</li>
</ul>
<p>
It is valid to write<tt> ELSE</tt> instead of<tt> ELSEIF</tt> since
everybody seems to be used to it...
</p><p>
For everyIF... statement, there has to be a corresponding<tt>
ENDIF</tt>. 'Open' constructs will lead to an error message at the
end of an assembly path. The way AS has 'paired'<tt> ENDIF</tt>
statements with<tt> IF</tt>s may be deduced from the assembly
listing: for<tt> ENDIF</tt>, the line number of the corresponding<tt>
IF...</tt> will be shown.
</p><p>

</p><h3><a name="sect_3_6_2_">3.6.2. SWITCH / CASE / ELSECASE / ENDCASE</a></h3>
<a name="index_SWITCH_1"></a><a name="index_SELECT_1"></a><a name="index_CASE_1"></a><a name="index_ELSECASE_1"></a><a name="index_ENDCASE_1"></a>
<p>
<tt> CASE</tt> is a special case of<tt> IF</tt> and is designed for
situations when an expression has to be compared with a couple of
values. This could of course also be done with a series of<tt>
ELSEIF</tt>s, but the following form
</p><pre>
        SWITCH  &lt;expression&gt;
        .
        .
        CASE    &lt;value 1&gt;
        .
        &lt;block 1&gt;
        .
        CASE    &lt;value 2&gt;
        .
        &lt;block 2&gt;
        .
        (further CASE blocks)
        .
        CASE    &lt;value n-1&gt;
        .
        &lt;block n-1&gt;
        .
        ELSECASE
        .
        &lt;block n&gt;
        .
        ENDCASE

</pre>
has the advantage that the expression is only written once and also
only gets evaluated once. It is therefore less error-prone and
slightly faster than an<tt> IF</tt> chain, but obviously not as
flexible.
<p>
It is possible to specify multiple values separated by commas to
a<tt> CASE</tt> statement in order to assemble the following block in
multiple cases. The<tt> ELSECASE</tt> branch again serves as a 'trap'
for the case that none of the<tt> CASE</tt> conditions was met. AS
will issue a warning in case it is missing and all comparisons fail.
</p><p>
Even when value lists of<tt> CASE</tt> branches overlap, only<b>
one</b> branch is executed, which is the first one in case of
ambiguities.
</p><p>
<tt> SWITCH</tt> only serves to open the whole construct; an
arbitrary number of statements may be between<tt> SWITCH</tt> and the
first<tt> CASE</tt> (but don't leave other<tt> IF</tt>s open!), for
the sake of better readability this should however not be done.
</p><p>
In case that<tt> SWITCH</tt> is already a machine instruction on the
selected processor target, the construct is started instead with<tt>
SELECT</tt>.
</p><p>
Similarly to<tt> IF</tt> constructs, there must be exactly one<tt>
ENDCASE</tt> for every<tt> SWITCH</tt>. Analogous to<tt> ENDIF</tt>,
for<tt> ENDCASE</tt> the line number of the corresponding<tt>
SWITCH</tt> is shown in the listing.
</p><p>

</p><h2><a name="sect_3_7_">3.7. Listing Control</a></h2>
<p>
<em> valid for: all processors</em>
</p><p>

</p><h3><a name="sect_3_7_1_">3.7.1. PAGE</a></h3>
<a name="index_PAGE_1"></a>
<p>
<tt> PAGE</tt> is used to tell AS the dimensions of the paper that is
used to print the assembly listing. The first parameter is thereby
the number of lines after which AS shall automatically output a form
feed. One should however take into account that this value does<b>
not</b> include heading lines including an eventual line specified
with<tt> TITLE</tt>. The minimum number of lines is 5, and the
maximum value is 255. A specification of 0 has the result that AS
will not do any form feeds except those triggered by a<tt>
NEWPAGE</tt> instruction or those implicitly engaged at the end of
the assembly listing (e.g. prior to the symbol table).
</p><p>
The specification of the listing's length in characters is an
optional second parameter and serves two purposes: on the one hand,
the internal line counter of AS will continue to run correctly when a
source line has to be split into several listing lines, and on the
other hand there are printers (like some laser printers) that do not
automatically wrap into a new line at line end but instead simply
discard the rest. For this reason, AS does line breaks by itself,
i.e. lines that are too long are split into chunks whose lengths are
equal to or smaller than the specified width. This may lead to double
line feeds on printers that can do line wraps on their own if one
specifies the exact line width as listing width. The solution for
such a case is to reduce the assembly listing's width by 1. The
specified line width may lie between 5 and 255 characters; a line
width of 0 means similarly to the page length that AS shall not do
any splitting of listing lines; lines that are too long of course
cannot be taken into account of the form feed then any more.
</p><p>
The default setting for the page length is 60 lines, the default for
the line width is 0; the latter value is also assumed when<tt>
PAGE</tt> is called with only one parameter.
</p><p>
In case<tt> PAGE</tt> is already a machine instruction on the
selected processor target, use instead<tt> PAGESIZE</tt> to define
the paper size.
</p><p>
<b> CAUTION!</b> There is no way for AS to check whether the
specified listing length and width correspond to the reality!
</p><p>

</p><h3><a name="sect_3_7_2_">3.7.2. NEWPAGE</a></h3>
<a name="index_NEWPAGE_1"></a>
<p>
<tt> NEWPAGE</tt> can be used to force a line feed though the current
line is not full up to now. This might be useful to separate program
parts in the listing that are logically different. The internal line
counter is reset and the page counter is incremented by one. The
optional parameter is in conjunction with a hierarchical page
numbering AS supports up to a chapter depth of 4. 0 always refers to
the lowest depth, and the maximum value may vary during the assembly
run. This may look a bit puzzling, as the following example shows:
</p><blockquote>
<table summary="No Summary" cellpadding="2">
    <tbody><tr><td nowrap="nowrap"> page 1,</td><td nowrap="nowrap"> instruction<tt> NEWPAGE 0</tt></td><td nowrap="nowrap"> -&gt; page 2</td></tr>
    <tr><td nowrap="nowrap"> page 2,</td><td nowrap="nowrap"> instruction<tt> NEWPAGE 1</tt></td><td nowrap="nowrap"> -&gt; page 2.1</td></tr>
    <tr><td nowrap="nowrap"> page 2.1,</td><td nowrap="nowrap"> instruction<tt> NEWPAGE 1</tt></td><td nowrap="nowrap"> -&gt; page 3.1</td></tr>
    <tr><td nowrap="nowrap"> page 3.1,</td><td nowrap="nowrap"> instruction<tt> NEWPAGE 0</tt></td><td nowrap="nowrap"> -&gt; page 3.2</td></tr>
    <tr><td nowrap="nowrap"> page 3.2,</td><td nowrap="nowrap"> instruction<tt> NEWPAGE 2</tt></td><td nowrap="nowrap"> -&gt; page 4.1.1</td></tr>
    <tr><td nowrap="nowrap"></td></tr>
</tbody></table></blockquote>
<tt> NEWPAGE &lt;number&gt;</tt> may therefore result in changes in
different digits, depending on the current chapter depth. An
automatic form feed due to a line counter overflow or a<tt>
NEWPAGE</tt> without parameter is equal to<tt> NEWPAGE 0</tt>.
Previous to the output of the symbol table, an implicit<tt> NEWPAGE
&lt;maximum up to now&gt;</tt> is done to start a new 'main chapter'.
<p>

</p><h3><a name="sect_3_7_3_">3.7.3. MACEXP_DFT and MACEXP_OVR</a></h3>
<a name="index_MACEXP_1"></a><a name="index_MACEXP\_DFT_1"></a><a name="index_MACEXP\_OVR_1"></a><a name="ref_MACEXPDFT"></a><a name="ref_MACEXPOVR"></a>
<p>
Once a macro is tested and 'done', one might not want to see it in
the listing when it is used. As described in the section about
defining and using macros (<a href="#ref_SectMacros">3.4.1</a>),
additional arguments to the<tt> MACRO</tt> statement allow to control
whether a macro's body is expanded upon its usage and if yes, which
parts of it. In case that several macros are defined in a row, it is
not necessary to give these directives for every single macro. The
pseudo instruction<tt> MACEXP_DFT</tt> defines for all following
macros which parts shall be expanded upon invocation of the macro:
</p><ul>
<li> <tt>ON</tt> resp.<tt> OFF</tt> enable or disable expansion
    completely.</li>
<li> The arguments<tt> IF</tt> resp.<tt> NOIF</tt> enable or disable
    expansion of instructions for conditional assembly, plus the
    expansion of code parts the were excluded because of conditional
    assembly.</li>
<li> Macro definitions (which includes<tt> REPT</tt>,<tt> WHILE</tt>
    and<tt> IRP(C)</tt>) may be excluded from or included in the
    expanded parts via the arguments<tt> MACRO</tt> resp.<tt>
    NOMACRO</tt>.</li>
<li> All other lines not fitting into the first two categories may be
    excluded from or included in the expanded parts via the
    arguments<tt> REST</tt> resp.<tt> NOREST</tt>.</li>
</ul>
The default is<tt> ON</tt>, i.e. defined macros will be expanded
completely, of course unless specific expansion arguments were given
to individual macros. Furthermore, arguments given to<tt>
MACEXP_DFT</tt> work relative to the current setting: for instance,
if expansion is turned on completely initially, the statement
<pre>
	MACEXP_DFT  noif,nomacro

</pre>
has the result that for macros defined in succession, only code parts
that are no macro definition and that are not excluded via
conditional assembly will be listed.
<p>
This instruction plus the per-macro directives provide fine-grained
per-macro over the parts being expanded. However, there may be cases
in practice where one wants to see the expanded code of a macro at
one place and not at the other. This is possible by using the
statement<tt> MACEXP_OVR</tt>: it accepts the same arguemnts like<tt>
MACEXP_DFT</tt>, these however act as overrides for all macros
being<em> expanded</em> in the following code. This is in contrast
to<tt> MACEXP_DFT</tt> which influences macros being<em> defined</em>
in the following code. For instance, if one defined for a macro that
neither macro definitions nor conditional assembly shall be expanded
in the listing, a
</p><pre>
	MACEXP_OVR  MACRO

</pre>
re-enables expansion of macro definitions for its following usages,
while a
<pre>
	MACEXP_OVR  ON

</pre>
forces expansion of the complete macro body in the listing.<tt>
MACEXP_OVR</tt> without arguments again disables all overrides,
macros will again behave as individually specified upon definition.
<p>
Both statements also have an effect on other macro-like constructs
(<tt>REPT, IRP, IRPC WHILE</tt>). However, since these are expanded
only one and ,,in-place'', the functional difference of these two
statements becomes minimal. In case of differences, the override set
via<tt> MACEXP_OVR</tt> has a higher priority.
</p><p>
The Setting currently made via<tt> MACEXP_DFT</tt> may be read from
the predefined symbol<tt> MACEXP</tt>. For backward compatibility
reasons, it is possible to use the statement<tt> MACEXP</tt> instead
of<tt> MACEXP_DFT</tt>. However, one should not make use of this in
new programs.
</p><p>

</p><h3><a name="sect_3_7_4_">3.7.4. LISTING</a></h3>
<a name="index_LISTING_1"></a>
<p>
works like<tt> MACEXP</tt> and accepts the same parameters, but is
much more radical: After a
</p><pre>
        listing off   ,

</pre>
nothing at all will be written to the listing. This directive makes
sense for tested code parts or include files to avoid a paper
consumption going beyond all bounds.<b> CAUTION!</b> If one forgets
to issue the counterpart somewhere later, even the symbol table will
not be written any more! In addition to<tt> ON</tt> and<tt>
OFF</tt>,<tt> LISTING</tt> also accepts<tt> NOSKIPPED</tt> and<tt>
PURECODE</tt> as arguments. Program parts that were not assembled due
to conditional assembly will not be written to the listing when<tt>
NOSKIPPED</tt> is set, while<tt> PURECODE</tt> - as the name
indicates - even suppresses the<tt> IF</tt> directives themselves in
the listing. These options are useful if one uses macros that act
differently depending on parameters and one only wants to see the
used parts in the listing.
<p>
The current setting may be read from the symbol<tt> LISTING</tt>
(0=<tt>OFF</tt>, 1=<tt>ON</tt>, 2=<tt>NOSKIPPED</tt>,
3=<tt>PURECODE</tt>).
</p><p>

</p><h3><a name="sect_3_7_5_">3.7.5. PRTINIT and PRTEXIT</a></h3>
<a name="index_PRTINIT_1"></a><a name="index_PRTEXIT_1"></a>
<p>
Quite often it makes sense to switch to another printing mode (like
compressed printing) when the listing is sent to a printer and to
deactivate this mode again at the end of the listing. The output of
the needed control sequences can be automated with these instructions
if one specifies the sequence that shall be sent to the output device
prior to the listing with<tt> PRTINIT &lt;string&gt;</tt> and
similarly the deinitialization string with<tt> PRTEXIT
&lt;string&gt;</tt>.<tt> &lt;string&gt;</tt> has to be a string
expression in both cases. The syntax rules for string constants allow
to insert control characters into the string without too much
tweaking.
</p><p>
When writing the listing, the assembler does<b> not</b> differentiate
where the listing actually goes, i.e. printer control characters are
sent to the screen without mercy!
</p><p>
Example:
</p><p>
For Epson printers, it makes sense to switch them to compressed
printing because listings are so wide. The lines
</p><pre>
        prtinit "\15"
        prtexit "\18"

</pre>
assure that the compressed mode is turned on at the beginning of the
listing and turned off afterwards.
<p>

</p><h3><a name="sect_3_7_6_">3.7.6. TITLE</a></h3>
<a name="index_TITLE_1"></a>
<p>
The assembler normally adds a header line to each page of the listing
that contains the source file's name, date, and time. This statement
allows to extend the page header by an arbitrary additional line. The
string that has to be specified is an arbitrary string expression.
</p><p>
Example:
</p><p>
For the Epson printer already mentioned above, a title line shall be
written in wide mode, which makes it necessary to turn off the
compressed mode before:
</p><pre>
        title   "\18\14Wide Title\15"

</pre>
(Epson printers automatically turn off the wide mode at the end of a
line.)
<p>

</p><h3><a name="sect_3_7_7_">3.7.7. RADIX</a></h3>
<a name="index_RADIX_1"></a>
<p>
<tt> RADIX</tt> with a numerical argument between 2 and 36 sets the
default numbering system for integer constants, i.e. the numbering
system used if nothing else has been stated explicitly. The default
is 10, and there are some possible pitfalls to keep in mind which are
described in section <a href="#ref_SectIntConsts">2.10.1</a>.
</p><p>
Independent of the current setting, the argument of<tt> RADIX</tt>
is<em> always decimal</em>; furthermore, no symbolic or formula
expressions may be used as argument. Only use simple constant
numbers!
</p><p>

</p><h3><a name="sect_3_7_8_">3.7.8. OUTRADIX</a></h3>
<a name="index_OUTRADIX_1"></a>
<p>
<tt> OUTRADIX</tt> can in a certain way be regarded as the opposite
to<tt> RADIX</tt>: This statement allows to configure which numbering
system to use for integer results when \{...} constructs are used in
string constants (see section <a href="#ref_SectStringConsts">2.10.3</a>). Valid arguments range again
from 2 to 36, while the default is 16.
</p><p>

</p><h2><a name="sect_3_8_">3.8. Local Symbols</a></h2>
<a name="ref_ChapLocSyms"></a>
<p>
<em> valid for: all processors</em>
</p><p>
local symbols and the section concept introduced with them are a
completely new function that was introduced with version 1.39. One
could say that this part is version ''1.0'' and therefore probably
not the optimum. Ideas and (constructive) criticism are therefore
especially wanted. I admittedly described the usage of sections how I
imagined it. It is therefore possible that the reality is not
entirely equal to the model in my head. I promise that in case of
discrepancies, changes will occur that the reality gets adapted to
the documentation and not vice versa (I was told that the latter
sometimes takes place in larger companies...).
</p><p>
AS does not generate linkable code (and this will probably not change
in the near future<tt> :-(</tt>). This fact forces one to always
assemble a program in a whole. In contrast to this technique, a
separation into linkable modules would have several advantages:
</p><ul>
<li> shorter assembly times as only the modified modules have to be
    reassembled;</li>
<li> the option to set up defined interfaces among modules by definition
    of private and public symbols;</li>
<li> the smaller length of the individual modules reduces the number of
    symbols per module and therefore allows to use shorter symbol
    names that are still unique.</li>
</ul>
Especially the last item was something that always nagged me: once
there was a label's name defined at the beginning of a 2000-lines
program, there was no way to reuse it somehow - even not at the
file's other end where routines with a completely different context
were placed. I was forced to use concatenated names in the style of
<pre>
   &lt;subprogram name&gt;_&lt;symbol name&gt;

</pre>
that had lengths ranging from 15 to 25 characters and made the
program difficult to overlook. The concept of section described in
detail in the following text was designed to cure at least the second
and third item of the list above. It is completely optional: if you
do not want to use sections, simply forget them and continue to work
like you did with previous versions of AS.
<p>

</p><h3><a name="sect_3_8_1_">3.8.1. Basic Definition (SECTION/ENDSECTION)</a></h3>
<a name="index_SECTION_1"></a><a name="index_ENDSECTION_1"></a>
<p>
A section represents a part of the assembler program enclosed by
special statements and has a unique name chosen by the programmer:
</p><pre>
        .
        .
        &lt;other code&gt;
        .
        .
        SECTION &lt;section's name&gt;
        .
        .
        &lt;code inside of the section&gt;
        .
        .
        ENDSECTION [section's name]
        .
        .
        &lt;other code&gt;
        .
        .

</pre>
The name of a section must conform to the conventions for s symbol
name; AS stores section and symbol names in separate tables which is
the reason why a name may be used for a symbol and a section at the
same time. Section names must be unique in a sense that there must
not be more than one section on the same level with the same name (I
will explain in the next part what ''levels'' mean). The argument
of<tt> ENDSECTION</tt> is optional, it may also be omitted; if it is
omitted, AS will show the section's name that has been closed with
this<tt> ENDSECTION</tt>. Code inside a section will be processed by
AS exactly as if it were outside, except for three decisive
differences:
<ul>
<li> Symbols defined within a section additionally get an internally
    generated number that corresponds to the section. These symbols
    are not accessible by code outside the section (this can be
    changed by pseudo instructions, later more about this).</li>
<li> The additional attribute allows to define symbols of the same name
    inside and outside the section; the attribute makes it possible
    to use a symbol name multiple times without getting error
    messages from AS.</li>
<li> If a symbol of a certain name has been defined inside and outside of
    a section, the ''local'' one will be preferred inside the
    section, i.e. AS first searches the symbol table for a symbol of
    the referenced name that also was assigned to the section. A
    search for a global symbol of this name only takes place if the
    first search fails.</li>
</ul>
This mechanism e.g. allows to split the code into modules as one
might have done it with linkable code. A more fine-grained approach
would be to pack every routine into a separate section. Depending on
the individual routines' lengths, the symbols for internal use may
obtain very short names.
<p>
AS will by default not differentiate between upper and lower case in
section names; if one however switches to case-sensitive mode, the
case will be regarded just like for symbols.
</p><p>
The organization described up to now roughly corresponds to what is
possible in the C language that places all functions on the same
level. However, as my ''high-level'' ideal was Pascal and not C, I
went one step further:
</p><p>

</p><h3><a name="sect_3_8_2_">3.8.2. Nesting and Scope Rules</a></h3>
<p>
It is valid to define further sections within a section. This is
analog to the option given in Pascal to define procedures inside a
procedure or function. The following example shows this:
</p><pre>
sym     EQU        0

        SECTION    ModuleA

         SECTION    ProcA1

sym       EQU        5

         ENDSECTION ProcA1

         SECTION    ProcA2

sym       EQU        10

         ENDSECTION ProcA2

        ENDSECTION ModuleA


        SECTION    ModuleB

sym      EQU        15

         SECTION    ProcB

         ENDSECTION ProcB

        ENDSECTION ModuleB

</pre>
When looking up a symbol, AS first searches for a symbol assigned to
the current section, and afterwards traverses the list of parent
sections until the global symbols are reached. In our example, the
individual sections see the values given in table <a href="#ref_TabSymErg">3.1</a> for the symbol<tt> sym</tt>:

<center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">section</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">value</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">from section...</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">Global</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">0</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Global</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ModuleA</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">0</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Global</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ProcA1</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">5</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ProcA1</tt></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ProcA2</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">10</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ProcA2</tt></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ModuleB</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">15</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ModuleB</tt></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ProcB</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">15</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ModuleB</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 3.1: Valid values for the Individual Sections<a name="ref_TabSymErg"></a>
</center><p>

This rule can be overridden by explicitly appending a section's name
to the symbol's name. The section's name has to be enclosed in
brackets:
</p><pre>
        move.l  #sym[ModulB],d0

</pre>
Only sections that are in the parent section path of the current
section may be used. The special values<tt> PARENT0..PARENT9</tt> are
allowed to reference the n-th ''parent'' of the current section;<tt>
PARENT0</tt> is therefore equivalent to the current section
itself,<tt> PARENT1</tt> the direct parent and so on.<tt>
PARENT1</tt> may be abbreviated as<tt> PARENT</tt>. If no name is
given between the brackets, like in this example:
<pre>
        move.l  #sym[],d0 ,

</pre>
one reaches the global symbol.<b> CAUTION!</b> If one explicitly
references a symbol from a certain section, AS will only seek for
symbols from this section, i.e. the traversal of the parent sections
path is omitted!
<p>
Similar to Pascal, it is allowed that different sections have
subsections of the same name; the principle of locality avoids
irritations. One should IMHO still use this feature as seldom as
possible: Symbols listed in the symbol resp. cross reference list are
only marked with the section they are assigned to, not with the
''section hierarchy'' lying above them (this really would have busted
the available space); a differentiation is made very difficult this
way.
</p><p>
As a<tt> SECTION</tt> instruction does not define a label by itself,
the section concept has an important difference to Pascal's concept
of nested procedures: a pascal procedure can automatically ''see''
its subprocedures(functions), AS requires an explicit definition of
an entry point. This can be done e.g. with the following macro pair:
</p><pre>
proc    MACRO   name
        SECTION name
name    LABEL   $
        ENDM

endp    MACRO   name
        ENDSECTION name
        ENDM

</pre>
This example also shows that the locality of labels inside macros is
not influenced by sections. It makes the trick with the<tt>
LABEL</tt> instruction necessary.
<p>
This does of course not solve the problem completely. The label is
still local and not referencable from the outside. Those who think
that it would suffice to place the label in front of the<tt>
SECTION</tt> statement should be quiet because they would spoil the
bridge to the next theme:
</p><p>

</p><h3><a name="sect_3_8_3_">3.8.3. PUBLIC and GLOBAL</a></h3>
<a name="index_PUBLIC_1"></a><a name="index_GLOBAL_1"></a>
<p>
The<tt> PUBLIC</tt> statement allows to change the assignment of a
symbol to a certain section. It is possible to treat multiple symbols
with one statement, but I will use an example with only one symbol in
the following (not hurting the generality of this discussion). In the
simplest case, one declares a symbol to be global, i.e. it can be
referenced from anywhere in the program:
</p><pre>
        PUBLIC  &lt;name&gt;

</pre>
As a symbol cannot be moved in the symbol table once it has been
sorted in, this statement has to appear<b> before</b> the symbol
itself is defined. AS stores all<tt> PUBLICs</tt> in a list and
removes an entry from this list when the corresponding symbol is
defined. AS prints errors at the end of a section in case that not
all<tt> PUBLICs</tt> have been resolved.
<p>
Regarding the hierarchical section concept, the method of defining a
symbol as purely global looks extremely brute. There is fortunately a
way to do this in a bit more differentiated way: by appending a
section name:
</p><pre>
        PUBLIC  &lt;name&gt;:&lt;section&gt;

</pre>
The symbol will be assigned to the referenced section and therefore
also becomes accessible for all its subsections (except they define a
symbol of the same name that hides the ''more global'' symbol). AS
will naturally protest if several subsections try to export a symbol
of same name to the same level. The special<tt> PARENTn</tt> values
mentioned in the previous section are also valid for<tt>
&lt;section&gt;</tt> to export a symbol exactly<tt> n</tt> levels up
in the section hierarchy. Otherwise only sections that are parent
sections of the current section are valid for<tt>
&lt;section&gt;</tt>. Sections that are in another part of the
section tree are not allowed. If several sections in the parent
section path should have the same name (this is possible), the lowest
level will be taken.
<p>
This tool lets the abovementioned macro become useful:
</p><pre>
proc    MACRO   name
        SECTION name
        PUBLIC  name:PARENT
name    LABEL   $
        ENDM

</pre>
This setting is equal to the Pascal model that also only allows the
''father'' to see its children, but not the ''grandpa''.
<p>
AS will quarrel about double-defined symbols if more than one section
attempts to export a symbol of a certain name to the same upper
section. This is by itself a correct reaction, and one needs to
''qualify'' symbols somehow to make them distinguishable if these
exports were deliberate. A<tt> GLOBAL</tt> statement does just this.
The syntax of<tt> GLOBAL</tt> is identical to<tt> PUBLIC</tt>, but
the symbol stays local instead of being assigned to a higher section.
Instead, an additional symbol of the same value but with the
subsection's name appended to the symbol's name is created, and only
this symbol is made public according to the section specification. If
for example two sections<tt> A</tt> and<tt> B</tt> both define a
symbol named<tt> SYM</tt> and export it with a<tt> GLOBAL</tt>
statement to their parent section, the symbols are sorted in under
the names<tt> A_SYM</tt> resp.<tt> B_SYM</tt> .
</p><p>
In case that source and target section are separated by more than one
level, the complete name path is prepended to the symbol name.
</p><p>

</p><h3><a name="sect_3_8_4_">3.8.4. FORWARD</a></h3>
<a name="index_FORWARD_1"></a>
<p>
The model described so far may look beautiful, but there is an
additional detail not present in Pascal that may spoil the happiness:
Assembler allows forward references. Forward references may lead to
situations where AS accesses a symbol from a higher section in the
first pass. This is not a disaster by itself as long as the correct
symbol is used in the second pass, but accidents of the following
type may happen:
</p><pre>
loop:   .
        &lt;code&gt;
        .
        .
        SECTION sub
        .               ; ***
        .
        bra.s   loop
        .
        .
loop:   .
        .
        ENDSECTION
        .
        .
        jmp     loop    ; main loop

</pre>
AS will take the global label<tt> loop</tt> in the first pass and
will quarrel about an out-of-branch situation if the program part
at<tt> &lt;code&gt;</tt> is long enough. The second pass will not be
started at all. One way to avoid the ambiguity would be to explicitly
specify the symbol's section:
<pre>
        bra.s   loop[sub]

</pre>
If a local symbol is referenced several times, the brackets can be
saved by using a<tt> FORWARD</tt> statement. The symbol is thereby
explicitly announced to be local, and AS will only look in the local
symbol table part when this symbol is referenced. For our example,
the statement
<pre>
        FORWARD loop

</pre>
should be placed at the position marked with<tt> ***</tt>.
<p>
<tt> FORWARD</tt> must not only be stated prior to a symbol's
definition, but also prior to its first usage in a section to make
sense. It does not make sense to define a symbol private and public;
this will be regarded as an error by AS.
</p><p>

</p><h3><a name="sect_3_8_5_">3.8.5. Performance Aspects</a></h3>
<p>
The multi-stage lookup in the symbol table and the decision to which
section a symbol shall be assigned of course cost a bit of time to
compute. An 8086 program of 1800 lines length for example took 34.5
instead of 33 seconds after a modification to use sections (80386 SX,
16MHz, 3 passes). The overhead is therefore limited. As it has
already been stated at the beginning, is is up to the programmer if
(s)he wants to accept it. One can still use AS without sections.
</p><p>

</p><h2><a name="sect_3_9_">3.9. Miscellaneous</a></h2>
<p>

</p><h3><a name="sect_3_9_1_">3.9.1. SHARED</a></h3>
<a name="ref_ChapShareOrder"></a><a name="index_SHARED_3"></a>
<p>
<em> valid for: all processors</em>
</p><p>
This statement instructs AS to write the symbols given in the
parameter list (regardless if they are integer, float or string
symbols) together with their values into the share file. It depends
upon the command line parameters described in section <a href="#ref_SectCallConvention">2.4</a> whether such a file is
generated at all and in which format it is written. If AS detects
this instruction and no share file is generated, a warning is the
result.
</p><p>
<b> CAUTION!</b> A comment possibly appended to the statement itself
will be copied to the first line outputted to the share file (if<tt>
SHARED</tt>'s argument list is empty, only the comment will be
written). In case a share file is written in C or Pascal format, one
has to assure that the comment itself does not contain character
sequences that close the comment (''*/'' resp. ''*)''). AS does not
check for this!
</p><p>

</p><h3><a name="sect_3_9_2_">3.9.2. INCLUDE</a></h3>
<a name="ref_SectInclude"></a><a name="index_INCLUDE_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
This instruction inserts the file given as a parameter into the just
as if it would have been inserted with an editor (the file name may
optionally be enclosed with '' characters). This instruction is
useful to split source files that would otherwise not fit into the
editor or to create ''tool boxes''.
</p><p>
In case that the file name does not have an extension, it will
automatically be extended with<tt> INC</tt>.
</p><p>
The assmebler primarily tries to open the file in the directory
containing the source file with the<tt> INCLUDE</tt> statenemt. This
means that a path contained in the file specification is relative to
this file's directory, not to the directory the assembler was called
from. Via the<tt> -i &lt;path list&gt;</tt> option, one can specify a
list of directories that will automatically be searched for the file.
If the file is not found, a<b> fatal</b> error occurs, i.e. assembly
terminates immediately.
</p><p>
For compatibility reasons, it is valid to enclose the file name in ''
characters, i.e.
</p><pre>
        include stddef51

</pre>
and
<pre>
        include "stddef51.inc"

</pre>
are equivalent.<b> CAUTION!</b> This freedom of choice is the reason
why only a string constant but no string expression is allowed!
<p>
The search list is ignored if the file name itself contains a path
specification.
</p><p>

</p><h3><a name="sect_3_9_3_">3.9.3. BINCLUDE</a></h3>
<a name="index_BINCLUDE_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
<tt> BINCLUDE</tt> can be used to embed binary data generated by
other programs into the code generated by AS (this might
theoretically even be code created by AS itself...).<tt>
BINCLUDE</tt> has three forms:
</p><pre>
        BINCLUDE &lt;file&gt;

</pre>
This way, the file is completely included.
<pre>
        BINCLUDE &lt;file&gt;,&lt;offset&gt;

</pre>
This way, the file's contents are included starting at<tt>
&lt;offset&gt;</tt> up to the file's end.
<pre>
        BINCLUDE &lt;file&gt;,&lt;offset&gt;,&lt;length&gt;

</pre>
This way,<tt> &lt;length&gt;</tt> bytes are included starting at<tt>
&lt;offset&gt;</tt>.
<p>
The same rules regarding search paths apply as for<tt> INCLUDE</tt>.
</p><p>

</p><h3><a name="sect_3_9_4_">3.9.4. MESSAGE, WARNING, ERROR, and FATAL</a></h3>
<a name="index_MESSAGE_1"></a><a name="index_WARNING_1"></a><a name="index_ERROR_1"></a><a name="index_FATAL_1"></a><em> valid for:
all processors</em>
<p>
Though the assembler checks source files as strict as possible and
delivers differentiated error messages, it might be necessary from
time to time to issue additional error messages that allow an
automatic check for logical error. The assembler distinguishes among
three different types of error messages that are accessible to the
programmer via the following three instructions:
</p><ul>
<li> <tt>WARNING</tt>: Errors that hint at possibly wrong or inefficient
    code. Assembly continues and a code file is generated.</li>
<li> <tt>ERROR</tt>: True errors in a program. Assembly continues to
    allow detection of possible further errors in the same pass. A
    code file is not generated.</li>
<li> <tt>FATAL</tt>: Serious errors that force an immediate termination
    of assembly. A code file may be generated but will be
    incomplete.</li>
</ul>
All three instructions have the same format for the message that
shall be issued: an arbitrary string expression, which may be a
simple string constant, but as well a complex expression that
evaluates to a string. It also includes the feature to embed symbol
values in strings, which is described in <a href="#ref_SectSymConv">2.7</a>:
<pre>
       message "Start Address is \{start_address}"

</pre>
Instructions generating warnings or errors typically only make sense
in conjunction wit conditional assembly. For example, if there is
only a limited address space for a program, one can test for overflow
in the following way:
<pre>
ROMSize equ     8000h   ; 27256 EPROM

ProgStart:
        .
        .
        &lt;the program itself&gt;
        .
        .
ProgEnd:

        if      ProgEnd-ProgStart&gt;ROMSize
         error  "\athe program is too long!"
        endif

</pre>
Apart from the instructions generating errors, there is also an
instruction<tt> MESSAGE</tt> that simply prints a message to the
assembly listing and th ecosole (the latter only if the quiet mode is
not used). Its usage is equal to the other three instructions.
<p>

</p><h3><a name="sect_3_9_5_">3.9.5. READ</a></h3>
<a name="index_READ_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
One could say that<tt> READ</tt> is the counterpart to the previous
instruction group: it allows to read values from the keyboard during
assembly. You might ask what this is good for. I will break with the
previous principles and put an example before the exact description
to outline the usefulness of this instruction:
</p><p>
A program needs for data transfers a buffer of a size that should be
set at assembly time. One could store this size in a symbol defined
with<tt> EQU</tt>, but it can also be done interactively with<tt>
READ</tt>:
</p><pre>
        IF      MomPass=1
         READ    "buffer size",BufferSize
        ENDIF

</pre>
Programs can this way configure themselves dynamically during
assembly and one could hand over the source to someone who can
assemble it without having to dive into the source code. The<tt>
IF</tt> conditional shown in the example should always be used to
avoid bothering the user multiple times with questions.
<p>
<tt> READ</tt> is quite similar to<tt> SET</tt> with the difference
that the value is read from the keyboard instead of the instruction's
arguments. This for example also implies that AS will automatically
set the symbol's type (integer, float or string) or that it is valid
to enter formula expressions instead of a simple constant.
</p><p>
<tt> READ</tt> may either have one or two parameters because the
prompting message is optional. AS will print a message constructed
from the symbol's name if it is omitted.
</p><p>

</p><h3><a name="sect_3_9_6_">3.9.6. INTSYNTAX</a></h3>
<a name="ref_SectINTSYNTAX"></a><a name="index_INTSYNTAX_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
This instruction allows to modify the set of notations for integer
constants in various number systems. - After selection of a CPU
target, a certain default set is installed (see section <a href="#ref_SectPseudoInst">D</a>). This set may be augmented with
other notations, or notations may be removed from it.<tt>
INTSYNTAX</tt> takes an arbitrary list of arguments which either
begin with a plus or minus character, followed by the notation's
identifier. For instance, the following statement
</p><pre>
       INTSYNTAX    -0oct,+0hex

</pre>
has the result that a leading zero marks a hexadecimal instead of an
octal constant, a common usage on some assemblers for the SC/MP. The
identifiers for all notations can be found in table <a href="#ref_TabSystems">2.7</a>. There is no limit on combining
notations, except when they contradict each other. For instance, it
would not be allowed to enable<tt> 0oct</tt> and<tt> 0hex</tt> at the
same time.
<p>

</p><h3><a name="sect_3_9_7_">3.9.7. RELAXED</a></h3>
<a name="ref_SectRELAXED"></a><a name="index_RELAXED_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
By default, AS assigns a distinct syntax for integer constants to a
processor family (which is in general equal to the manufacturer's
specifications, as long as the syntax is not too bizarre...).
Everyone however has his own preferences for another syntax and may
well live with the fact that his programs cannot be translated any
more with the standard assembler. If one places the instruction
</p><pre>
        RELAXED ON

</pre>
right at the program's beginning, one may furtherly use any syntax
for integer constants, even mixed in a program. AS tries to guess
automatically for every expression the syntax that was used. This
automatism does not always deliver the result one might have in mind,
and this is also the reason why this option has to be enable
explicitly: if there are no prefixes or postfixes that unambiguously
identify either Intel or Motorola syntax, the C mode will be used.
Leading zeroes that are superfluous in other modes have a meaning in
this mode:
<pre>
        move.b  #08,d0

</pre>
This constant will be understood as an octal constant and will result
in an error message as octal numbers may only contain digits from 0
to 7. One might call this a lucky case; a number like 077 would
result in trouble without getting a message about this. Without the
relaxed mode, both expressions unambiguously would have been
identified as decimal constants.
<p>
The current setting may be read from a symbol with the same name.
</p><p>

</p><h3><a name="sect_3_9_8_">3.9.8. COMPMODE</a></h3>
<a name="ref_SectCompMode"></a><a name="index_COMPMODE_1"></a>
<p>
<em> valid for: various processors</em>
</p><p>
Though the assember strives to behave like the correspondig "original
assemblers", there are cases when emulating the original assembler's
behaviour would forbid code optimizations which are valid and useful
in my opinion. Use the statement
</p><pre>
        compmode on

</pre>
to switch to a 'compatibility mode' which prioritizes 'original
behaviour' to most efficient code. See the respective section with
processor-specific hints whether there are any situations for the
specific target.
<p>
Compatibility mode is disabled by default, unless it was activated by
the command line switch of same name. The current setting may be read
from a symbol with the same name.
</p><p>

</p><h3><a name="sect_3_9_9_">3.9.9. END</a></h3>
<a name="index_END_1"></a>
<p>
<em> valid for: all processors</em>
</p><p>
<tt> END</tt> marks the end of an assembler program. Lines that
eventually follow in the source file will be ignored.<b>
IMPORTANT:</b><tt> END</tt> may be called from within a macro, but
the<tt> IF</tt>-stack for conditional assembly is not cleared
automatically. The following construct therefore results in an error:
</p><pre>
        IF      DontWantAnymore
         END
        ELSEIF

</pre>
<tt>END</tt> may optionally have an integer expression as argument
that marks the program's entry point. AS stores this in the code file
with a special record and it may be post-processed e.g. with P2HEX.
<p>
<tt> END</tt> has always been a valid instruction for AS, but the
only reason for this in earlier releases of AS was compatibility;<tt>
END</tt> had no effect.
</p><p>

</p><h1><a name="sect_4_">4. Processor-specific Hints</a></h1>
<p>
When writing the individual code generators, I strived for a maximum
amount of compatibility to the original assemblers. However, I only
did this as long as it did not mean an unacceptable additional amount
of work. I listed important differences, details and pitfalls in the
following chapter.
</p><p>

</p><h2><a name="sect_4_1_">4.1. 6811</a></h2>
<p>
''Where can I buy such a beast, a HC11 in NMOS?'', some of you might
ask. Well, of course it does not exist, but an H cannot be
represented in a hexadecimal number (older versions of AS would not
have accepted such a name because of this), and so I decided to omit
all the letters...
</p><p>
</p><blockquote>
    <i> ''Someone stating that something is impossible should be at
    least as cooperative as not to hinder the one who currently does
    it.''</i>
</blockquote>
From time to time, one is forced to revise one's opinions. Some
versions earlier, I stated at his place that I couldn't use AS's
parser in a way that it is also possible to to separate the arguments
of<tt> BSET/BCLR</tt> resp.<tt> BRSET/BRCLR</tt> with spaces.
However, it seems that it can do more than I wanted to
believe...after the n+1th request, I sat down once again to work on
it and things seem to work now. You may use either spaces or commas,
but not in all variants, to avoid ambiguities: for every variant of
an instruction, it is possible to use only commas or a mixture of
spaces and commas as Motorola seems to have defined it (their data
books do not always have the quality of the corresponding
hardware...):
<pre>
 Bxxx  abs8 #mask         is equal to Bxxx  abs8,#mask
 Bxxx  disp8,X #mask      is equal to Bxxx  disp8,X,#mask
 BRxxx abs8 #mask addr    is equal to BRxxx abs8,#mask,addr
 BRxxx disp8,X #mask addr is equal to BRxxx disp8,X,#mask,addr

</pre>
In this list,<tt> xxx</tt> is a synonym either for<tt> SET</tt>
or<tt> CLR</tt>;<tt> #mask</tt> is the bit mask to be applied (the #
sign is optional). Of course, the same statements are also valid for
Y-indexed expression (not listed here).
<p>
With the K4 version of the HC11, Motorola has introduced a banking
scheme, which one one hand easily allows to once again extend an
architecture that has become 'too small', but on the other hand not
really makes programmers' and tool developers' lifes simpler...how
does one sensibly map something like this on a model for a
programmer?
</p><p>
The K4 architecture<em> extends</em> the HC11 address space by 2x512
Kbytes, which means that we now have a total address space of
64+1024=1088 Kbytes. AS acts like this were one large unified addres
space, with the following layout:
</p><ul>
<li> $000000...$00ffff: the old HC11 address space</li>
<li> $010000...$08ffff: Window 1</li>
<li> $090000...$10ffff: Window 2</li>
</ul>
Via the<tt> ASSUME</tt> statement, one tells AS how the banking
registers are set up, which in turn describes which extended areas
are mapped to which physical addresses. For absolute addresses modes
with addresses beyond $10000, AS automatically computes the address
within the first 64K that is to be used. Of course this only works
for direct addressing modes, it is the programmer's responsibility to
keep the overview for indirect or indexed addressing modes!
<p>
In case one is not really sure if the current mapping is really the
desired one, the pseudo instruction<tt> PRWINS</tt> may be used,
which prints the assumes MMxxx register contents plus the current
mapping(s), like this:
</p><pre>
MMSIZ $e1 MMWBR $84 MM1CR $00 MM2CR $80
Window 1: 10000...12000 --&gt; 4000...6000
Window 1: 90000...94000 --&gt; 8000...c000

</pre>
An instruction
<pre>
        jmp     *+3

</pre>
located at $10000 would effectively result in a jump to address
$4003.
<p>

</p><h2><a name="sect_4_2_">4.2. PowerPC</a></h2>
<p>
Of course, it is a bit crazy idea to add support in AS for a
processor that was mostly designed for usage in work stations.
Remember that AS mainly is targeted at programmers of single board
computers. But things that today represent the absolute high end in
computing will be average tomorrow and maybe obsolete the next day,
and in the meantime, the Z80 as the 8088 have been retired as CPUs
for personal computers and been moved to the embedded market;
modified versions are marketed as microcontrollers. With the
appearance of the MPC505 and PPC403, my suspicion has proven to be
true that IBM and Motorola try to promote this architecture in as
many fields as possible.
</p><p>
However, the current support is a bit incomplete: Temporarily, the
Intel-style mnemonics are used to allow storage of data and the more
uncommon RS/6000 machine instructions mentioned in <a href="#cite_Mot601">[74]</a> are missing (hopefully noone misses
them!). I will finish this as soon as information about them is
available!
</p><p>

</p><h2><a name="sect_4_3_">4.3. DSP56xxx</a></h2>
<p>
Motorola, which devil rode you! Which person in your company had the
''brilliant'' idea to separate the parallel data transfers with
spaces! In result, everyone who wants to make his code a bit more
readable, e.g. like this:
</p><pre>
        move    x:var9 ,r0
        move    y:var10,r3   ,

</pre>
is p****ed because the space gets recognized as a separator for
parallel data transfers!
<p>
Well...Motorola defined it that way, and I cannot change it. Using
tabs instead of spaces to separate the parallel operations is also
allowed, and the individual operations' parts are again separated
with commas, as one would expect it.
</p><p>
<a href="#cite_Mot56">[69]</a> states that instead of using<tt>
MOVEC, MOVEM, ANDI</tt> or<tt> ORI</tt>, it is also valid to use the
more general Mnemonics<tt> MODE, AND</tt> or<tt> OR</tt>. AS
(currently) does not support this.
</p><p>

</p><h2><a name="sect_4_4_">4.4. H8/300</a></h2>
<p>
Regarding the assembler syntax of these processors, Hitachi
generously copied from Motorola (that wasn't by far the worst
choice...), unfortunately the company wanted to introduce its own
format for hexadecimal numbers. To make it even worse, it is a format
that uses unbalanced single quotes, just like Microchip does:
</p><pre>
   mov.w #h'ff,r0

</pre>
This format is not supported by default. Instead, one has to write
hexadecimal numbers in the well-known Motorola syntax: with a leading
dollar sign. If you really need the 'Hitachi Syntax', e.g. to
assemble existing code, enable the RELAXED mode. Bear in mind that
this syntax has received few testing so far. I can therefore not
guarantee that it will work in all cases!
<p>

</p><h2><a name="sect_4_5_">4.5. H8/500</a></h2>
<p>
The H8/500's<tt> MOV</tt> instruction features an interesting and
uncommon optimization: If the target operand has a size of 16 bits,
it is still possible to use an 8-bit (immediate) source operand. For
example, for an instruction like this:
</p><pre>
   mov.w #$ffff,@$1234

</pre>
it is possible to encode the source just as a single $ff and to save
one byte in code size. The processor automatically performs a sign
extension, which turns $ff into the desired value $ffff. AS is awarte
of this optimization and will use it, unless it was explicitly
forbidden via a<tt> :16</tt> suffix at the immediate operand.
<p>
Unfortunately, the original Hitachi assembler seems to implement this
optimization in another way: it assumes a zero instead of a sign
extension. This means that values from 0 to 255 ($0000 to $00ff) and
not from -128 to +127 ($ff80 to $007f) are encoded as one byte. I do
not know whether the Hitachi assembler or the H8/500 Programmers
Manual is right, and I have no way to verify this. Anyway, if one
wants the ''Hitachi Assembler Behaviour'' for existing source code,
one may enable the compatibility mode, either by the statement
</p><pre>
  compmode on

</pre>
or by the respective command line switch.
<p>
Aside from this, the same remarks regarding hexadecimal number syntax
apply as for H8/500.
</p><p>

</p><h2><a name="sect_4_6_">4.6. SH7000/7600/7700</a></h2>
<p>
Unfortunately, Hitachi once again used their own format for
hexadecimal numbers, and once again I was not able to reproduce this
with AS...please use Motorola syntax!
</p><p>
When using literals and the<tt> LTORG</tt> instruction, a few things
have to be kept in mind if you do not want to suddenly get confronted
with strange error messages:
</p><p>
Literals exist due to the fact that the processor is unable to load
constants out of a range of -128 to 127 with immediate addressing. AS
(and the Hitachi assembler) hide this inability by the automatic
placement of constants in memory which are then referenced via
PC-relative addressing. The question that now arises is where to
locate these constants in memory. AS does not automatically place a
constant in memory when it is needed; instead, they are collected
until an LTORG instruction occurs. The collected constants are then
dumped en bloc, and their addresses are stored in ordinary labels
which are also visible in the symbol table. Such a label's name is of
the form
</p><pre>
    LITERAL_s_xxxx_n  .

</pre>
In this name,<tt> s</tt> represents the literal's type. Possible
values are<tt> W</tt> for 16-bit constants,<tt> L</tt> for 32-bit
constants and<tt> F</tt> for forward references where AS cannot
decide in anticipation which size is needed. In case of<tt> s=W</tt>
or<tt> L</tt>,<tt> xxxx</tt> denotes the constant's value in a
hexadecimal notation, whereas<tt> xxxx</tt> is a simple running
number for forward references (in a forward reference, one does not
know the value of a constant when it is referenced, so one obviously
cannot incorporate its value into the name).<tt> n</tt> is a counter
that signifies how often a literal of this value previously occurred
in the current section. Literals follow the standard rules for
localization by sections. It is therefore absolutely necessary to
place literals that were generated in a certain section before the
section is terminated!
<p>
The numbering with<tt> n</tt> is necessary because a literal may
occur multiple times in a section. One reason for this situation is
that PC-relative addressing only allows positive offsets; Literals
that have once been placed with an<tt> LTORG</tt> can therefore not
be referenced in the code that follows. The other reason is that the
displacement is generally limited in length (512 resp. 1024 bytes).
</p><p>
An automatic<tt> LTORG</tt> at the end of a program or previously to
switching to a different target CPU does not occur; if AS detects
unplaced literals in such a situation, an error message is printed.
</p><p>
As the PC-relative addressing mode uses the address of the current
instruction plus 4, it is not possible to access a literal that is
stored directly after the instruction, like in the following example:
</p><pre>
        mov     #$1234,r6
        ltorg

</pre>
This is a minor item since the CPU anyway would try to execute the
following data as code. Such a situation should not occur in a real
program...another pitfall is far more real: if PC-relative addressing
occurs just behind a delayed branch, the program counter is already
set to the destination address, and the displacement is computed
relative to the branch target plus 2. Following is an example where
this detail leads to a literal that cannot be addressed:
<pre>
        bra     Target
        mov     #$12345678,r4        ; is executed
        .
        .
        ltorg                        ; here is the literal
        .
        .
Target: mov     r4,r7                ; execution continues here

</pre>
As<tt> Target</tt>+2 is on an address behind the literal, a negative
displacement would result. Things become especially hairy when one of
the branch instructions<tt> JMP, JSR, BRAF, or BSRF</tt> is used: as
AS cannot calculate the target address (it is generated at runtime
from a register's contents), a PC value is assumed that should never
fit, effectively disabling any PC-relative addressing at this point.
<p>
It is not possible to deduce the memory usage from the count and size
of literals. AS might need to insert a padding word to align a long
word to an address that is evenly divisible by 4; on the other hand,
AS might reuse parts of a 32-bit literal for other 16-bit literals.
Of course multiple use of a literal with a certain value will create
only one entry. However, such optimizations are completely suppressed
for forward references as AS does not know anything about their
value.
</p><p>
As literals use the PC-relative addressing which is only allowed for
the<tt> MOV</tt> instruction, the usage of literals is also limited
to<tt> MOV</tt> instructions. The way AS uses the operand size is a
bit tricky: A specification of a byte or word move means to generate
the shortest possible instruction that results in the desired value
placed in the register's lowest 8 resp. 16 bits. The upper 24 resp.
16 bits are treated as ''don't care''. However, if one specifies a
longword move or omits the size specification completely, this means
that the complete 32-bit register should contain the desired value.
For example, in the following sequence
</p><pre>
        mov.b   #$c0,r0
        mov.w   #$c0,r0
        mov.l   #$c0,r0   ,

</pre>
the first instruction will result in true immediate addressing, the
second and third instruction will use a word literal: As bit 7 in the
number is set, the byte instruction will effectively create the value
$FFFFFFC0 in the register. According to the convention, this wouldn't
be the desired value in the second and third example. However, a word
literal is also sufficient for the third case because the processor
will copy a cleared bit 15 of the operand to bits 16..31.
<p>
As one can see, the whole literal stuff is rather complex; I'm sorry
but there was no chance of making things simpler. It is unfortunately
a part of its nature that one sometimes gets error messages about
literals that were not found, which logically should not occur
because AS does the literal processing completely on his own.
However, if other errors occur in the second pass, all following
labels will move because AS does not generate any code any more for
statements that have been identified as erroneous. As literal names
are partially built from other symbols' values, other errors might
follow because literal names searched in the second pass differ from
the names stored in the first pass and AS quarrels about undefined
symbols...if such errors should occur, please correct all other
errors first before you start cursing on me and literals...
</p><p>
People who come out of the Motorola scene and want to use PC-relative
addressing explicitly (e.g. to address variables in a
position-independent way) should know that if this addressing mode is
written like in the programmer's manual:
</p><pre>
        mov.l   @(Var,PC),r8

</pre>
<b>no</b> implicit conversion of the address to a displacement will
occur, i.e. the operand is inserted as-is into the machine code (this
will probably generate a value range error...). If you want to use
PC-relative addressing on the SH7x00, simply use ''absolute''
addressing (which does not exist on machine level):
<pre>
        mov.l   Var,r8

</pre>
In this example, the displacement will be calculated correctly (of
course, the same limitations apply for the displacement as it was the
case for literals).
<p>

</p><h2><a name="sect_4_7_">4.7. HMCS400</a></h2>
<p>
The instruction set of these 4 bit processors spontaneously reminded
me of the 8080/8085 - many mnemonics, the addressing mode (e.g.
direct or indirect) is coded into the instruction, and the
instructions are sometimes hard to memorize. AS or course supports
this syntax as Hitachi defined it. I however implemented another
variant for most instructions that is - in my opinion - more
beautiful and better to read. The approach is similar to what Zilog
did back then for the Z80. For instance, all machine instructions
that transfer data in some form, may the operands be constants,
registers, or memory cells, may be used via the<tt> LD</tt>
instruction. Similar 'meta instructions' exist for arithmetic and
logical instructions. A complete list of all meta instructions and
their operands can be found in the tables <a href="#ref_TabHMCS400Meta">4.7</a> and <a href="#ref_TabHMCS400MetaOps">4.7</a>, their practical use can be
seen in the file<tt> t_hmcs4x.asm</tt>.
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">Meta Instruction</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Replaces</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LD</tt><em> src, dest</em><br>
<br>
<br>
<br>
<tt> XCH</tt><em> src, dest</em><br>
<tt> ADD</tt><em> src, dest</em><br>
<tt> ADC</tt><em> src, dest</em><br>
<tt> SUB</tt><em> src, dest</em><br>
<tt> SBC</tt><em> src, dest</em><br>
<tt> OR</tt><em> src, dest</em><br>
<tt> AND</tt><em> src, dest</em><br>
<tt> EOR</tt><em> src, dest</em><br>
<tt> CP</tt><em> cond, src, dest</em><br>
<br>
<br>
<tt> BSET</tt><em> bit</em><br>
<tt> BCLR</tt><em> bit</em><br>
<tt> BTST</tt><em> bit</em></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LAI, LBI, LMID, LMIIY,</tt><br>
<tt> LAB, LBA, LAY, LASPX, LASPY, LAMR,</tt><br>
<tt> LWI, LXI, LYI, LXA, LYA, LAM, LAMD</tt><br>
<tt> LBM, LMA, LMAD, LMAIY, LMADY</tt><br>
<tt> XMRA, XSPX, XSPY, XMA, XMAD, XMB</tt><br>
<tt> AYY, AI, AM, AMD</tt><br>
<tt> AMC, AMCD</tt><br>
<tt> SYY</tt><br>
<tt> SMC, SMCD</tt><br>
<tt> OR, ORM, ORMD</tt><br>
<tt> ANM, ANMD</tt><br>
<tt> EORM, EORMD</tt><br>
<tt> INEM, INEMD, ANEM, ANEMD, BNEM,</tt><br>
<tt> YNEI, ILEM, ILEMD, ALEM, ALEMD,</tt><br>
<tt> BLEM, ALEI</tt><br>
<tt> SEC, SEM, SEMD</tt><br>
<tt> REC, REM, REMD</tt><br>
<tt> TC, TM, TMD</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.1: Meta Instructions HMCS400
</center><p>
<a name="ref_TabHMCS400Meta"></a>

</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">Operand</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Types</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><em> src, dest</em><br>
<br>
<br>
<br>
<br>
<br>
<br>
<em> cond</em><br>
<br>
<em> bit</em><br>
<br>
<br>
<em> bitpos</em></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> A, B, X, Y, W, SPX, SPY</tt> (register)<br>
<tt> M</tt> (memory addressed by X/Y/W)<br>
<tt> M+</tt> (ditto, with auto increment)<br>
<tt> M-</tt> (ditto, with auto decrement)<br>
<tt> #val</tt> (2/4 bits immediate)<br>
<tt> addr10</tt> (memory direct)<br>
<tt> MRn</tt> (memory register 0..15)<br>
<tt> NE</tt> (unequal)<br>
<tt> LE</tt> (less or equal)<br>
<tt> CA</tt> (carry)<br>
<em> bitpos</em>,<tt>M</tt><br>
<em> bitpos</em>,<tt>addr10</tt><br>
<tt> 0..3</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.2: Operand Types for HMCS400 Meta Instructions
</center><p>
<a name="ref_TabHMCS400MetaOps"></a>

</p><p>

</p><h2><a name="sect_4_8_">4.8. H16</a></h2>
<p>
The instruction set of the H16's core well deserves the label
''CISC'': complex addressing modes, instructions of extremely
variable length, and there are many shortforms for instructions with
common operands. For instance, several instructions know different
''formats'', depending on the type of source and destination operand.
The general rule is that AS will always use the shortest possible
format, unless it was specified explicitly: angegeben:
</p><pre>
       mov.l     r4,r7     ; uses R format
       mov.l     #4,r7     ; uses RQ format
       mov.l     #4,@r7    ; uses Q format
       mov.l     @r4,@r7   ; uses G format
       mov:q.l   #4,r7     ; forces Q instead of RQ format
       mov:g.l   #4,r7     ; forces G instead of RQ format

</pre>
For immediate arguments, the ''natural' argument length is used, e.g.
2 bytes for 16 bits. Shorter or longer arguments may be forced by an
appended operand size (.b, .w, .l or :8, :16, :32). However, the rule
for displacements and absolute addresses is that the shortest form
will be used if no explicit size is given. This includes exploiting
that the processor does not output the uppermost eight bits of an
address. Therefore, an absolute address of $ffff80 can be coded as a
single byte ($80).
<p>
Furthermore, AS knows the ''accumulator bit'', i.e. the second
operand of a two-operand instruction my be left away if the
destination is register zero. There is currently no override this
behaviour.
</p><p>
Additionally, the following optimizations are performed:
</p><ul>
<li> <tt>MOV R0,&lt;ea&gt;</tt> gets optimized to<tt> MOVF
    &lt;ea&gt;</tt>, unless<tt> &lt;ea&gt;</tt> is a PC-relative
    expression and the size of the displacement would change. This
    optimization may be disabled by specifying an explicit
    format.</li>
<li> <tt>SUB</tt> does not support the Q format, however it may be
    replaced by<tt> ADD:Q</tt> with a negated immediate argument,
    given the argument is in the range -127...+128. This optimization
    may as well be disabled by specifying an explicit format.</li>
</ul>
<p>

</p><h2><a name="sect_4_9_">4.9. OLMS-40</a></h2>
<p>
Similar to the HMCS400, addressing modes are largely encoded (or
rather encrypted..) into into the mnemonics, and also here I decided
to provide an alternate notation that is more modern and better to
read. A complete list of all meta instructions and their operands can
be found in the tables <a href="#ref_TabOLMS40Meta">4.9</a> and <a href="#ref_TabOLMS40MetaOps">4.9</a>, their practical use can be seen
in the file<tt> t_olms4.asm</tt>.
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">Meta Instruction</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Replaces</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LD</tt><em> dest, src</em><br>
<br>
<br>
<tt> DEC</tt><em> dest</em><br>
<tt> INC</tt><em> dest</em><br>
<tt> BSET</tt><em> bit</em><br>
<tt> BCLR</tt><em> bit</em><br>
<tt> BTST</tt><em> bit</em></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LAI, LLI, LHI, L,</tt><br>
<tt> LAL, LLA, LAW, LAX, LAY, LAZ,</tt><br>
<tt> LWA, LXA, LYA, LPA, LTI, RTH, RTL</tt><br>
<tt> DCA, DCL, DCM, DCW, DCX, DCY, DCZ, DCH</tt><br>
<tt> INA, INL, INM, INW, INX, INY, INZ</tt><br>
<tt> SPB, SMB, SC</tt><br>
<tt> RPB, RMB, RC</tt><br>
<tt> TAB, TMB, Tc</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.3: Meta Instructions OLMS-40
</center><p>
<a name="ref_TabOLMS40Meta"></a>

</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">Operand</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Types</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><em> src, dest</em><br>
<br>
<br>
<br>
<br>
<em> bit</em><br>
<br>
<br>
<br>
<em> bitpos</em></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> A, W, X, Y, Z, DPL, DPH</tt> (Register)<br>
<tt> T, TL, TH</tt> (Timer, obere/untere H"alfte)<br>
<tt> (DP), M</tt> (Speicher adressiert durch DPH/DPL)<br>
<tt> #val</tt> (4/8 bit immediate)<br>
<tt> PP</tt> (Port-Pointer)<br>
<tt> C</tt> (Carry)<br>
<tt> (PP)</tt>,<em> bitpos</em><br>
<tt> (DP)</tt>,<em> bitpos</em><br>
<tt> (A)</tt>,<em> bitpos</em><br>
<tt> 0..3</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.4: Operand Types for OLMS-40 Meta Instructions
</center><p>
<a name="ref_TabOLMS40MetaOps"></a>

</p><p>

</p><h2><a name="sect_4_10_">4.10. OLMS-50</a></h2>
<p>
The data memory of these 4 bit controllers consists of up to 128
nibbles. However, only a very small subset of the machine
instructions have enough space to accomodate seven address bits,
which menas that - once again - banking must help out. The majority
of instructions that address memory only contain the lower four bits
of the RAM address, and unless the lowest 16 nibbles of the memory
shall be addressed, the P register delivers the necessary upper
address bits. The assembler is told about its current value via an
</p><pre>
   assume  p:&lt;value&gt;

</pre>
statement, e.g. directly after a<tt> PAGE</tt> instruction.
<p>
Speaking of<tt> PAGE</tt>: both<tt> PAGE</tt> and<tt> SWITCH</tt> are
machine instructions on these controllers, i.e. the do not have the
function known from other targets. The pseudo instruction to start
a<tt> SWITCH/CASE</tt> construct is<tt> SELECT</tt> in OLMS-50 mode,
and the listing's page size is set via<tt> PAGESIZE</tt>.
</p><p>

</p><h2><a name="sect_4_11_">4.11. MELPS-4500</a></h2>
<p>
The program memory of these microcontrollers is organized in pages of
128 words. Honestly said, this organization only exists because there
are on the one hand branch instructions with a target that must lie
within the same page, and on the other hand ''long'' branches that
can reach the whole address space. The standard syntax defined by
Mitsubishi demands that page number and offset have to be written as
two distinct arguments for the latter instructions. As this is quite
inconvenient (except for indirect jumps, a programmer has no other
reason to deal with pages), AS also allows to write the target
address in a ''linear'' style, for example
</p><pre>
        bl      $1234

</pre>
instead of
<pre>
        bl      $24,$34 .

</pre>
<p>

</p><h2><a name="sect_4_12_">4.12. 6502UNDOC</a></h2>
<p>
Since the 6502's undocumented instructions naturally aren't listed in
any data book, they shall be listed shortly at this place. Of course,
you are using them on your own risk. There is no guarantee that all
mask revisions will support all variants! They anyhow do not work for
the CMOS successors of the 6502, since they allocated the
corresponding bit combinations with "official" instructions...
</p><p>
The following symbols are used:
</p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> &amp;</td><td nowrap="nowrap"> binary AND</td></tr>
<tr><td nowrap="nowrap"> |</td><td nowrap="nowrap"> binary OR</td></tr>
<tr><td nowrap="nowrap"> ^</td><td nowrap="nowrap"> binary XOR</td></tr>
<tr><td nowrap="nowrap"> &lt;&lt;</td><td nowrap="nowrap"> logical shift left</td></tr>
<tr><td nowrap="nowrap"> &gt;&gt;</td><td nowrap="nowrap"> logical shift right</td></tr>
<tr><td nowrap="nowrap"> &lt;&lt;&lt;</td><td nowrap="nowrap"> rotate left</td></tr>
<tr><td nowrap="nowrap"> &gt;&gt;&gt;</td><td nowrap="nowrap"> rotate right</td></tr>
<tr><td nowrap="nowrap"> &lt;-</td><td nowrap="nowrap"> assignment</td></tr>
<tr><td nowrap="nowrap"> (..)</td><td nowrap="nowrap"> contents of ..</td></tr>
<tr><td nowrap="nowrap">..</td><td nowrap="nowrap"> bits ..</td></tr>
<tr><td nowrap="nowrap"> A</td><td nowrap="nowrap"> accumulator</td></tr>
<tr><td nowrap="nowrap"> X,Y</td><td nowrap="nowrap"> index registers X,Y</td></tr>
<tr><td nowrap="nowrap"> S</td><td nowrap="nowrap"> stack pointer</td></tr>
<tr><td nowrap="nowrap"> An</td><td nowrap="nowrap"> accumulator bit n</td></tr>
<tr><td nowrap="nowrap"> M</td><td nowrap="nowrap"> operand</td></tr>
<tr><td nowrap="nowrap"> C</td><td nowrap="nowrap"> carry</td></tr>
<tr><td nowrap="nowrap"> PCH</td><td nowrap="nowrap"> upper half of program counter</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> JAM</tt> or<tt> KIL</tt> or<tt> CRS</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none, prozessor is halted</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> implicit</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SLO</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-((M)&lt;&lt;1)|(A)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, X-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indexed long, X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ANC</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> A&lt;-(A)&amp;(M), C&lt;- A7</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> immediate</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> RLA</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-((M)&lt;&lt;1)&amp;(A)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, X-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indexed long, X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SRE</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-((M)&gt;&gt;1)^(A)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, X-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indexed long, X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ASR</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> A&lt;-((A)&amp;(M))&gt;&gt;1</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> immediate</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> RRA</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-((M)&gt;&gt;&gt;1)+(A)+(C)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, X-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indexed long, X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ARR</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> A&lt;-((A)&amp;(M))&gt;&gt;&gt;1</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> immediate</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SAX</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-(A)&amp;(X)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, Y-indexed short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ANE</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-((A)&amp;$ee)|((X)&amp;(M))</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> immediate</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SHA</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-(A)&amp;(X)&amp;(PCH+1)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> X/Y-indexed long</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SHS</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> X&lt;-(A)&amp;(X), S&lt;-(X), M&lt;-(X)&amp;(PCH+1)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> Y-indexed long</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SHY</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-(Y)&amp;(PCH+1)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> Y-indexed long</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SHX</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-(X)&amp;(PCH+1)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> X-indexed long</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LAX</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> A,X&lt;-(M)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, Y-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LXA</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> X04&lt;-(X)04&amp;(M)04,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> A04&lt;-(A)04&amp;(M)04</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> immediate</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LAE</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> X,S,A&lt;-((S)&amp;(M))</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> Y-indexed long</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> DCP</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-(M)-1, Flags&lt;-((A)-(M))</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, X-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indexed long, X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SBX</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> X&lt;-((X)&amp;(A))-(M)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> immediate</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ISB</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> M&lt;-(M)+1, A&lt;-(A)-(M)-(C)</td></tr>
<tr><td nowrap="nowrap"> Addressing Modes</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> absolute long/short, X-indexed long/short,</td></tr>
<tr><td nowrap="nowrap"></td><td nowrap="nowrap"></td><td nowrap="nowrap"> Y-indexed long, X/Y-indirect</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>

</p><h2><a name="sect_4_13_">4.13. MELPS-740</a></h2>
<p>
Microcontrollers of this family have a quite nice, however
well-hidden feature: If one sets bit 5 of the status register with
the<tt> SET</tt> instruction, the accumulator will be replaced with
the memory cell addressed by the X register for all load/store and
arithmetic instructions. An attempt to integrate this feature cleanly
into the assembly syntax has not been made so far, so the only way to
use it is currently the ''hard'' way (<tt>SET</tt>...instructions
with accumulator addressing...<tt>CLT</tt>).
</p><p>
Not all MELPS-740 processors implement all instructions. This is a
place where the programmer has to watch out for himself that no
instructions are used that are unavailable for the targeted
processor; AS does not differentiate among the individual processors
of this family. For a description of the details regarding special
page addressing, see the discussion of the<tt> ASSUME</tt>
instruction.
</p><p>

</p><h2><a name="sect_4_14_">4.14. MELPS-7700/65816</a></h2>
<a name="ref_MELPS7700Spec"></a>
<p>
As it seems, these two processor families took disjunct development
paths, starting from the 6502 via their 8 bit predecessors. Shortly
listed, the following differences are present:
</p><ul>
<li> The 65816 does not have a B accumulator.</li>
<li> The 65816 does not have instructions to multiply or divide.</li>
<li> The 65816 misses the instructions<tt> SEB, CLB, BBC, BBS, CLM, SEM,
    PSH, PUL</tt> and<tt> LDM</tt>. Instead, the instructions<tt>
    TSB, TRB, BIT, CLD, SED, XBA, XCE</tt> and<tt> STZ</tt> take
    their places in the opcode table.</li>
</ul>
The following instructions have identical function, yet different
names:
<p>
</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="CENTER">65816</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">MELPS-7700</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">65816</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">MELPS-7700</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="CENTER"><tt> REP</tt><br>
<tt> TCS</tt><br>
<tt> TCD</tt><br>
<tt> PHB</tt><br>
<tt> WAI</tt></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><tt> CLP</tt><br>
<tt> TAS</tt><br>
<tt> TAD</tt><br>
<tt> PHT</tt><br>
<tt> WIT</tt></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><tt> PHK</tt><br>
<tt> TSC</tt><br>
<tt> TDC</tt><br>
<tt> PLB</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="CENTER"><tt> PHG</tt><br>
<tt> TSA</tt><br>
<tt> TDA</tt><br>
<tt> PLT</tt><br>
</td>
</tr>
</tbody></table></center>
</center>
<p>
Especially tricky are the instructions<tt> PHB, PLB</tt> and<tt>
TSB</tt>: these instructions have a totally different encoding and
meaning on both processors!
</p><p>
Unfortunately, these processors address their memory in a way that is
IMHO even one level higher on the open-ended chart of perversity than
the Intel-like segmentation: They do banking! Well, this seems to be
the price for the 6502 upward-compatibility; before one can use AS to
write code for these processors, one has to inform AS about the
contents of several registers (using the<tt> ASSUME</tt>
instruction):
</p><p>
The M flag rules whether the accumulators A and B should be used with
8 bits (1) or 16 bits (0) width. Analogously, the X flag decides the
width of the X and Y index registers. AS needs this information for
the decision about the argument's width when immediate addressing
(#&lt;constant&gt;) occurs.
</p><p>
The memory is organized in 256 banks of 64 KBytes. As all registers
in the CPU core have a maximum width of 16 bits, the upper 8 bits
have to be fetched from 2 special bank registers: DT delivers the
upper 8 bits for data accesses, and PG extends the 16-bit program
counter to 24 bits. A 16 bits wide register DPR allows to move the
zero page known from the 6502 to an arbitrary location in the first
bank. If AS encounters an address (it is irrelevant if this address
is part of an absolute, indexed, or indirect expression), the
following addressing modes will be tested:
</p><ol>
<li>Is the address in the range of DPR..DPR+$ff? If yes, use direct
    addressing with an 8-bit address.</li>
<li>Is the address contained in the page addressable via DT (resp. PG for
    branch instructions)? If yes, use absolute addressing with a
    16-bit address.</li>
<li>If nothing else helps, use long addressing with a 24-bit
    address.</li>
</ol>
As one can see from this enumeration, the knowledge about the current
values of DT, PG and DPR is essential for a correct operation of AS;
if the specifications are incorrect, the program will probably do
wrong addressing at runtime. This enumeration also implied that all
three address lengths are available; if this is not the case, the
decision chain will become shorter.
<p>
The automatic determination of the address length described above may
be overridden by the usage of prefixes. If one prefixes the address
by a &lt;, &gt;, or &gt;&gt; without a separating space, an address
with 1, 2, or 3 bytes of length will be used, regardless if this is
the optimal length. If one uses an address length that is either not
allowed for the current instruction or too short for the address, an
error message is the result.
</p><p>
To simplify porting of 6502 programs, AS uses the Motorola syntax for
hexadecimal constants instead of the Intel/IEEE syntax that is the
format preferred by Mitsubishi for their 740xxx series. I still think
that this is the better format, and it looks as if the designers of
the 65816 were of the same opinion (as the<tt> RELAXED</tt>
instruction allows the alternative use of Intel notation, this
decision should not hurt anything). Another important detail for the
porting of programs is that it is valid to omit the accumulator A as
target for operations. For example, it is possible to simply write
LDA #0 instead of LDA A,#0.
</p><p>
A real goodie in the instruction set are the instructions<tt>
MVN</tt> resp.<tt> MVP</tt> to do block transfers. However, their
address specification rules are a bit strange: bits 0--15 are stored
in index registers, bits 16--23 are part of the instruction. When one
uses AS, one simply specifies the full destination and source
addresses. AS will then automatically grab the correct bits. This is
a fine yet important difference Mitsubishi's assembler where you have
to extract the upper 8 bits on your own. Things become really
convenient when a macro like the following is used:
</p><pre>
mvpos   macro   src,dest,len
        if      MomCPU=$7700
         lda    #len
        elseif
         lda    #(len-1)
        endif
        ldx     #(src&amp;$ffff)
        ldy     #(dest&amp;$ffff)
        mvp     dest,src
        endm

</pre>
Caution, possible pitfall: if the accumulator contains the value n,
the Mitsubishi chip will transfer n bytes, but the 65816 will
transfer n+1 bytes!
<p>
The<tt> PSH</tt> and<tt> PUL</tt> instructions are also very handy
because they allow to save a user-defined set to be saved to the
stack resp. to be restored from the stack. According to the
Mitsubishi data book <a href="#cite_Mit16">[55]</a>, the bit mask has
to be specified as an immediate operand, so the programmer either has
to keep all bit&lt;-&gt;register assignments in mind or he has to define
some appropriate symbols. To make things simpler, I decided to extend
the syntax at this point: It is valid to use a list as argument which
may contain an arbitrary sequence of register names or immediate
expressions. Therefore, the following instructions
</p><pre>
        psh     #$0f
        psh     a,b,#$0c
        psh     a,b,x,y


</pre>
are equivalent. As immediate expressions are still valid, AS stays
upward compatible to the Mitsubishi assemblers.
<p>
One thing I did not fully understand while studying the Mitsubishi
assembler is the treatment of the<tt> PER</tt> instruction: this
instruction allows to push a 16-bit variable onto the stack whose
address is specified relative to the program counter. Therefore, it
is an absolute addressing mode from the programmer's point of view.
Nevertheless, the Mitsubishi assembler requests immediate addressing,
and the instructions argument is placed into the code just as-is. One
has to calculate the address in his own, which is something symbolic
assemblers were designed for to avoid...as I wanted to stay
compatible, AS contains a compromise: If one chooses immediate
addressing (with a leading # sign), AS will behave like the original
from Mitsubishi. But if the # sign is omitted, as will calculate the
difference between the argument's value and the current program
counter and insert this difference instead.
</p><p>
A similar situation exists for the<tt> PEI</tt> instruction that
pushes the contents of a 16-bit variable located in the zero page:
Though the operand represents an address, once again immediate
addressing is required. In this case, AS will simply allow both
variants (i.e. with or without a # sign).
</p><p>

</p><h2><a name="sect_4_15_">4.15. M16</a></h2>
<p>
The M16 family is a family of highly complex CISC processors with an
equally complicated instruction set. One of the instruction set's
properties is the detail that in an instruction with two operands,
both operands may be of different sizes. The method of appending the
operand size as an attribute of the instruction (known from Motorola
and adopted from Mitsubishi) therefore had to be extended: it is
valid to append attributes to the operands themselves. For example,
the following instruction
</p><pre>
        mov     r0.b,r6.w

</pre>
reads the lowest 8 bits of register 0, sign-extends them to 32 bits
and stores the result into register 6. However, as one does not need
this feature in 9 out of 10 cases, it is still valid to append the
operand size to the instruction itself, e.g.
<pre>
        mov.w   r0,r6

</pre>
Both variants may be mixed; in such a case, an operand size appended
to an operand overrules the ''default''. An exception are
instructions with two operands. For these instructions, the default
for the source operand is the destination operand's size. For
example, in the following example
<pre>
        mov.h   r0,r6.w

</pre>
register 0 is accessed with 32 bits, the size specification appended
to the instruction is not used at all. If an instruction does not
contain any size specifications, word size (<tt>w</tt>) will be used.
Remember: in contrast to the 68000 family, this means 32 bits instead
of 16 bits!
<p>
The chained addressing modes are also rather complex; the ability of
AS to automatically assign address components to parts of the chain
keeps things at least halfway manageable. The only way of influencing
AS allows (the original assembler from Mitsubishi/Green Hills allows
a bit more in this respect) is the explicit setting of displacement
lengths by appending<tt> :4, :16</tt> and<tt> :32</tt>.
</p><p>

</p><h2><a name="sect_4_16_">4.16. 4004/4040</a></h2>
<p>
Thanks to John Weinrich, I now have the official Intel data sheets
describing these 'grandfathers' of all microprocessors, and the
questions about the syntax of register pairs (for 8-bit operations)
have been weeded out for the moment: It is<tt> RnRm</tt> with<tt>
n</tt> resp.<tt> m</tt> being even integers in the range from 0 to E
resp. 1 to F. The equation<tt> m = n + 1</tt> must be fulfilled.
</p><p>

</p><h2><a name="sect_4_17_">4.17. MCS-48</a></h2>
<p>
The maximum address space of these processors is 4 Kbytes, resp. up
to 8 Kbytes on some Philips varaints. This address space is not
organized in a linear way (how could this be on an Intel CPU...).
Instead, it is split into 2 banks of 2 Kbytes. The only way to change
the program counter from one bank to the other are the
instructions<tt> CALL</tt> and<tt> JMP</tt>, by setting the most
significant bit of the address with the instructions<tt> SEL MB0</tt>
to<tt> SEL MB3</tt>.
</p><p>
The assembler may be informed about the bank currently being selected
for jumps and calls, via an<tt> ASSUME</tt> statement:
</p><pre>
         ASSUME MB:&lt;0..3&gt;

</pre>
If one tries to jump to an address in a different bank, a warnig is
issued.
<p>
If the special value<tt> NOTHING</tt> is used (this is by the way the
default), an automatism uilt into<tt> JMP</tt> and<tt> CALL</tt> is
activated. It will insert a<tt> SEL MBx</tt> instruction if the
current program counter and the target address are located in
different banks. Explicit usage of<tt> SEL MBx</tt> instructions is
no longer necessary (though it remains possible), and it might
interfere with this mechanism, like in the following example:
</p><pre>
 000:  SEL      MB1
       JMP      200h

</pre>
AS assumes that the MB flag is 0 and therefore does not insert a<tt>
SEL MB0</tt> instruction, with the result that the CPU jumps to
address A00h.
<p>
Furthermore, one should keep in mind that a jump instruction might
become longer (3 instead of 2 bytes).
</p><p>

</p><h2><a name="sect_4_18_">4.18. MCS-51</a></h2>
<p>
The assembler is accompanied by the files<tt> STDDEF51.INC</tt>
resp.<tt> 80C50X.INC</tt> that define all bits and SFRs of the
processors 8051, 8052, and 80515 resp. 80C501, 502, and 504.
Depending on the target processor setting (made with the<tt> CPU</tt>
statement), the correct subset will be included. Therefore, the
correct order for the instructions at the beginning of a program is
</p><pre>
        CPU     &lt;processor type&gt;
        INCLUDE stddef51.inc   .

</pre>
Otherwise, the MCS-51 pseudo instructions will lead to error
messages.
<p>
As the 8051 does not have instructions to to push the registers 0..7
onto the stack, one has to work with absolute addresses. However,
these addresses depend on which register bank is currently active. To
make this situation a little bit better, the include files define the
macro<tt> USING</tt> that accepts the symbols<tt> Bank0...Bank3</tt>
as arguments. In response, the macro will assign the registers'
correct absolute addresses to the symbols<tt> AR0..AR7</tt>. This
macro should be used after every change of the register banks. The
macro itself does<b> not</b> generate any code to switch to the bank!
</p><p>
The macro also makes bookkeeping about which banks have been used.
The result is stored in the integer variable<tt> RegUsage</tt>: bit 0
corresponds to bank 0, bit 1 corresponds to bank 1. and so on. To
output its contents after the source has been assembled, use
something like the following piece of code:
</p><pre>
        irp       BANK,Bank0,Bank1,Bank2,Bank3
         if        (RegUsage&amp;(2^BANK))&lt;&gt;0
          message   "bank \{BANK} has been used"
         endif
        endm

</pre>
The multipass feature introduced with version 1.38 allowed to
introduce the additional instructions<tt> JMP</tt> and<tt> CALL</tt>.
If branches are coded using these instructions, AS will automatically
use the variant that is optimal for the given target address. The
options are<tt> SJMP, AJMP</tt>, or<tt> LJMP</tt> for<tt> JMP</tt>
resp.<tt> ACALL</tt> or<tt> LCALL</tt> for<tt> CALL</tt>. Of course
it is still possible to use these variants directly, in case one
wants to force a certain coding.
<p>

</p><h2><a name="sect_4_19_">4.19. MCS-251</a></h2>
<p>
When designing the 80C251, Intel really tried to make the move to the
new family as smooth as possible for programmers. This culminated in
the fact that old applications can run on the new processor without
having to recompile them. However, as soon as one wants to use the
new features, some details have to be regarded which may turn into
hidden pitfalls.
</p><p>
The most important thing is the absence of a distinct address space
for bits on the 80C251. All SFRs can now be addressed bitwise,
regardless of their address. Furthermore, the first 128 bytes of the
internal RAM are also bit addressable. This has become possible
because bits are not any more handled by a separate address space
that overlaps other address spaces. Instead, similar to other
processors, bits are addressed with a two-dimensional address that
consists of the memory location containing the bit and the bit's
location in the byte. One result is that in an expression like<tt>
PSW.7</tt>, AS will do the separation of address and bit position
itself. Unlike to the 8051, it is not any more necessary to
explicitly generate 8 bit symbols. This has the other result that
the<tt> SFRB</tt> instruction does not exist any more. If it is used
in a program that shall be ported, it may be replaced with a
simple<tt> SFR</tt> instruction.
</p><p>
Furthermore, Intel cleaned up the cornucopia of different address
spaces on the 8051: the internal RAM (<tt>DATA</tt> resp.<tt>
IDATA</tt>), the<tt> XDATA</tt> space and the former<tt> CODE</tt>
space were unified to a single<tt> CODE</tt> space that is now 16
Mbytes large. The internal RAM starts at address 0, the internal ROM
starts at address ff0000h, which is the address code has to be
relocated to. In contrast, the SFRs were moved to a separate address
space (which AS refers to as the<tt> IO</tt> segment). However, they
have the same addresses in this new address space as they used to
have on the 8051. The<tt> SFR</tt> instructions knows of this
difference and automatically assigns symbols to either the<tt>
DATA</tt> or<tt> IO</tt> segment, depending on the target processor.
As there is no<tt> BIT</tt> segment any more, the<tt> BIT</tt>
instruction operates completely different: Instead of a linear
address ranging from 0..255, a bit symbol now contains the byte's
address in bit 0..7, and the bit position in bits 24..26.
Unfortunately, creating arrays of flags with a symbolic address is
not that simple any more: On an 8051, one simply wrote:
</p><pre>
        segment bitdata

bit1    db      ?
bit2    db      ?

or

defbit  macro   name
name    bit     cnt
cnt     set     cnt+1
        endm

</pre>
On a 251, only the second way still works, like this:
<pre>
adr     set     20h     ; start address of flags
bpos    set     0       ; in the internal RAM

defbit  macro   name
name    bit     adr.bpos
bpos    set     bpos+1
        if      bpos=8
bpos     set     0
adr      set     adr+1
        endif
        endm

</pre>
Another small detail: Intel now prefers<tt> CY</tt> instead of<tt>
C</tt> as a symbolic name for the carry, so you might have to rename
an already existing variable of the same name in your program.
However, AS will continue to understand also the old variant when
using the instructions<tt> CLR, CPL, SETB, MOV, ANL,</tt> or<tt>
ORL</tt>. The same is conceptually true for the additional
registers<tt> R8..R15, WR0..WR30, DR0..DR28, DR56, DR60, DPX,</tt>
and<tt> SPX</tt>.
<p>
Intel would like everyone to write absolute addresses in a syntax
of<tt> XX:YYYY</tt>, where<tt> XX</tt> is a 64K bank in the address
space resp. signifies addresses in the I/O space with an<tt> S</tt>.
As one might guess, I am not amused about this, which is why it is
legal to alternitavely use linear addresses in all places. Only
the<tt> S</tt> for I/O addresses is incircumventable, like in this
case:
</p><pre>
Carry   bit     s:0d0h.7

</pre>
Without the prefix, AS would assume an address in the<tt> CODE</tt>
segment, and only the first 128 bits in this space are
bit-addressable...
<p>
Like for the 8051, the generic branch instructions<tt> CALL</tt>
and<tt> JMP</tt> exist that automatically choose the shortest machine
code depending on the address layout. However, while<tt> JMP</tt>
also may use the variant with a 24-bit address,<tt> CALL</tt> will
not do this for a good reason: In contrast to<tt> ACALL</tt> and<tt>
LCALL</tt>,<tt> ECALL</tt> places an additional byte onto the stack.
A<tt> CALL</tt> instruction would result where you would not know
what it will do. This problem does not exist for the<tt> JMP</tt>
instructions.
</p><p>
There is one thing I did not understand: The 80251 is also able to
push immediate operands onto the stack, and it may push either single
bytes or complete words. However, the same mnemonic (<tt>PUSH</tt>)
is assigned to both variants - how on earth should an assembler know
if an instruction like
</p><pre>
        push    #10

</pre>
shall push a byte or a word containing the value 10? So the current
rule is that<tt> PUSH</tt> always pushes a byte; if one wants to push
a word, simply use<tt> PUSHW</tt> instead of<tt> PUSH</tt>.
<p>
Another well-meant advise: If you use the extended instruction set,
be sure to operate the processor in source mode; otherwise, all
instructions will become one byte longer! The old 8051 instructions
that will in turn become one byte longer are not a big matter: AS
will either replace them automatically with new, more general
instructions or they deal with obsolete addressing modes (indirect
addressing via 8 bit registers).
</p><p>

</p><h2><a name="sect_4_20_">4.20. 8080/8085</a></h2>
<a name="ref_8080Spec"></a>
<p>
As mentioned before, the statement
</p><pre>
       Z80SYNTAX &lt;ON|OFF|EXCLUSIVE&gt;

</pre>
makes it possible to write the vast majority of 8080/8085
instructions in 'Z80 s tyle', i.e. with less mnemonics but with
operands that are easier to understand. In non-exclusive mode, the
Z80 syntax is not allowed for the following instructions, because
they conflict with existing 8080 mnemonics:
<ul>
<li> <tt>CP</tt> in 'Intel syntax' means 'Call on Positive', in Zilog
    syntax however it means 'Compare'. If you use<tt> CP</tt> with a
    numeric value, it is not possible for the assembler to recognize
    whether a jump to an absolute address or a compare with an
    immediate value is meant. The assembler will generate a jump in
    this case, since the Intel syntax has precedence in case of
    ambiguities. If one wants the comparison, one may explicitly
    write down the accumulator as destination operand, e.g.<tt> CP
    A,12h</tt> instead of<tt> CP 12h</tt>.</li>
<li> <tt>JP</tt> in Intel syntax means 'Jump on Positive', in Zilog
    syntax however, this is the jump instruction in general.
    Conditional jumps in Zilog syntax (<tt>JP cond,addr</tt>) are
    unambigious because of the two arguments. With only one argument,
    the assembler will however always generate the conditional jump.
    If you want an unconditional jump to an absolute address, you
    still have to use the Intel syntax ((<tt>JMP addr</tt>).</li>
</ul>
The 8085 supports the instructions<tt> RIM</tt> and<tt> SIM</tt> that
are not part of the Z80 instruction set. They may be written in 'Z80
style' as<tt> LD A,IM</tt> resp.<tt> LD IM,A</tt>.
<p>

</p><h2><a name="sect_4_21_">4.21. 8085UNDOC</a></h2>
<a name="ref_8085Spec"></a>
<p>
Similarly to the Z80 or 6502, Intel did not further specify the
undocumented 8085 instructions. This however means that other
assemblers might use different mnemonics for the same function.
Therefore, I will list the nistructions in the following. Once again,
usage of these instructions is at one's own risk - even the Z80 which
is principally upward compatible to the 8085 uses the opcodes for
entirely different functions...
</p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> DSUB [reg]</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SUB HL,reg</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> HL &lt;- HL - reg</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> CY, S, X5, AC, Z, V, P</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> reg</tt> = B for BC (optional for non-Z80 syntax)</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ARHL</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SRA HL</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> HL,CY &lt;- HL &gt;&gt; 1 (arithmetisch)</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> CY</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none resp. fixed for Z80 syntax</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> RDEL</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> RLC DE</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> CY,DE &lt;- DE &lt;&lt; 1</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> CY, V</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none resp. fixed for Z80 syntax</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LDHI d8</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ADD DE,HL,d8</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> DE &lt;- HL +<tt> d8</tt></td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> d8</tt> = 8-bit constant, registers fixed for Z80 syntax</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LDSI d8</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> ADD DE,SP,d8</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> DE &lt;- SP +<tt> d8</tt></td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> d8</tt> = 8-bit constant, registers fixed for Z80 syntax</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> RSTflag</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> RST flag</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> restart to 40h if<tt> flag</tt>=1</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> flag</tt> = V for overflow bit</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> SHLX [reg]</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LD (reg),HL</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> [reg] &lt;- HL</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> reg</tt> = D/DE for DE (optional for non-Z80 syntax)</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LHLX [reg]</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> LD HL,(reg)</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> HL &lt;- [reg]</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> reg</tt> = D/DE for DE (optional for non-Z80 syntax)</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> JNX5 addr</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> JP NX5, addr</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> jump to<tt> addr</tt> if X5=0</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> addr</tt> = absolute 16-bit address</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"></td></tr>
<tr><td nowrap="nowrap"> Instruction</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> JX5 addr</tt></td></tr>
<tr><td nowrap="nowrap"> Z80 Syntax</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> JP X5,addr</tt></td></tr>
<tr><td nowrap="nowrap"> Function</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> jump to<tt> addr</tt> if X5=1</td></tr>
<tr><td nowrap="nowrap"> Flags</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"> none</td></tr>
<tr><td nowrap="nowrap"> Arguments</td><td nowrap="nowrap"> :</td><td nowrap="nowrap"><tt> addr</tt> = absolute 16-bit address</td></tr>
<tr><td nowrap="nowrap"></td></tr>
</tbody></table></p><p>
X5 refers to the otherwise unused bit 5 in the processor status word
(PSW).
</p><p>

</p><h2><a name="sect_4_22_">4.22. 8086..V35</a></h2>
<p>
Actually, I had sworn myself to keep the segment disease of Intel's
8086 out of the assembler. However, as there was a request and as
students are more flexible than the developers of this processor
obviously were, there is now a rudimentary support of these
processors in AS. When saying, 'rudimentary', it does not mean that
the instruction set is not fully covered. It means that the whole
pseudo instruction stuff that is available when using MASM, TASM, or
something equivalent does not exist. To put it in clear words, AS was
not primarily designed to write assembler programs for PC's (heaven
forbid, this really would have meant reinventing the wheel!);
instead, the development of programs for single-board computers was
the main goal (which may also be equipped with an 8086 CPU).
</p><p>
For die-hards who still want to write DOS programs with AS, here is a
small list of things to keep in mind:
</p><ul>
<li> Only<tt> COM</tt> files may be created.</li>
<li> Only use the<tt> CODE</tt> segment, and place also all variables in
    this segment.</li>
<li> DOS initializes all segment registers to the code segment. An<tt>
    ASSUME DS:DATA, SS:DATA</tt> right at the program's beginning is
    therefore necessary.</li>
<li> DOS loads the code to a start address of 100h. An<tt> ORG</tt> to
    this address is absolutely necessary.</li>
<li> The conversion to a binary file is done with P2BIN (see later in
    this document), with an address filter of<tt> $-$</tt>.</li>
</ul>
For these processors, AS only supports a small programming model,
i.e. there is<b> one</b> code segment with a maximum of 64 Kbytes and
a data segment of equal size for data (which cannot be set to initial
values for<tt> COM</tt> files). The<tt> SEGMENT</tt> instruction
allows to switch between these two segments. From this facts results
that branches are always intrasegment branches if they refer to
targets in this single code segment. In case that far jumps should be
necessary, they are possible via<tt> CALLF</tt> or<tt> JMPF</tt> with
a memory address or a<tt> Segment:Offset</tt> value as argument.
<p>
Another big problem of these processors is their assembler syntax,
which is sometimes ambiguous and whose exact meaning can then only be
deduced by looking at the current context. In the following example,
either absolute or immediate addressing may be meant, depending on
the symbol's type:
</p><pre>
        mov     ax,value

</pre>
When using AS, an expression without brackets always is interpreted
as immediate addressing. For example, when either a variable's
address or its contents shall be loaded, the differences listed in
table <a href="#ref_TabMASM">4.5</a> are present between MASM and AS:

<center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">assembler</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">address</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">contents</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">MASM<br>
<br>
<br>
<br>
AS<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> mov ax,offset vari</tt><br>
<tt> lea ax,vari</tt><br>
<tt> lea ax,[vari]</tt><br>
<br>
<tt> mov ax,vari</tt><br>
<tt> lea ax,[vari]</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> mov ax,vari</tt><br>
<tt> mov ax,[vari]</tt><br>
<br>
<br>
<tt> mov ax,[vari]</tt><br>
</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.5: Differences AS&lt;-&gt;MASM Concerning Addressing Syntax<a name="ref_TabMASM"></a>
</center><p>

</p><p>
When addressing via a symbol, the assembler checks whether they are
assigned to the data segment and tries to automatically insert an
appropriate segment prefix. This happens for example when symbols
from the code segment are accessed without specifying a<tt> CS</tt>
segment prefix. However, this mechanism can only work if the<tt>
ASSUME</tt> instruction (see there) has previously been applied
correctly.
</p><p>
The Intel syntax also requires to store whether bytes or words were
stored at a symbol's address. AS will do this only when the<tt>
DB</tt> resp.<tt> DW</tt> instruction is in the same source line as
the label. For any other case, the operand size has to be specified
explicitly with the<tt> BYTE PTR, WORD PTR,...</tt> operators. As
long as a register is the other operator, this may be omitted, as the
operand size is then clearly given by the register's name.
</p><p>
In an 8086-based system, the coprocessor is usually synchronized via
via the processor's TEST input line which is connected to toe
coprocessor's BUSY output line. AS supports this type of handshaking
by automatically inserting a<tt> WAIT</tt> instruction prior to every
8087 instruction. If this is undesired for any reason, an<tt> N</tt>
has to be inserted after the<tt> F</tt> in the mnemonic; for example,
</p><pre>
        FINIT
        FSTSW   [vari]

</pre>
becomes
<pre>
        FNINIT
        FNSTSW  [vari]

</pre>
This variant is valid for<b> all</b> coprocessor instructions.
<p>

</p><h2><a name="sect_4_23_">4.23. 8X30x</a></h2>
<a name="ref_8X30xSpec"></a>
<p>
The processors of this family have been optimized for an easy
manipulation of bit groups at peripheral addresses. The
instructions<tt> LIV</tt> and<tt> RIV</tt> were introduced to deal
with such objects in a symbolic fashion. They work similar to<tt>
EQU</tt>, however they need three parameters:
</p><ol>
<li>the address of the peripheral memory cell that contains the bit group
    (0..255);</li>
<li>the number of the group's first bit (0..7);</li>
<li>the length of the group, expressed in bits (1..8).</li>
</ol>
<b> CAUTION!</b> The 8X30x does not support bit groups that span over
more than one memory address. Therefore, the valid value range for
the length can be stricter limited, depending on the start position.
AS does<b> not</b> perform any checks at this point, you simply get
strange results at runtime!
<p>
Regarding the machine code, length and position are expressed vis a 3
bit field in the instruction word and a proper register number
(<tt>LIVx</tt> resp.<tt> RIVx</tt>). If one uses a symbolic object,
AS will automatically assign correct values to this field, but it is
also allowed to specify the length explicitly as a third operand if
one does not work with symbolic objects. If AS finds such a length
specification in spite of a symbolic operand, it will compare both
lengths and issue an error if they do not match (the same will happen
for the MOVE instruction if two symbolic operands with different
lengths are used - the instruction simply only has a single length
field...).
</p><p>
Apart from the real machine instructions, AS defines similarly to its
''idol'' MCCAP some pseudo instructions that are implemented as
builtin macros:
</p><ul>
<li> <tt>NOP</tt> is a shortform for<tt> MOVE AUX,AUX</tt></li>
<li> <tt>HALT</tt> is a shortform for<tt> JMP *</tt></li>
<li> <tt>XML ii</tt> is a shortform for<tt> XMIT ii,R12</tt> (only
    8X305)</li>
<li> <tt>XMR ii</tt> is a shortform for<tt> XMIT ii,R13</tt> (only
    8X305)</li>
<li> <tt>SEL &lt;busobj&gt;</tt> is a shortform for<tt> XMIT
    &lt;adr&gt;,IVL/IVR</tt>, i.e. it performs the necessary
    preselection to access &lt;busobj&gt;.</li>
</ul>
The<tt> CALL</tt> and<tt> RTN</tt> instructions MCCAP also implements
are currently missing due to sufficient documentation. The same is
true for a set of pseudo instructions to store constants to memory.
Time may change this...
<p>

</p><h2><a name="sect_4_24_">4.24. XA</a></h2>
<p>
Similar to its predecessor MCS/51, but in contrast to its
'competitor' MCS/251, the Philips XA has a separate address space for
bits, i.e. all bits that are accessible via bit instructions have a
certain, one-dimensional address which is stored as-is in the machine
code. However, I could not take the obvious opportunity to offer this
third address space (code and data are the other two) as a separate
segment. The reason is that - in contrast to the MCS/51 - some bit
addresses are ambiguous: bits with an address from 256 to 511 refer
to the bits of memory cells 20h..3fh in the current data segment.
This means that these addresses may correspond to different physical
bits, depending on the current state. Defining bits with the help
of<tt> DC</tt> instructions - something that would be possible with a
separate segment - would not make too much sense. However, the<tt>
BIT</tt> instruction still exists to define individual bits
(regardless if they are located in a register, the RAM or SFR space)
that can then be referenced symbolically. If the bit is located in
RAM, the address of the 64K-bank is also stored. This way, AS can
check whether the DS register has previously be assigned a correct
value with an<tt> ASSUME</tt> instruction.
</p><p>
In contrast, nothing can stop AS's efforts to align potential branch
targets to even addresses. Like other XA assemblers, AS does this by
inserting<tt> NOP</tt>s right before the instruction in question.
</p><p>

</p><h2><a name="sect_4_25_">4.25. AVR</a></h2>
<p>
In contrast to the AVR assembler, AS by default uses the Intel format
to write hexadecimal contants instead of the C syntax. All right, I
did not look into the (free) AVR assembler before, but when I started
with the AVR part, there was hardly mor einformation about the AVR
than a preliminary manual describing processor types that were never
sold...this problem can be solved with a simple RELAXED ON.
</p><p>
Optionally, AS can generate so-called "object files" for the AVRs (it
also works for other CPUs, but it does not make any sense for
them...). These are files containing code and source line info what
e.g. allows a step-by-step execution on source level with the WAVRSIM
simulator delivered by Atmel. Unfortunately, the simulator seems to
have trouble with source file names longer than approx. 20
characters: Names are truncated and/or extended by strange special
characters when the maximum length is exceeded. AS therefore stores
file name specifications in object files without a path
specification. Therefore, problems may arise when files like includes
are not in the current directory.
</p><p>
A small specialty are machine instructions that have already been
defined by Atmel as part of the architecture, but up to now haven't
been implemented in any of the family's members. The instructions in
question are<tt> MUL, JMP,</tt> and<tt> CALL</tt>. Considering the
latter ones, one may ask himself how to reach the 4 Kwords large
address space of the AT90S8515 when the 'next best' instructions<tt>
RJMP</tt> and<tt> RCALL</tt> can only branch up to 2 Kwords forward
or backward. The trick is named 'discarding the upper address bits'
and described in detail with the<tt> WRAPMODE</tt> statement.
</p><p>
All AVR targets support the optional CPU argument<tt>
CODESEGSIZE</tt>. Like in this example,
</p><pre>
   cpu atmega8:codesegsize=0

</pre>
it may be used to instruct the assembler to treat the code segment
(i.e. the internal flash ROM) as being organized in bytes instead of
16 bit words. This is the view when the<tt> LPM</tt> instruction is
used, and which some other (non Atmel) assemblers use in general. It
has the advantage that addresses in the<tt> CODE</tt> segment need
not be multiplied by two if used for data accesses. On the other
hand, care has to be taken that instructions do not start on an odd
address - this would be the equivalent of an instruction occupying
fractions of flash words. The<tt> PADDING</tt> option is therefore
enabled by default, while it remains possible to define arrays of
bytes via multiple uses of<tt> DB</tt> or<tt> DATA</tt> without the
risk of padding bytes inserted in between. Target addresses for
relative and absolute branches automatically get divided by two in
this ''byte mode''. The default is the organizazion in 16 bit word as
used by the original Atmel assembler. This may explicitly be selected
by using the argument codesegsize=1.
<p>

</p><h2><a name="sect_4_26_">4.26. Z80UNDOC</a></h2>
<p>
As one might guess, Zilog did not make any syntax definitions for the
undocumented instructions; furthermore, not everyone might know the
full set. It might therefore make sense to list all instructions at
this place:
</p><p>
Similar to a Z380, it is possible to access the byte halves of IX and
IY separately. In detail, these are the instructions that allow this:
</p><pre>
 INC Rx              LD R,Rx             LD  Rx,n
 DEC Rx              LD Rx,R             LD  Rx,Ry
 ADD/ADC/SUB/SBC/AND/XOR/OR/CP A,Rx

</pre>
<tt>Rx</tt> and<tt> Ry</tt> are synonyms for<tt> IXL, IXU, IYL</tt>
or<tt> IYU</tt>. Keep however in mind that in the case of<tt> LD
Rx,Ry</tt>, both registers must be part of the same index register.
<p>
The coding of shift instructions leaves an undefined bit combination
which is now accessible as the ttySL1,<tt> SLI</tt>,<tt> SLIA</tt>,
or<tt> SLS</tt> instruction. It works like<tt> SLA</tt> with the
difference of entering a 1 into bit position 0.<b> CAUTION!</b> Some
sources also name this operation<tt> SLL</tt>. It decided to not
offer this, since it is misleading:<tt> SLL</tt> translates into
"shift left logically", and the operation performed by this
instruction is no logical left shift. If one should define<tt>
SLL</tt> at all, then as an alias for<tt> SLA</tt>. If you have
existing code that uses<tt> SLL</tt> in the meaning of<tt>
SL1/SLI</tt>, define it via a macro.
</p><p>
Like all other (docummented) shift instructions, this also works in
another undocumented variant:
</p><pre>
        SLIA    R,(XY+d)
        SLIA    (XY+d),R

</pre>
In this case,<tt> R</tt> is an arbitrary 8-bit register (excluding
index register halves...), and<tt> (XY+d)</tt> is a normal indexed
address. This operation has the additional effect of copying the
result into the register. This also works for the<tt> RES</tt>
and<tt> SET</tt> instructions:
<pre>
        SET/RES R,n,(XY+d)
        SET/RES n,(XY+d),R

</pre>
Furthermore, two hidden I/O instructions exist:
<pre>
        IN      (C) resp. TSTI
        OUT     (C),0

</pre>
Their operation should be clear.<b> CAUTION!</b> Noone can guarantee
that all mask revisions of the Z80 execute these instructions, and
the Z80's successors will react with traps if they find one of these
instructions. Use them on your own risk...
<p>

</p><h2><a name="sect_4_27_">4.27. GB_Z80 resp. LR35902</a></h2>
<p>
The LR35902 SoC used in the original Gameboy was developed by Sharp,
and the CPU core is (probably) the same as in the SM83
microcontrollers. Regarding its instruction set, it is somewhere
''half way'' between 8080 and Z80, however with its own omissions and
extensions. Sharp of course defined an assembler syntax for the new
instructions. However, variations have established itself in the
''Gameboy scene''. I tried to regard those as well (as far as I am
aware of them):
</p><p>
</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">Sharp</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Alternate</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Function</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(HLD)<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(HL-)<br>
LDD A,(HL)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">A &lt;-- (HL),<br>
HL &lt;-- HL-1</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(HLI)<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(HL+)<br>
LDI A,(HL)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">A &lt;-- (HL),<br>
HL &lt;-- HL+1</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (HLD),A<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (HL-),A<br>
LDD (HL),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">(HL) &lt;-- A,<br>
HL &lt;-- HL-1</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (HLI),A<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (HL+),A<br>
LDI (HL),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">(HL) &lt;-- A,<br>
HL &lt;-- HL+1</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(C)<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(FF00+C)<br>
LDH A,(C)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">A &lt;-- (0ff00h+C)<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (C),A<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (FF00+C),A<br>
LDH (C),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">(0ff00h+C) &lt;-- A<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (FF00+n),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LDH (n),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">(0ff00h+n) &lt;-- A</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(FF00+n)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LDH A,(n)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">A &lt;-- (0ff00h+n)</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LDHL SP,d</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD HL,SP+d</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">HL &lt;-- SP + d</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LDX A,(nn)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD A,(nn)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">A &lt;-- (nn)<sup> 1</sup></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">LDX (nn),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">LD (nn),A</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">(nn) &lt;-- A<sup> 1</sup></td>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><sup>1</sup> enforces 16 bit addressing</td>
</tr>
</tbody></table></center>
</center>
<p>

</p><h2><a name="sect_4_28_">4.28. Z380</a></h2>
<p>
As this processor was designed as a grandchild of the still most
popular 8-bit microprocessor, it was a sine-qua-non design target to
execute existing Z80 programs without modification (of course, they
execute a bit faster, roughly by a factor of 10...). Therefore, all
extended features can be enabled after a reset by setting two bits
which are named XM (eXtended Mode, i.e. a 32-bit instead of a 16-bit
address space) respectively LW (long word mode, i.e. 32-bit instead
of 16-bit operands). One has to inform AS about their current setting
with the instructions<tt> EXTMODE</tt> resp.<tt> LWORDMODE</tt>, to
enable AS to check addresses and constants against the correct upper
limits. The toggle between 32- and 16-bit instruction of course only
influences instructions that are available in a 32-bit variant.
Unfortunately, the Z380 currently offers such variants only for load
and store instructions; arithmetic can only be done in 16 bits. Zilog
really should do something about this, otherwise the most positive
description for the Z380 would be ''16-bit processor with 32-bit
extensions''...
</p><p>
The whole thing becomes complicated by the ability to override the
operand size set by LW with the instruction prefixes<tt> DDIR W</tt>
resp.<tt> DDIR LW</tt>. AS will note the occurrence of such
instructions and will toggle setting for the instruction following
directly. By the way, one should never explicitly use other<tt>
DDIR</tt> variants than<tt> W</tt> resp.<tt> LW</tt>, as AS will
introduce them automatically when an operand is discovered that is
too long. Explicit usage might puzzle AS. The automatism is so
powerful that in a case like this:
</p><pre>
        DDIR    LW
        LD      BC,12345678h   ,

</pre>
the necessary<tt> IW</tt> prefix will automatically be merged into
the previous instruction, resulting in
<pre>
        DDIR    LW,IW
        LD      BC,12345668h   .

</pre>
The machine code that was first created for<tt> DDIR LW</tt> is
retracted and replaced, which is signified with an<tt> R</tt> in the
listing.
<p>

</p><h2><a name="sect_4_29_">4.29. Z8, Super8, and eZ8</a></h2>
<a name="ref_Z8Spec"></a>
<p>
The CPU core contained in the Z8 microcontrollers does not contain
any specific registers. Instead, a block of 16 consecutive cells of
the internal address space (contains RAM and I/O registers) may be
used as 'work registers' and be addressed with 4-bit addresses. The
RP registers define which memory block is used as work registers: on
a classic Z8, bits 4 to 7 of RP define the 'offset' that is added to
a 4-bit work register address to get a complete 8-bit address. The
Super8 core features two register pointers (RP0 and RP1), which allow
mapping the lower and upper half of work registers to separate
places.
</p><p>
Usually, one refers to work registers as R0..R15 in assembly
statements. It is however also posssible to regard work registers as
an efficient way to address a block of memory addresses in internal
RAM.
</p><p>
The<tt> ASSUME</tt> statement is used to inform AS about the current
value of RP. AS is then capable to automatically decide whether an
address in internal RAM may be reached with a 4-bit or 8-bit address.
This may be used to assign symbolic names to work registers:
</p><pre>
op1     equ     040h
op2     equ     041h

        srp     #040h
        assume  rp:040h

        ld      op1,op2         ; equal to ld r0,r1

</pre>
Note that though the Super8 does not have an RP register (only RP0
and RP1), RP as argument to<tt> ASSUME</tt> is still allowed - it
will set the assumed values of RP0 and RP1 to value resp. value+8, as
the<tt> SRP</tt> machine instruction does on the Super 8 core.
<p>
Opposed to the original Zilog assembler, it is not necessary to
explicitly specify 'work register addressing' with a prefixed
exclamation mark. AS however also understands this syntax - a
prefixed exclamation mark enforces 4-bit addressing, even when the
address does not lie within the 16-address block defined by RP (AS
will issue a warning in that case). Vice versa, a prefixed &gt;
character enforces 8-bit addressing even when the address is within
the current 16-address block.
</p><p>
The eZ8 takes this 'game' to the next level: the internal address
space now has 12 instead of 8 bits. To assure compatibility with the
old Z8 core, Zilog placed the additional 4 bits in the<em> lower</em>
four bits of RP. For instance, an RP value of 12h defines an address
window from 210h to 21fh.
</p><p>
At the same time, the lower four bits of RP define a window of 256
addresses that can be addressed with 8-bit addresses. The mechanism
to automatically select between 8- and 12-bit addresses is analogous.
'Long' 12-bit addresses may be enforced by prefixing two &gt;
characters.
</p><p>

</p><h2><a name="sect_4_30_">4.30. Z8000</a></h2>
<a name="ref_Z8000Spec"></a>
<p>
A Z8001/8003 may be operated in one of two modes:
</p><p>
</p><ul>
<li> <em> Non-Segmented</em>: The memory address space is limited to 64
    KBytes, and all addresses are 'simple' linear 16 bit addresses.
    Address registers are single 16 bit registers (Rn), and absolute
    addresses within instructions are one byte long.</li>
<li> <em> Segmented</em>: Memory is structured into up to 128 segments of
    up to 64 KBytes size. Addresses consist of a 7 bit segment number
    and a 16 bit offset. Address registers are register pairs (RRn).
    Absolute addresses in instructions occupy two 16 bit words,
    unless the offset is smaller than 256.</li>
</ul>
<p>
The operation mode (segmented or non-segmented) therefore has an
influence on the generated code and is selected implicitly via the
selected processor type. For instance, if the target is a Z8001 in
non-segmented mode, use Z8002 as target.
</p><p>
However, similar to the 8086, there is no 'real' support for a
segmented memory model in AS. In segmented mode, the segment number
is simply interpreted as the upper seven bits of a virtually linear
address space. Though this is not what Zilog intended, it is the way
the segment number was used on the Z8001 if the system had no MMU.
</p><p>
AS in general implements the Z8000 machine instruction syntax as it
is specified by Zilog in its manuals. However, there are assemblers
that support extensions or variations of the syntax. AS implements a
few of them as well:
</p><p>

</p><h3><a name="sect_4_30_1_">4.30.1. Conditions</a></h3>
<p>
In addition to the conditions defined by Zilog, the following
alternative names are defined:
</p><p>
</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">Alternate</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Zilog</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Meaning</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">ZR<br>
CY<br>
LLE<br>
LGE<br>
LGT<br>
LLT</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Z<br>
C<br>
ULE<br>
UGE<br>
UGT<br>
ULT</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Z = 1<br>
C = 1<br>
(C OR Z) = 1<br>
C = 0<br>
((C = 0) AND (Z = 0)) = 1<br>
C = 1</td>
</tr>
</tbody></table></center>
</center>
<p>

</p><h3><a name="sect_4_30_2_">4.30.2. Conditions</a></h3>
<p>
<tt> SETFLG</tt>,<tt> COMFLG</tt> und<tt> RESFLG</tt> accept the
following alternate names as arguments:
</p><p>
</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">Alternate</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Zilog</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Meaning</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">ZR<br>
CY</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Z<br>
C</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Zero Flag<br>
Carry Flag</td>
</tr>
</tbody></table></center>
</center>
<p>

</p><h3><a name="sect_4_30_3_">4.30.3. Indirect Addressing</a></h3>
<p>
It is valid to write Rn^ instead of @Rn, if the option<tt>
AMDSyntax=1</tt> was given to the<tt> CPU</tt> statement. If an I/O
address is addressed indirectly, this option even allows to write
just Rn.
</p><p>

</p><h3><a name="sect_4_30_4_">4.30.4. Direct versus Immediate Addressing</a></h3>
<p>
The Zilog syntax mandates that immediate addressing has to be done by
prefixing the argument with a hash character. However, if the<tt>
AMDSyntax=1</tt> option was given to the<tt> CPU</tt> statement, the
type of argument (label or constant) decides whether immediate or
direct addressing is to be used. Immediate addressing may be forced
by prefixing the argument with a circumflex, i.e. to load the address
of a label into a register.
</p><p>

</p><h2><a name="sect_4_31_">4.31. TLCS-900(L)</a></h2>
<a name="ref_TLCS900Spec"></a>
<p>
These processors may run in two operating modes: on the one hand, in
minimum mode, which offers almost complete source code compatibility
to the Z80 and TLCS-90, and on the other hand in maximum mode, which
is necessary to make full use of the processor's capabilities. The
main differences between these two modes are:
</p><ul>
<li> width of the registers WA, BC, DE, and HL: 16 or 32 bits;</li>
<li> number of register banks: 8 or 4;</li>
<li> code address space: 64 Kbytes or 16 Mbytes;</li>
<li> length of return addresses: 16 or 32 bits.</li>
</ul>
To allow AS to check against the correct limits, one has to inform
him about the current execution mode via the<tt> MAXMODE</tt>
instruction (see there). The default is the minimum mode.
<p>
From this follows that, depending on the operating mode, the 16-bit
resp. 32-bit versions of the bank registers have to be used for
addressing, i.e. WA, BC, DE and HL for the minimum mode resp. XWA,
XBC, XDE and XHL for the maximum mode. The registers XIX..XIZ and XSP
are<b> always</b> 32 bits wide and therefore always have to to be
used in this form for addressing; in this detail, existing Z80 code
definitely has to be adapted (not including that there is no I/O
space and all I/O registers are memory-mapped...).
</p><p>
Absolute addresses and displacements may be coded in different
lengths. Without an explicit specification, AS will always use the
shortest possible coding. This includes eliminating a zero
displacement, i.e. (XIX+0) becomes (XIX). If a certain length is
needed, it may be forced by appending a suffix (:8, :16, :24) to the
displacmenet resp. the address.
</p><p>
The syntax chosen by Toshiba is a bit unfortunate in the respect of
choosing an single quote (') to reference the previous register bank.
The processor independent parts of AS already use this character to
mark character constants. In an instruction like
</p><pre>
        ld      wa',wa   ,

</pre>
AS will not recognize the comma for parameter separation. This
problem can be circumvented by usage of an inverse single quote (`),
for example
<pre>
        ld      wa`,wa

</pre>
Toshiba delivers an own assembler for the TLCS-900 series (TAS900),
which is different from AS in the following points:
<p>

</p><h4>Symbol Conventions</h4>
<p>
</p><ul>
<li> TAS900 differentiates symbol names only on the first 32 characters.
    In contrast, AS always stores symbol names with the full length
    (up to 255 characters) and uses them all for
    differentiation.</li>
<li> TAS900 allows to write integer constants either in Intel or C
    notation (with a 0 prefix for octal or a 0x prefix for
    hexadecimal constants). By default, AS only supports the Intel
    notation. With the help of the<tt> RELAXED</tt> instruction, one
    also gets the C notation (among other).</li>
<li> AS does not distinguish between upper and lower case. In contrast,
    TAS900 differentiates between upper- and lowercase letters in
    symbol names. One needs to engage the<tt> -u</tt> command line
    option to force AS to do this.</li>
</ul>
<p>

</p><h4>Syntax</h4>
<p>
For many instructions, the syntax checking of AS is less strict than
the checking of TAS900. In some (rare) cases, the syntax is slightly
different. These extensions and changes are on the one hand for the
sake of a better portability of existing Z80 codes, on the other hand
they provide a simplification and better orthogonality of the
assembly syntax:
</p><ul>
<li> In the case of<tt> LDA, JP</tt>, and<tt> CALL</tt>, TAS requires
    that address expressions like<tt> XIX+5</tt> must not be placed
    in parentheses, as it is usually the case. For the sake of better
    orthogonality, AS requires parentheses for<tt> LDA</tt>. They are
    optional if<tt> JP</tt> resp.<tt> CALL</tt> are used with a
    simple, absolute address.</li>
<li> In the case of<tt> JP, CALL, JR</tt>, and<tt> SCC</tt>, AS leaves
    the choice to the programmer whether to explicitly write out the
    default condition<tt> T</tt> (= true) as first parameter or not.
    TAS900 in contrast only allows to use the default condition
    implicitly (e.g.<tt> jp (xix+5)</tt> instead of<tt> jp
    t,(xix+5))</tt>.</li>
<li> For the<tt> EX</tt> instruction, AS allows operand combinations
    which are not listed in <a href="#cite_Tosh900">[143]</a> but can
    be reduced to a standard combination by swapping the operands.
    Combinations like<tt> EX f`,f</tt> or<tt> EX wa,(xhl)</tt> become
    possible. In contrast, TAS900 limits to the 'pure'
    combinations.</li>
<li> AS allows to omit an increment resp. decrement of 1 when using the
    instructions<tt> INC</tt> and<tt> DEC</tt>. TAS900 instead forces
    the programmer to explicit usage of '1'.</li>
<li> The similar is true for the shift instructions: If the operand is a
    register, TAS900 requires that even a shift count of 1 has to be
    written explicitly; however, when the operand is in memory, the
    hardware limits the shift count to 1 which must not be written in
    this case. With AS, a shift count of 1 is always optional and
    valid for all types of operands.</li>
</ul>
<p>

</p><h4>Macro Processor</h4>
<p>
The macro processor of TAS900 is an external program that operates
like a preprocessor. It consists of two components: The first one is
a C-like preprocessor, and the second one is a special macro language
(MPL) that reminds of high level languages. The macro processor of AS
instead is oriented towards ''classic'' macro assemblers like MASM or
M80 (both programs from Microsoft). It is a fixed component of AS.
</p><p>

</p><h4>Output Format</h4>
<p>
TAS900 generates relocatable code that allows to link separately
compiled programs to a single application. AS instead generates
absolute machine code that is not linkable. There are currently no
plans to extend AS in this respect.
</p><p>

</p><h4>Pseudo Instructions</h4>
<p>
Due to the missing linker, AS lacks a couple of pseudo instructions
needed for relocatable code TAS900 implements. The following
instructions are available with equal meaning:
</p><blockquote>
    <tt> EQU, DB, DW, ORG, ALIGN, END, TITLE, SAVE, RESTORE</tt>
</blockquote>
The latter two have an extended functionality for AS. Some TAS900
pseudo instructions can be replaced with equivalent AS instructions
(see table <a href="#ref_TabTAS900">4.6</a>).
<p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">TAS900</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">AS</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning/function</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DL</tt> &lt;Data&gt;</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DD</tt> &lt;Data&gt;</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">define longword constants</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DSB</tt> &lt;number&gt;</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DB</tt> &lt;number&gt;<tt> DUP</tt> (?)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">reserve bytes of memory</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DSW</tt> &lt;number&gt;</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DW</tt> &lt;number&gt;<tt> DUP</tt> (?)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">reserve words of memory</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DSD</tt> &lt;number&gt;</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> DD</tt> &lt;number&gt;<tt> DUP</tt> (?)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">reserve longwords of memory</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $MIN[IMUM]</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> MAXMODE OFF</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">following code runs<br>
in minimum mode</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $MAX[IMUM]</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> MAXMODE ON</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">following code runs<br>
in maximum mode</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $SYS[TEM]</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SUPMODE ON</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">following code runs<br>
in system mode</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $NOR[MAL]</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SUPMODE OFF</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">following code runs<br>
in user mode</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $NOLIST</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LISTING OFF</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">turn off assembly listing</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $LIST</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LISTING ON</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">turn on assembly listing</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> $EJECT</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> NEWPAGE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">start new page in listing</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.6: equivalent instructions TAS900&lt;-&gt;AS<a name="ref_TabTAS900"></a>
</center><p>

Toshiba manufactures two versions of the processor core, with the L
version being an ''economy version''. AS will make the following
differences between TLCS-900 and TLCS-900L:
</p><ul>
<li> The instructions<tt> MAX</tt> and<tt> NORMAL</tt> are not allowed
    for the L version; the<tt> MIN</tt> instruction is disabled for
    the full version.</li>
<li> The L version does not know the normal stack pointer XNSP/NSP, but
    instead has the interrupt nesting register INTNEST.</li>
</ul>
The instructions<tt> SUPMODE</tt> and<tt> MAXMODE</tt> are not
influenced, just as their initial setting<tt> OFF</tt>. The
programmer has to take care of the fact that the L version starts in
maximum mode and does not have a normal mode. However, AS shows a bit
of mercy against the L variant by suppressing warnings for privileged
instructions.
<p>

</p><h2><a name="sect_4_32_">4.32. TLCS-90</a></h2>
<p>
Maybe some people might ask themselves if I mixed up the order a
little bit, as Toshiba first released the TLCS-90 as an extended Z80
and afterwards the 16-bit version TLCS-900. Well, I discovered the
'90 via the '900 (thank you Oliver!). The two families are quite
similar, not only regarding their syntax but also in their
architecture. The hints for the '90 are therefore a subset of of the
chapter for the '900: As the '90 only allows shifts, increments, and
decrements by one, the count need not and must not be written as the
first argument. Once again, Toshiba wants to omit parentheses for
memory operands of<tt> LDA, JP, and CALL</tt>, and once again AS
requires them for the sake of orthogonality (the exact reason is of
course that this way, I saved an extra in the address parser, but one
does not say such a thing aloud).
</p><p>
Principally, the TLCS-90 series already has an address space of 1
Mbyte which is however only accessible as data space via the index
registers. AS therefore does not regard the bank registers and limits
the address space to 64 Kbytes. This should not limit too much as
this area above is anyway only reachable via indirect addressing.
</p><p>

</p><h2><a name="sect_4_33_">4.33. TLCS-870</a></h2>
<p>
Once again Toshiba...a company quite productive at the moment!
Especially this branch of the family (all Toshiba microcontrollers
are quite similar in their binary coding and programming model) seems
to be targeted towards the 8051 market: the method of separating the
bit position from the address expression with a dot had its root in
the 8051. However, it creates now exactly the sort of problems I
anticipated when working on the 8051 part: On the one hand, the dot
is a legal part of symbol names, but on the other hand, it is part of
the address syntax. This means that AS has to separate address and
bit position and must process them independently. Currently, I solved
this conflict by seeking the dot starting at the<b> end</b> of the
expression. This way, the last dot is regarded as the separator, and
further dots stay parts of the address. I continue to urge everyone
to omit dots in symbol names, they will lead to ambiguities:
</p><pre>
        LD      CF,A.7  ; accumulator bit 7 to carry
        LD      C,A.7   ; constant 'A.7' to accumulator

</pre>
<p>

</p><h2><a name="sect_4_34_">4.34. TLCS-47</a></h2>
<p>
This family of 4-bit microcontrollers should mark the low end of what
is supportable by AS. Apart from the<tt> ASSUME</tt> instruction for
the data bank register (see there), there is only one thing that is
worth mentioning: In the data and I/O segment, nibbles are reserved
instead of byte (it's a 4-bitter...). The situation is similar to the
bit data segment of the 8051, where a<tt> DB</tt> reserves a single
bit, with the difference that we are dealing with nibbles.
</p><p>
Toshiba defined an ''extended instruction set'' for this processor
family to facilitate the work with their limited instruction set. In
the case of AS, it is defined in the include file<tt>
STDDEF47.INC</tt>. However, some instructions that could not be
realized as macros are ''builtins'' and are therefore also available
without the include file:
</p><ul>
<li> the<tt> B</tt> instruction that automatically chooses the optimal
    version of the jump instruction (<tt>BSS; BS</tt>, or<tt>
    BSL</tt>);</li>
<li> <tt>LD</tt> in the variant of<tt> HL</tt> with an immediate
    operand;</li>
<li> <tt>ROLC</tt> and<tt> RORC</tt> with a shift amplitude higher than
    one.</li>
</ul>
<p>

</p><h2><a name="sect_4_35_">4.35. TLCS-9000</a></h2>
<p>
This was the first time that I implemented a processor for AS which
was not yet available at that point of time. And unfortunately, I
received back then information that Toshiba had decided no to maket
this processor at all. This of course had the result that the
TLCS-9000 part of the assembler
</p><ol>
<li>was a ''paper design'', i.e. there was so far no chance to test it on
    real hardware and</li>
<li>the documentation for the '9000 I could get hold of <a href="#cite_Tosh9000">[146]</a> was preliminary and was unclear
    in a couple of detail issues.</li>
</ol>
So i effect, this target went into 'dormant mode'...
<p>
...cut, 20 years have passed: all of a sudden, people are contacting
me and tell me that Toshiba actually did sell TLCS-9000 chips to
customers, and they ask for documentation to do reverse engineering.
Maybe this will shed some light on the remaining unclarities.
Nevertheless, errors in this code generator are quite possible (and
will of course be fixed!). At least the few examples listed in <a href="#cite_Tosh9000">[146]</a> are assembled correctly.
</p><p>
Displacements included in machine instructions may only have a
certain maximum length (e.g. 9 or 13 bits). In case the displacement
is longer, a prefix containing the 'upper bits' must be prepended to
the instruction. AS will automatically insert such prefixes when
necessary, however it is also possible to force usage of a prefix by
adding a leading '&gt;'. An example for this:
</p><p>
</p><pre>
  ld:g.b  (0h),0       ; no prefix
  ld:g.b  (400000h),0  ; prefix added automatically
  ld:g.b  (&gt;0h),0      ; forced prefix

</pre>
<p>

</p><h2><a name="sect_4_36_">4.36. TC9331</a></h2>
<p>
Toshiba supplied a (DOS-based) assembler for this processor which was
named ASM31T. This assembler supports a number of syntax elements
which could not be mapped on the capabilities of AS without risking
incompatibilities for existing source files for other targets. The
following issues might require changes on programs written for
ASM31T:
</p><p>
</p><ul>
<li> ASM31T supports C-like comments (/* ... */) which may also span
    multiple lines. Such comments are not supported by AS and have to
    be replaced by comments beginning with a semicolon.</li>
<li> Similar to ASM31T, AS supports comments with round parentheses ((
    ... )), however only within a single command argument. Should
    such a comment contain a comma, this comma will be treated like
    an argument separator and the comment will not be skipped when
    parsing the arguments.</li>
<li> ASM31T allows symbol and label names containing a dash. AS does not
    allow this, because the dash is regarded to be the subtraction
    operator. It would be unclear whether an expression like
    end-start represents a single symbol or the difference of two
    symbols.</li>
<li> ASM31T requires an<tt> END</tt> statement as the last statement of
    the program; this is optional for AS.</li>
</ul>
<p>
Furthermore, AS currently lacks the capabilities to detect
conflicting uses of functional units in a machine instructions.
Toshiba's documentation is a bit difficult to understand in this
respect...
</p><p>

</p><h2><a name="sect_4_37_">4.37. 29xxx</a></h2>
<p>
As it was already described in the discussion of the<tt> ASSUME</tt>
instruction, AS can use the information about the current setting of
the RBP register to detect accesses to privileged registers in user
mode. This ability is of course limited to direct accesses (i.e.
without using the registers IPA...IPC), and there is one more
pitfall: as local registers (registers with a number &gt;127) are
addressed relative to the stack pointer, but the bits in RBP always
refer to absolute numbers, the check is NOT done for local registers.
An extension would require AS to know always the absolute value of
SP, which would at least fail for recursive subroutines...
</p><p>

</p><h2><a name="sect_4_38_">4.38. 80C16x</a></h2>
<p>
As it was already explained in the discussion of the<tt> ASSUME</tt>
instruction, AS tries to hide the fact that the processor has more
physical than logical RAM as far as possible. Please keep in mind
that the DPP registers are valid only for data accesses and only have
an influence on absolute addressing, neither on indirect nor on
indexed addresses. AS cannot know which value the computed address
may take at runtime... The paging unit unfortunately does not operate
for code accesses so one has to work with explicit long or short<tt>
CALL</tt>s,<tt> JMP</tt>s, or<tt> RET</tt>s. At least for the
''universal'' instructions<tt> CALL</tt> and<tt> JMP</tt>, AS will
automatically use the shortest variant, but at least for the RET one
should know where the call came from.<tt> JMPS</tt> and<tt>
CALLS</tt> principally require to write segment and address
separately, but AS is written in a way that it can split an address
on its own, e.g. one can write
</p><pre>
        jmps    12345h

</pre>
instead of
<pre>
        jmps    1,2345h

</pre>
Unfortunately, not all details of the chip's internal instruction
pipeline are hidden: if CP (register bank address), SP (stack), or
one of the paging registers are modified, their value is not
available for the instruction immediately following. AS tries to
detect such situations and will issue a warning in such cases. Once
again, this mechanism only works for direct accesses.
<p>
Bits defined with the<tt> BIT</tt> instruction are internally stored
as a 12-bit word, containing the address in bits 4..11 and the bit
position in the four LSBs. This order allows to refer the next resp.
previous bit by incrementing or decrementing the address. This will
however not work for explicit bit specifications when a word boundary
is crossed. For example, the following expression will result in a
range check error:
</p><pre>
        bclr    r5.15+1

</pre>
We need a<tt> BIT</tt> in this situation:
<pre>
msb     bit     r5.15
        .
        .
        bclr    msb+1

</pre>
The SFR area was doubled for the 80C167/165/163: bit 12 flags that a
bit lies in the second part. Siemens unfortunately did not foresee
that 256 SFRs (128 of them bit addressable) would not suffice for
successors of the 80C166. As a result, it would be impossible to
reach the second SFR area from F000H..F1DFH with short addresses or
bit instructions if the developers had not included a toggle
instruction:
<pre>
        EXTR    #n

</pre>
This instruction has the effect that for the next<tt> n</tt>
instructions (0&lt;n&lt;5), it is possible to address the alternate
SFR space instead of the normal one. AS does not only generate the
appropriate machine code when it encounters this instruction. It also
sets an internal flag that will only allow accesses to the alternate
SFR space for the next<tt> n</tt> instructions. Of course, they may
not contain jumps... Of course, it is always possible to define bits
from either area at any place, and it is always possible to reach all
registers with absolute addresses. In contrast, short and bit
addressing only works for one area at a time, attempts contradicting
to this will result in an error message.
<p>
The situation is similar for prefix instructions and absolute resp.
indirect addressing: as the prefix argument and the address
expression cannot always be evaluated at assembly time, chances for
checking are limited and AS will limit itself to warnings...in
detail, the situation is as follows:
</p><ul>
<li> fixed specification of a 64K bank with<tt> EXTS</tt> or<tt>
    EXTSR</tt>: the address expression directly contains the lower 16
    bits of the target address. If the prefix and the following
    instruction have a constant operand, AS will check if the the
    prefix argument and bits 16..23 of the target address are
    equal.</li>
<li> fixed specification of a 16K page with<tt> EXTP</tt> or<tt>
    EXTPR</tt>: the address expression directly contains the lower 14
    bits of the target address. Bits 14 and 15 are fixed to 0, as the
    processor ignores them in this mode. If the prefix and the
    following instruction have a constant operand, AS will check if
    the the prefix argument and bits 14..23 of the target address are
    equal.</li>
</ul>
An example to clarify things a bit (the DPP registers have their
reset values):
<pre>
        extp    #7,#1      ; range from 112K..128K
        mov     r0,1cdefh  ; results in address 0defh in code
        mov     r0,1cdefh  ; --&gt;warning
        exts    #1,#1      ; range from 64K..128K
        mov     r0,1cdefh  ; results in address 0cdefh in code
        mov     r0,1cdefh  ; --&gt;warning

</pre>
<p>

</p><h2><a name="sect_4_39_">4.39. PIC16C5x/16C8x</a></h2>
<p>
Similar to the MCS-48 family, the PICs split their program memory
into several banks because the opcode does not offer enough space for
a complete address. AS uses the same automatism for the
instructions<tt> CALL</tt> and<tt> GOTO</tt>, i.e. the PA bits in the
status word are set according to the start and target address.
However, this procedure is far more problematic compared to the 48's:
</p><ol>
<li>The instructions are not any more one word long (up to three words).
    Therefore, it is not guaranteed that they can be skipped with a
    conditional branch.</li>
<li>It is possible that the program counter crosses a page boundary while
    the program sequence is executed. The setting of PA bits AS
    assumes may be different from reality.</li>
</ol>
The instructions that operate on register W and another register
normally require a second parameter that specifies whether the result
shall be stored in W or the register. Under AS, it is valid to omit
the second parameter. The assumed target then depends upon the
operation's type: For unary operations, the result is by default
stored back into the register. These instructions are:
<blockquote>
    <tt> COMF, DECF, DECFSZ, INCF, INCFSZ, RLF, RRF, and SWAPF</tt>
</blockquote>
The other operations by default regard W as an accumulator:
<blockquote>
    <tt> ADDWF, ANDWF, IORWF, MOVF, SUBWF, and XORWF</tt>
</blockquote>
The syntax defined by Microchip to write literals is quite obscure
and reminds of the syntax used on IBM 360/370 systems (greetings from
the stone-age...). To avoid introducing another branch into the
parser, with AS one has to write constants in the Motorola syntax
(optionally Intel or C in<tt> RELAXED</tt> mode).
<p>

</p><h2><a name="sect_4_40_">4.40. PIC 17C4x</a></h2>
<p>
With two exceptions, the same hints are valid as for its two smaller
brothers: the corresponding include file only contains register
definitions, and the problems concerning jump instructions are much
smaller. The only exception is the<tt> LCALL</tt> instruction, which
allows a jump with a 16-bit address. It is translated with the
following ''macro'':
</p><pre>
        MOVLW   &lt;addr15..8&gt;
        MOWF    3
        LCALL   &lt;addr0..7&gt;

</pre>
<p>

</p><h2><a name="sect_4_41_">4.41. SX20/28</a></h2>
<p>
The limited length of the instruction word does not permit specifying
a complete program memory address (11 bits) or data memory address (8
bits). The CPU core augments the truncated address from the
instruction word with the PA bits from the STATUS registers,
respectively with the upper bits of the FSR register. It is possible
to inform the assembler via<tt> ASSUME</tt> instructions about the
contents of these two registers. In case that addresses are used that
are inaccessible with th current values, a warning is issued.
</p><p>

</p><h2><a name="sect_4_42_">4.42. ST6</a></h2>
<p>
These processors have the ability to map their code ROM pagewise into
the data area. I am not keen on repeating the whole discussion of
the<tt> ASSUME</tt> instruction at this place, so I refer to the
corresponding section (<a href="#ref_ST6Assume">3.2.16</a>) for an
explanation how to read constants out of the code ROM without too
much headache.
</p><p>
Some builtin ''macros'' show up when one analyzes the instruction set
a bit more in detail. The instructions I found are listed in table <a href="#ref_TabHid62">4.7</a> (there are probably even more...):
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">instruction</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">in reality</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> CLR A</tt><br>
<tt> SLA A</tt><br>
<tt> CLR addr</tt><br>
<tt> NOP</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SUB A,A</tt><br>
<tt> ADD A,A</tt><br>
<tt> LDI addr,0</tt><br>
<tt> JRZ PC+1</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.7: Hidden Macros in the ST62's Instruction Set<a name="ref_TabHid62"></a>
</center><p>

Especially the last case is a bit astonishing...unfortunately, some
instructions are really missing. For example, there is an<tt>
AND</tt> instruction but no<tt> OR</tt>...not to speak of an<tt>
XOR</tt>. For this reason, the include file<tt> STDDEF62.INC</tt>
contains also some helping macros (additionally to register
definitions).
</p><p>
The original assembler AST6 delivered by SGS-Thomson partially uses
different pseudo instructions than AS. Apart from the fact that AS
does not mark pseudo instructions with a leading dot, the following
instructions are identical:
</p><pre>
  ASCII, ASCIZ, BLOCK, BYTE, END, ENDM, EQU, ERROR, MACRO,
  ORG, TITLE, WARNING

</pre>
Table <a href="#ref_TabAST6">4.8</a> shows the instructions which
have AS counterparts with similar function.
<p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">AST6</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">AS</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning/function</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .DISPLAY</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> MESSAGE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">output message</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .EJECT</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> NEWPAGE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">new page in assembly listing</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .ELSE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ELSEIF</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">conditional assembly</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .ENDC</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> ENDIF</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">conditional assembly</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .IFC</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> IF...</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">conditional assembly</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .INPUT</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> INCLUDE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">insert include file</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .LIST</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> LISTING, MACEXP_DFT</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">settings for listing</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .PL</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> PAGE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">page length of listing</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .ROMSIZE</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> CPU</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">set target processor</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .VERS</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> VERSION</tt> (symbol)</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">query version</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> .SET</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> EVAL</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">redefine variables</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 4.8: Equivalent Instructions AST6&lt;-&gt;AS<a name="ref_TabAST6"></a>
</center><p>

</p><p>

</p><h2><a name="sect_4_43_">4.43. ST7</a></h2>
<p>
In <a href="#cite_ST7Man">[110]</a>, the<tt> .w</tt> postfix to
signify 16-bit addresses is only defined for memory indirect
operands. It is used to mark that a 16-bit address is stored at a
zero page address. AS additionally allows this postfix for absolute
addresses or displacements of indirect address expressions to force
16-bit displacements in spite of an 8-bit value (0..255).
</p><p>

</p><h2><a name="sect_4_44_">4.44. ST9</a></h2>
<p>
The ST9's bit addressing capabilities are quite limited: except for
the<tt> BTSET</tt> instruction, only bits within the current set of
working registers are accessible. A bit address is therefore of the
following style:
</p><pre>
        rn.[!]b   ,

</pre>
whereby<tt> !</tt> means an optional complement of a source operand.
If a bit is defined symbolically, the bit's register number is stored
in bits 7..4, the bit's position is stored in bits 3..1 and the
optional complement is kept in bit 0. AS distinguishes explicit and
symbolic bit addresses by the missing dot. A bit's symbolic name
therefore must not contain a dot, thought it would be legal in
respect to the general symbol name conventions. It is also valid to
invert a symbolically referred bit:
<pre>
bit2    bit     r5.3
        .
        .
        bld     r0.0,!bit2

</pre>
This opportunity also allows to undo an inversion that was done at
definition of the symbol.
<p>
The include file<tt> REGST9.INC</tt> defines the symbolic names of
all on-chip registers and their associated bits. Keep however in mind
that the bit definitions only work after previously setting the
working register bank to the address of these peripheral registers!
</p><p>
In contrast to the definition file delivered with the AST9 assembler
from SGS-Thomson, the names of peripheral register names are only
defined as general registers (<tt>R...</tt>), not also as working
registers (<tt>r...</tt>). The reason for this is that AS does not
support register aliases; a tribute to assembly speed.
</p><p>

</p><h2><a name="sect_4_45_">4.45. 6804</a></h2>
<p>
To be honest: I only implemented this processor in AS to quarrel
about SGS-Thomson's peculiar behaviour. When I first read the 6804's
data book, the ''incomplete'' instruction set and the built-in macros
immediately reminded me of the ST62 series manufactured by the same
company. A more thorough comparison of the opcodes gave surprising
insights: A 6804 opcode can be generated by taking the equivalent
ST62 opcode and mirroring all the bits! So Thomson obviously did a
bit of processor core recycling...which would be all right if they
would not try to hide this: different peripherals, motorola instead
of Zilog-style syntax, and the awful detail of<b> not</b> mirroring
operand fields in the opcode (e.g. bit fields containing
displacements). The last item is also the reason that finally
convinced me to support the 6804 in AS. I personally can only guess
which department at Thomson did the copy...
</p><p>
In contrast to its ST62 counterpart, the include file for the 6804
does not contain instruction macros that help a bit to deal with the
limited machine instruction set. This is left as an exercise to the
reader!
</p><p>

</p><h2><a name="sect_4_46_">4.46. TMS3201x</a></h2>
<p>
It seems that every semiconductor's ambition is to invent an own
notation for hexadecimal numbers. Texas Instrument took an especially
eccentric approach for these processors: a &gt; sign as prefix! The
support of such a format in AS would have lead to extreme conflicts
with AS's compare and shift operators. I therefore decided to use the
Intel notation, which is what TI also uses for the 340x0 series and
the 3201x's successors...
</p><p>
The instruction word of these processors unfortunately does not have
enough bits to store all 8 bits for direct addressing. This is why
the data address space is split into two banks of 128 words. AS
principally regards the data address space as a linear segment of 256
words and automatically clears bit 7 on direct accesses (an exception
is the<tt> SST</tt> instruction that can only write to the upper
bank). The programmer has to take care that the bank flag always has
the correct value!
</p><p>
Another hint that is well hidden in the data book: The<tt> SUBC</tt>
instruction internally needs more than one clock for completion, but
the control unit already continues to execute the next instruction.
An instruction following<tt> SUBC</tt> therefore may not access the
accumulator. AS does not check for such conditions!
</p><p>

</p><h2><a name="sect_4_47_">4.47. TMS320C2x</a></h2>
<p>
As I did not write this code generator myself (that does not lower
its quality by any standard), I can only roughly line out why there
are some instructions that force a prefixed label to be untyped, i.e.
not assigned to any specific address space: The 2x series of TMS
signal processors has a code and a data segment which are both 64
Kbytes large. Depending on external circuitry, code and data space
may overlap, e.g. to allow storage of constants in the code area and
access them as data. Data storage in the code segment may be
necessary because older versions of AS assume that the data segment
only consists of RAM that cannot have a defined power-on state in a
single board system. They therefore reject storage of contents in
other segments than<tt> CODE</tt>. Without the feature of making
symbols untyped, AS would punish every access to a constant in code
space with a warning (''symbol out of wrong segment''). To say it in
detail, the following instructions make labels untyped:
</p><blockquote>
    <tt> BSS, STRING, RSTRING, BYTE, WORD , LONG<br>
    FLOAT, DOUBLE, EFLOAT, BFLOAT and TFLOAT</tt>
</blockquote>
If one needs a typed label in front of one of these instructions, one
can work around this by placing the label in a separate line just
before the pseudo instruction itself. On the other hand, it is
possible to place an untyped label in front of another pseudo
instruction by defining the label with<tt> EQU</tt>, e.g.
<pre>
&lt;name&gt;  EQU     $        .

</pre>
<p>

</p><h2><a name="sect_4_48_">4.48. TMS320C3x/C4x</a></h2>
<p>
The syntax detail that created the biggest amount of headache for me
while implementing this processor family is the splitting of parallel
instructions into two separate source code lines. Fortunately, both
instructions of such a construct are also valid single instructions.
AS therefore first generates the code for the first instruction and
replaces it by the parallel machine code when a parallel construct is
encountered in the second line. This operation can be noticed in the
assembly listing by the machine code address that does not advance
and the double dot replaced with a<tt> R</tt>.
</p><p>
Compared to the TI assembler, AS is not as flexible regarding the
position of the double lines that signify a parallel operation
(<tt>||</tt>): One either has to place them like a label (starting in
the first column) or to prepend them to the second mnemonic. The line
parser of AS will run into trouble if you do something else...
</p><p>

</p><h2><a name="sect_4_49_">4.49. TMS9900</a></h2>
<p>
Similar to most older TI microprocessor families, TI used an own
format for hexadecimal and binary constants. AS instead favours the
Intel syntax which is also common for newer processor designs from
TI.
</p><p>
The TI syntax for registers allows to use a simple integer number
between 0 and 15 instead of a real name (<tt>Rx</tt> or<tt>
WRx</tt>). This has two consequences:
</p><ul>
<li> <tt>R0...R15</tt> resp.<tt> WR0..WR15</tt> are simple predefined
    integer symbols with values from 0 to 15, and the definition of
    register aliases is a simple matter of<tt> EQU</tt>.</li>
<li> In contrast to several other processors, I cannot offer the
    additional AS feature that allows to omit the character sigifying
    absolute addressing (a @ sign in this case). As a missing
    character would mean register numbers (from 0 to 15) in this
    case, it was not possible to offer the optional omission.</li>
</ul>
Furthermore, TI sometimes uses<tt> Rx</tt> to name registers and<tt>
WRx</tt> at other places...currently both variants are recognized by
AS.
<p>

</p><h2><a name="sect_4_50_">4.50. TMS70Cxx</a></h2>
<p>
This processor family belongs to the older families developed by TI
and therefore TI's assemblers use their proprietary syntax for
hexadecimal resp. binary constants (a prefixed &lt; resp.<tt> ?</tt>
character). As this format could not be realized for AS, the Intel
syntax is used by default. This is the format TI to which also
switched over when introducing the successors, of this family, the
370 series of microcontrollers. Upon a closer inspection of both's
machine instruction set, one discovers that about 80% of all
instruction are binary upward compatible, and that also the assembly
syntax is almost identical - but unfortunately only almost. TI also
took the chance to make the syntax more orthogonal and simple. I
tried to introduce the majority of these changes also into the 7000's
instruction set:
</p><ul>
<li> It is valid to use the more common<tt> #</tt> sign for immediate
    addressing instead of the percent sign.</li>
<li> If a port address (<tt>P...</tt>) is used as source or destination
    in a<tt> AND, BTJO, BTJZ, MOV, OR</tt>, or<tt> XOR</tt>
    instruction, it is not necessary to use the mnemonic variant with
    an appended<tt> P</tt> - the general form is sufficient.</li>
<li> The prefixed<tt> @</tt> sign for absolute or B-relative addressing
    may be omitted.</li>
<li> Instead of<tt> CMPA, CMP</tt> with<tt> A</tt> as target may be
    written.</li>
<li> Instead of<tt> LDA</tt> resp.<tt> STA</tt>, one can simply use
    the<tt> MOV</tt> instruction with<tt> A</tt> as source resp.
    destination.</li>
<li> One can write<tt> MOVW</tt> instead of<tt> MOVD</tt>.</li>
<li> It is valid to abbreviate<tt> RETS</tt> resp.<tt> RETI</tt> as<tt>
    RTS</tt> resp.<tt> RTI</tt>.</li>
<li> <tt>TSTA</tt> resp.<tt> TSTB</tt> may be written as<tt> TST A</tt>
    resp.<tt> TST B</tt>.</li>
<li> <tt>XCHB B</tt> is an alias for<tt> TSTB</tt>.</li>
</ul>
An important note: these variants are only allowed for the TMS70Cxx -
the corresponding 7000 variants are not allowed for the 370 series!
<p>

</p><h2><a name="sect_4_51_">4.51. TMS370xxx</a></h2>
<p>
Though these processors do not have specialized instructions for bit
manipulation, the assembler creates (with the help of the<tt>
DBIT</tt> instruction - see there) the illusion as if single bits
were addressable. To achieve this, the<tt> DBIT</tt> instructions
stores an address along with a bit position into an integer symbol
which may then be used as an argument to the pseudo instructions<tt>
SBIT0, SBIT1, CMPBIT, JBIT0</tt>, and<tt> JBIT1</tt>. These are
translated into the instructions<tt> OR, AND, XOR, BTJZ</tt>, and<tt>
BTJO</tt> with an appropriate bit mask.
</p><p>
There is nothing magic about these bit symbols, they are simple
integer values that contain the address in their lower and the bit
position in their upper half. One could construct bit symbols without
the<tt> DBIT</tt> instruction, like this:
</p><pre>
defbit  macro   name,bit,addr
name    equ     addr+(bit&lt;&lt;16)
        endm

</pre>
but this technique would not lead to the<tt> EQU</tt>-style syntax
defined by TI (the symbol to be defined replaces the label field in a
line).<b> CAUTION!</b> Though<tt> DBIT</tt> allows an arbitrary
address, the pseudo instructions can only operate with addresses
either in the range from 0..255 or 1000h..10ffh. The processor does
not have an absolute addressing mode for other memory ranges...
<p>

</p><h2><a name="sect_4_52_">4.52. MSP430(X)</a></h2>
<a name="ref_MSPSpec"></a>
<p>
The MSP was designed to be a RISC processor with a minimal power
consumption. The set of machine instructions was therefore reduced to
the absolute minimum (RISC processors do not have a microcode ROM so
every additional instruction has to be implemented with additional
silicon that increases power consumption). A number of instructions
that are hardwired for other processors are therefore emulated with
other instructions. Older versions of AS implemented these
instructions via macros in the file<tt> REGMSP.INC</tt>. If one did
not include this file, you got error messages for more than half of
the instructions defined by TI. This has been changed in recent
versions: as part of adding the 430X instruction set, implementation
of these instructions was moved into the assmebler's core.<tt>
REGMSP.INC</tt> now only contains addresses of I/O registers. If you
need the old macros for some reason, they have been moved to the
file<tt> EMULMSP.INC</tt>.
</p><p>
Instruction emulation also covers some special cases not handled by
the original TI assembler. For instance,
</p><pre>
    rlc  @r6+

</pre>
is automatically assembled as
<pre>
    addc @r6+,-2(r6)

</pre>
<p>

</p><h2><a name="sect_4_53_">4.53. TMS1000</a></h2>
<p>
At last, world's first microcontroller finally also supported in AS -
it took long to fill this gap, but now it is done. This target has
some pitfalls that will be discussed shortly in this section.
</p><p>
First, the instruction set of these controllers is partially defined
via the ROM mask, i.e. the function of some opcodes may be freely
defined to some degree. AS only knows the instructions and codings
that are described as default codings in <a href="#cite_TMS1000PGMRef">[140]</a>. If you have a special
application with an instruction set deviating from this, you may
define and modify instructions via macros and the<tt> DB</tt>
instruction.
</p><p>
Furthermore, keep in mind that branches and subroutine calls only
contain the lower 6 bits of the target address. The upper 4 resp. 5
bits are fetched from page and chapter registers tha thave to be set
beforehand. AS cannot check whether these registers have been set
correctly by the programmer! At least for the cas of staying in the
same chapter, there are the assmebler pseudo instructions<tt>
CALLL</tt> resp.<tt> BL</tt> that combine an<tt> LDP</tt> and<tt>
CALL/BR</tt> instruction. Regarding the limited amount of program
memory, this is a convenient yet inefficient variant.
</p><p>

</p><h2><a name="sect_4_54_">4.54. COP8 &amp; SC/MP</a></h2>
<a name="ref_COP8Spec"></a>
<p>
National unfortunately also decided to use the syntax well known from
IBM mainframes (and much hated by me..) to write non-decimal integer
constants. Just like with other processors, this does not work with
AS's parser. ASMCOP however fortunately also seems to allow the C
syntax, which is why this became the default for the COP series and
the SC/MP...
</p><p>

</p><h2><a name="sect_4_55_">4.55. SC144xxx</a></h2>
<a name="ref_SC144xxspec"></a>
<p>
Originally, National offered a relatively simple assembler for this
series of DECT controllers. An much more powerful assembler has been
announced by IAR, but it is not available up to now. However, since
the development tools made by IAR are as much target-independent as
possible, one can roughly estimate the pseudo instructions it will
support by looking at other available target platforms. With this in
mind, the (few) SC144xx-specific instructions<tt> DC, DC8, DW16, DS,
DS8, DS16, DW</tt> were designed. Of course, I didn't want to
reinvent the wheel for pseudo instructions whose functionality is
already part of the AS core. Therefore, here is a little table with
equivalences. The statements<tt> ALIGN, END, ENDM, EXITM, MACRO, ORG,
RADIX, SET,</tt> and<tt> REPT</tt> both exist for the IAR assembler
and AS and have same functionality. Changes are needed for the
following instructions:
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">IAR</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">AS</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Funktion</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> #include</tt><br>
<tt> #define</tt><br>
<tt> #elif, ELIF, ELSEIF</tt><br>
<br>
<tt> #else, ELSE</tt><br>
<br>
<tt> #endif, ENDIF</tt><br>
<tt> #error</tt><br>
<tt> #if, IF</tt><br>
<tt> #ifdef</tt><br>
<tt> #ifndef</tt><br>
<tt> #message</tt><br>
<tt> =, DEFINE, EQU</tt><br>
<tt> EVEN</tt><br>
<tt> COL, PAGSIZ</tt><br>
<tt> ENDR</tt><br>
<tt> LSTCND, LSTOUT</tt><br>
<tt> LSTEXP, LSTREP</tt><br>
<tt> LSTXRF</tt><br>
<tt> PAGE</tt><br>
<tt> REPTC</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> include</tt><br>
<tt> SET, EQU</tt><br>
<tt> ELSEIF</tt><br>
<br>
<tt> ELSE</tt><br>
<br>
<tt> ENDIF</tt><br>
<tt> ERROR, FATAL</tt><br>
<tt> IF</tt><br>
<tt> IFDEF</tt><br>
<tt> IFNDEF</tt><br>
<tt> MESSAGE</tt><br>
<tt> =, EQU</tt><br>
<tt> ALIGN 2</tt><br>
<tt> PAGE</tt><br>
<tt> ENDM</tt><br>
<tt> LISTING</tt><br>
<tt> MACEXP</tt><br>
 &lt;command line&gt;<br>
<tt> NEWPAGE</tt><br>
<tt> IRPC</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">include file<br>
define symbol<br>
start another<br>
IF branch<br>
last branch of an IF<br>
construct<br>
ends an IF construct<br>
create error message<br>
start an IF construct<br>
symbol defined ?<br>
symbol not defined ?<br>
output message<br>
fixed value assignment<br>
force PC to be equal<br>
set page size for listing<br>
end REPT construct<br>
control amount of listing<br>
list expanded macros?<br>
generate cross reference<br>
new page in listing<br>
repetition with character<br>
replacement</td>
</tr>
</tbody></table></center>
</center>

<p>
There is no direct equivalent for<tt> CASEON</tt>,<tt>
CASEOFF,</tt><tt> LOCAL</tt>,<tt> LSTPAG</tt>,<tt> #undef,</tt>
and<tt> REPTI</tt>.
</p><p>
A 100% equivalent is of course impossible as long as there is no
C-like preprocessor in AS. C-like comments unfortunately are also
impossible at the moment. Caution: When modifying IAR codes for AS,
do not forget to move converted preprocessor statements out of column
1 as AS reserves this column exclusively for labels!
</p><p>

</p><h2><a name="sect_4_56_">4.56. NS32xxx</a></h2>
<p>
As one might expect from a CISC processor, the NS32xxx series
provides sophisticated and complex addressing modes. National defied
the assembly syntax for each of them in its manuals, and this is also
the syntax AS implements. However, as for every architecture that was
supported by third-party tools, there are deviations and extensions,
and I added a few of them to AS:
</p><p>
The syntax to use PC-relative addressing, as defined by National, is:
</p><pre>
 movb r0,*+disp

</pre>
This of course quite clearly expresses what is happening at runtime,
one however has to compute the distance himself if a certain memory
location is to be addressed:
<pre>
 movb r0,*+(addr-*)

</pre>
The first simplification is that under certain conditions, it is
sufficient to just write:
<pre>
 movb r0,addr

</pre>
since absolute addressierung is marked by a @ prefix. This is allowed
under the following conditions:
<ul>
<li> Immediate addressierung is not allowed, e.g. because the operand is
    the destination and there is no risk os ambiguities.</li>
<li> An index extension is used (appended in square brackets), which must
    not be combined with immediate addressing.</li>
</ul>
As an alterntative, AS also supports the following way to use
PC-relative addressing:
<pre>
 movb r0,addr(pc)

</pre>
Analog to the 68000, the distance is computed automatically.
<p>
The external mode, whis written this way in National syntax:
</p><pre>
 movb r0,ext(disp1)+disp2

</pre>
there is another supported syntax variant:
<pre>
 movb r0,disp2(disp1(ext))

</pre>
which used to be common in UNIX environments.
<p>

</p><h2><a name="sect_4_57_">4.57. uPD78(C)1x</a></h2>
<a name="ref_78C1xSpec"></a>
<p>
For relative, unconditional instructions, there is the<tt> JR</tt>
instruction branch distance -32...+31, one byte), and the<tt>
JRE</tt> instruction (branch distance -256...+255, two bytes). AS
furthermore knows the<tt> J</tt> pseudo instruction, which
automatically selects the shortest possible variant.
</p><p>
Architecture and instructon set of these processors are coarsely
related to the Intel 8080/8085 - thi is also true for the mnemonics.
The adressing mode (direct, indirect, immediate) is packed into the
mnemonic, and 16 bit registers (BC, DE, HL) are written with just one
letter. However, since NEC itself also uses at some places
written-out register names and parentheses to signify indirect
addressing, I decided to support some alternative notations next to
the 'official' ones. Some non-NEC tools like disassemblers seem to
use these notations either:
</p><p>
</p><ul>
<li> It is allowed to use<tt> BC</tt>,<tt> (B)</tt>, or<tt> (BC)</tt>
    instead of<tt> B</tt>.</li>
<li> It is allowed to use<tt> DE</tt>,<tt> (D)</tt>, or<tt> (DE)</tt>
    instead of<tt> D</tt>.</li>
<li> It is allowed to use<tt> HL</tt>,<tt> (H)</tt>, or<tt> (HL)</tt>
    instead of<tt> H</tt>.</li>
<li> It is allowed to use<tt> DE+</tt>,<tt> (D+)</tt>,<tt> (DE+)</tt>,
    or<tt> (DE)+</tt> instead of<tt> D+</tt>.</li>
<li> It is allowed to use<tt> HL+</tt>,<tt> (H+)</tt>,<tt> (HL+)</tt>,
    or<tt> (HL)+</tt> instead of<tt> H+</tt>.</li>
<li> It is allowed to use<tt> DE-</tt>,<tt> (D-)</tt>,<tt> (DE-)</tt>,
    or<tt> (DE)-</tt> instead of<tt> D-</tt>.</li>
<li> It is allowed to use<tt> HL-</tt>,<tt> (H-)</tt>,<tt> (HL-)</tt>,
    or<tt> (HL)-</tt> instead of<tt> H-</tt>.</li>
<li> It is allowed to use<tt> DE++</tt>,<tt> (D++)</tt>,<tt> (DE++)</tt>,
    or<tt> (DE)++</tt> instead of<tt> D++</tt>.</li>
<li> It is allowed to use<tt> HL++</tt>,<tt> (H++)</tt>,<tt> (HL++)</tt>,
    or<tt> (HL)++</tt> instead of<tt> H++</tt>.</li>
<li> It is allowed to use<tt> DE--</tt>,<tt> (D--)</tt>,<tt> (DE--)</tt>,
    or<tt> (DE)--</tt> instead of<tt> D--</tt>.</li>
<li> It is allowed to use<tt> HL--</tt>,<tt> (H--)</tt>,<tt> (HL--)</tt>,
    or<tt> (HL)--</tt> instead of<tt> H--</tt>.</li>
<li> It is allowed to use<tt> HL+A</tt>,<tt> A+H</tt>,<tt> A+HL</tt>,<tt>
    (H+A)</tt>,<tt> (HL+A)</tt>,<tt> (A+H)</tt>, or<tt> (A+HL)</tt>
    instead of<tt> H+A</tt>.</li>
<li> It is allowed to use<tt> HL+B</tt>,<tt> B+H</tt>,<tt> B+HL</tt>,<tt>
    (H+B)</tt>,<tt> (HL+B)</tt>,<tt> (B+H)</tt>, or<tt> (B+HL)</tt>
    instead of<tt> H+B</tt>.</li>
<li> It is allowed to use<tt> HL+EA</tt>,<tt> EA+H</tt>,<tt>
    EA+HL</tt>,<tt> (H+EA)</tt>,<tt> (HL+EA)</tt>,<tt> (EA+H)</tt>,
    or<tt> (EA+HL)</tt> instead of<tt> H+EA</tt>.</li>
</ul>
<p>

</p><h2><a name="sect_4_58_">4.58. 75K0</a></h2>
<a name="ref_75K0Spec"></a>
<p>
Similar to other processors, the assembly language of the 75 series
also knows pseudo bit operands, i.e. it is possible to assign a
combination of address and bit number to a symbol that can then be
used as an argument for bit oriented instructions just like explicit
expressions. The following three instructions for example generate
the same code:
</p><pre>
ADM     sfr     0fd8h
SOC     bit     ADM.3

        skt     0fd8h.3
        skt     ADM.3
        skt     SOC

</pre>
AS distinguishes direct and symbolic bit accesses by the missing dot
in symbolic names; it is therefore forbidden to use dots in symbol
names to avoid misunderstandings in the parser.
<p>
The storage format of bit symbols mostly accepts the binary coding in
the machine instructions themselves: 16 bits are used, and there is a
''long'' and a ''short'' format. The short format can store the
following variants:
</p><ul>
<li> direct accesses to the address range from 0FBxH to 0FFxH</li>
<li> indirect accesses in the style of<tt> Addr.@L</tt> (0FC0H &lt;=<tt>
    Addr</tt> &lt;=0FFFH)</li>
<li> indirect accesses in the style of<tt> @H+d4.bit</tt></li>
</ul>
The upper byte is set to 0, the lower byte contains the bit
expression coded according to <a href="#cite_NEC75">[95]</a>. The
long format in contrast only knows direct addressing, but it can
cover the whole address space (given a correct setting of MBS and
MBE). A long expression stores bits 0..7 of the address in the lower
byte, the bit position in bits 8 and 9, and a constant value of 01 in
bits 10 and 11. The highest bits allow to distinguish easily between
long and short addresses via a check if the upper byte is 0. Bits
12..15 contain bits 8..11 of the address; they are not needed to
generate the code, but they have to be stored somewhere as the check
for correct banking can only take place when the symbol is actually
used.
<p>

</p><h2><a name="sect_4_59_">4.59. 78K0</a></h2>
<a name="ref_78K0Spec"></a>
<p>
NEC uses different ways to mark absolute addressing in its data
books:
</p><ul>
<li> absolute short: no prefix</li>
<li> absolute long: prefix of<tt> !</tt></li>
<li> PC relative: prefix of<tt> $</tt></li>
</ul>
Under AS, these prefixes are only necessary if one wants to force a
certain addressing mode and the instruction allows different
variants. Without a prefix, AS will automatically select the shortest
variant. It should therefore rarely be necessary to use a prefix in
practice.
<p>

</p><h2><a name="sect_4_60_">4.60. 78K2/78K3/78K4</a></h2>
<a name="ref_78K234Spec"></a>
<p>
Analogous to the 78K0, NEC here also uses dollar signs and
exclamation marks to specify different lengths of address
expressions. The selection between long and short addresses is done
automatically (both in RAM and SFR areas), only relative addressing
has to be selected explicitly, if an instruction supports both
variants (like<tt> BR</tt>).
</p><p>
An additional remark (which is also true for the 78K0): Those who
want to use Motorola syntax via<tt> RELAXED</tt>, might have to put
hexadecimal constants in parentheses, since the leading dollar sign
might be misunderstood as relative addressing...
</p><p>

</p><h2><a name="sect_4_61_">4.61. uPD772x</a></h2>
<p>
Both the 7720 and 7725 are provided by the same code generator and
are extremely similar in their instruction set. One should however
not beleive that they are binary compatible: To get space for the
longer address fields and additional instructions, the bit positions
of some fields in the instruction word have changed, and the
instruction length has changed from 23 to 24 bits. The code format
therefore uses different header ids for both CPUs.
</p><p>
They both have in common that in addition to the code and data
segment, there is also a ROM for storage of constants. In the case of
AS, it is mapped onto the<tt> ROMDATA</tt> segment!
</p><p>

</p><h2><a name="sect_4_62_">4.62. F2MC16L</a></h2>
<p>
Along with the discussion of the<tt> ASSUME</tt> statement, it has
already been mentioned that it is important to inform AS about the
correct current values of all bank registers - if your program uses
more than 64K RAM or 64K ROM. With these assumptions in mind, AS
checks every direct memory access for attempts to access a memory
location that is currently not in reach. Of course, standard
situations only require knowledge of DTB and DPR for this purpose,
since ADB resp. SSB/USB are only used for indirect accesses via
RW2/RW6 resp. RW3/RW7 and this mechanism anyway doesn't work for
indirect accesses. However, similar to the 8086, it is possible to
place a prefix in front of an instruction to replace DTB by a
different register. AS therefore keeps track of used segment prefixes
and toggles appropriately for the next<em> machine instruction</em>.
A pseudo instruction placed between the prefix and the machine
instruction does<em> not</em> reset the toggle. This is also true for
pseudo instructions that store data or modify the program counter.
Which doesn't make much sense anyway...
</p><p>

</p><h2><a name="sect_4_63_">4.63. MN161x</a></h2>
<p>
This target is special because there are two different code
generators one may choose from. The first one was kindly provided by
Haruo Asano and that may be reached via the CPU names<tt> MN1610</tt>
resp.<tt>MN1613</tt>. The other one was written by me and is
activated via the CPU names<tt> MN1610ALT</tt> resp.<tt>
MN1613ALT</tt>. If you want to use the MN1613's extended address
space of 256 KWords, or if you want to experiment with the MN1613's
floating point formant, you have to use the<tt> ALT</tt> target.
</p><p>

</p><h2><a name="sect_4_64_">4.64. CDP180x</a></h2>
<p>
This family of processors supports both long and short branches: a
short branch is only possible within the same 256 byte memory page,
and a long branch is possible to any target in the 64K address space.
The assembly syntax provides different mnemonics for both variants
(the long variant with a leading 'L'), but there is no variant that
would let the assembler decide itself between long or short. AS
supports such 'pseudo instructions' as an extension:
</p><ul>
<li> <tt>JMP</tt> becomes<tt> BR</tt> oder<tt> LBR</tt>.</li>
<li> <tt>JZ</tt> becomes<tt> BZ</tt> oder<tt> LBZ</tt>.</li>
<li> <tt>JNZ</tt> becomes<tt> BNZ</tt> oder<tt> LBNZ</tt>.</li>
<li> <tt>JDF</tt> becomes<tt> BDF</tt> oder<tt> LBDF</tt>.</li>
<li> <tt>JPZ</tt> becomes<tt> BPZ</tt> oder<tt> LBPZ</tt>.</li>
<li> <tt>JGE</tt> becomes<tt> BGE</tt> oder<tt> LBGE</tt>.</li>
<li> <tt>JNF</tt> becomes<tt> BNF</tt> oder<tt> LBNF</tt>.</li>
<li> <tt>JM</tt> becomes<tt> BM</tt> oder<tt> LBM</tt>.</li>
<li> <tt>JL</tt> becomes<tt> BL</tt> oder<tt> LBL</tt>.</li>
<li> <tt>JQ</tt> becomes<tt> BQ</tt> oder<tt> LBQ</tt>.</li>
<li> <tt>JNQ</tt> becomes<tt> BNQ</tt> oder<tt> LBNQ</tt>.</li>
</ul>
<p>

</p><h2><a name="sect_4_65_">4.65. KENBAK</a></h2>
<p>
The KENBAK-1 was developed in 1970, at a time when the first
microprocessor was still three years away. One may assume that for
the few hobbyists that could afford the kit back then, this was their
first and only computer. As a consequence, they had nothing they
could run an assembler on, the KENBAK-1 itself with its 256 bytes of
memory was way too small for such a task. The preferred method was to
use pre-printed tables, which had fields to fill in instructions and
machine codes. Once this ''programming job'' was done, one would
enter the machine code manually via the computer's switch row.
</p><p>
The effect of this is that though the KENBAK's assembly language is
described in the manual, there is no real formal definition of it.
When Grant Stockly released new KENBAK kits a few years ago, he did a
first implementation of the KENBAK on my assembler. Unfortunately,
this never went upstream. I tried to take up his ideas in my
implementation, but on the other hand I also tried to offer a syntax
that should be familiar to programmers of 6502, Z80 or similar
processors. The following table lists the syntax differences:
</p><p>
</p><center>
<p></p><center>Table 4.10: KENBAK-Befehlssyntax<a name="ref_TabKENBAKSyntax"></a>
</center><p>
</p><p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">Stockly</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Alternativ</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Bemerkung</th>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><b> Arithmetic/Logic (ADD/SUB/LOAD/STORE/AND/OR/LNEG)</b></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><i> instr</i><tt> Constant</tt>,<i> Reg</i>,<i> Wert</i>,<br>
<i> instr</i><tt> Memory</tt>,<i> Reg</i>,<i> Addr</i>,<br>
<i> instr</i><tt> Indirect</tt>,<i> Reg</i>,<i> Addr</i>,<br>
<i> instr</i><tt> Indexed</tt>,<i> Reg</i>,<i> Addr</i>,<br>
<i> instr</i><tt> Indirect-Indexed</tt>,<i> Reg</i>,<i> Addr</i>,</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><i> instr</i><i> Reg</i>,<i> #Wert</i><br>
<i> instr</i><i> Reg</i>,<i> Addr</i><br>
<i> instr</i><i> Reg</i>,<i> (Addr)</i><br>
<i> instr</i><i> Reg</i>,<i> Addr</i>,X<br>
<i> instr</i><i> Reg</i>,<i> (Addr)</i>,X</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">immediate<br>
direct<br>
direct<br>
indexed<br>
indirect-indexed</td>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><b> Jumps</b></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> JPD</tt><i> Reg</i>,<i> Cond</i>,<i> Addr</i><br>
<tt> JPI</tt><i> Reg</i>,<i> Cond</i>,<i> Addr</i><br>
<tt> JMD</tt><i> Reg</i>,<i> Cond</i>,<i> Addr</i><br>
<tt> JMI</tt><i> Reg</i>,<i> Cond</i>,<i> Addr</i><br>
<tt> JPD</tt><tt> Unconditional</tt>,<i> Cond</i>,<i> Addr</i><br>
<tt> JPI</tt><tt> Unconditional</tt>,<i> Cond</i>,<i> Addr</i><br>
<tt> JMD</tt><tt> Unconditional</tt>,<i> Cond</i>,<i> Addr</i><br>
<tt> JMI</tt><tt> Unconditional</tt>,<i> Cond</i>,<i> Addr</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> JP</tt><i> Reg</i>,<i> Cond</i>,<i> Addr</i><br>
<tt> JP</tt><i> Reg</i>,<i> Cond</i>,<i> (Addr)</i><br>
<tt> JM</tt><i> Reg</i>,<i> Cond</i>,<i> Addr</i><br>
<tt> JM</tt><i> Reg</i>,<i> Cond</i>,<i> (Addr)</i><br>
<tt> JP</tt><i> Addr</i><br>
<tt> JP</tt><i> (Addr)</i><br>
<tt> JM</tt><i> Addr</i><br>
<tt> JM</tt><i> (Addr)</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">conditional-direct<br>
conditional-indirect<br>
conditional-direct<br>
conditional-indirect<br>
unconditional-direct<br>
unconditional-indirect<br>
unconditional-direct<br>
unconditional-indirect</td>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><b> Jump Conditions</b></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> Non-zero</tt><br>
<tt> Zero</tt><br>
<tt> Negative</tt><br>
<tt> Positive</tt><br>
<tt> Positve-Non-zero</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> NZ</tt><br>
<tt> Z</tt><br>
<tt> N</tt><br>
<tt> P</tt><br>
<tt> PNZ</tt></td>
<td valign="TOP" nowrap="nowrap" align="LEFT">&lt;&gt; 0<br>
= 0<br>
&lt; 0<br>
&gt;= 0<br>
&gt; 0</td>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><b> Skips</b></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SKP 0</tt>,<i> bit</i>,<i> Addr</i><br>
<tt> SKP 1</tt>,<i> bit</i>,<i> Addr</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SKP0</tt><i> bit</i>,<i> Addr</i><i> [,Dest]</i><br>
<tt> SKP1</tt><i> bit</i>,<i> Addr</i><i> [,Dest]</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><br>
</td>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><b> Bit Manipulation</b></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SET 0</tt>,<i> bit</i>,<i> Addr</i><br>
<tt> SET 1</tt>,<i> bit</i>,<i> Addr</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SET0</tt><i> bit</i>,<i> Addr</i><br>
<tt> SET1</tt><i> bit</i>,<i> Addr</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><br>
</td>
</tr>
<tr align="LEFT">
<td colspan="3" valign="TOP" nowrap="nowrap" align="LEFT"><b> Shifts/Rotates</b></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SHIFT LEFT</tt>,<i> cnt</i>,<i> Reg</i><br>
<tt> SHIFT RIGHT</tt>,<i> cnt</i>,<i> Reg</i><br>
<tt> ROTATE LEFT</tt>,<i> cnt</i>,<i> Reg</i><br>
<tt> ROTATE RIGHT</tt>,<i> cnt</i>,<i> Reg</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> SFTL</tt><i> [cnt,]</i><i> Reg</i><br>
<tt> SFTR</tt><i> [cnt,]</i><i> Reg</i><br>
<tt> ROTL</tt><i> [cnt,]</i><i> Reg</i><br>
<tt> ROTR</tt><i> [cnt,]</i><i> Reg</i></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><br>
arithm. Shift<br>
<br>
</td>
</tr>
</tbody></table></center>
</center>
<p>
There is no pseudo instruction to switch between these syntax
variants. They may both be used anytime and in an arbitrary mix.
</p><p>
The target address<i> [Dest]</i> that may optionally be added to skip
instructions will not become part of the machine code. The assembler
only checks whether the processor wil actually skip to the given
address. This allows for instance to check whether one actually tries
to skip a one-byte instruction. If the shift count argument<i>
[cnt]</i> is omitted, a one-bit shift/rotate is coded.
</p><p>

</p><h1><a name="sect_5_">5. File Formats</a></h1>
<p>
In this chapter, the formats of files AS generates shall be explained
whose formats are not self-explanatory.
</p><p>

</p><h2><a name="sect_5_1_">5.1. Code Files</a></h2>
<a name="ref_SectCodeFormat"></a>
<p>
The format for code files generated by the assembler must be able to
separate code parts that were generated for different target
processors; therefore, it is a bit different from most other formats.
Though the assembler package contains tools to deal with code files,
I think is a question of good style to describe the format in short:
</p><p>
If a code file contains multibyte values, they are stored in little
endian order. This rule is already valid for the 16-bit magic word
$1489, i.e. every code file starts with the byte sequence $89/$14.
</p><p>
This magic word is followed by an arbitrary number of ''records''. A
record may either contain a continuous piece of the code or certain
additional information. Even without switching to different processor
types, a file may contain several code-containing records, in case
that code or constant data areas are interrupted by reserved memory
areas that should not be initialized. This way, the assembler tries
to keep the file as short as possible.
</p><p>
Common to all records is a header byte which defines the record's
type and its contents. Written in a PASCALish way, the record
structure can be described in the following way:
</p><pre>
FileRecord = RECORD CASE Header:Byte OF
              $00:(Creator:ARRAY[] OF Char);
              $01..
              $7f:(StartAdr : LongInt;
                   Length   : Word;
                   Data     : ARRAY[0..Length-1] OF Byte);
              $80:(EntryPoint:LongInt);
              $81:(Header   : Byte;
                   Segment  : Byte;
                   Gran     : Byte;
                   StartAdr : LongInt;
                   Length   : Word;
                   Data     : ARRAY[0..Length-1] OF Byte);
             END

</pre>
This description does not express fully that the length of data
fields is variable and depends on the value of the<tt> Length</tt>
entries.
<p>
A record with a header byte of $81 is a record that may contain code
or data from arbitrary segments. The first byte (<tt>Header</tt>)
describes the processor family the following code resp. data was
generated for (see table <a href="#ref_TabHeader">5.1</a>).
</p><p>
</p><center>
<p></p><center>Table 5.1: Header Bytes for the Different Processor Families
</center><p>
</p><p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="CENTER">Header</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Family</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">Header</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">Family</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="CENTER">$01<br>
$03<br>
$05<br>
$07<br>
$09<br>
$11<br>
$13<br>
$15<br>
$19<br>
$1b<br>
$1d<br>
$25<br>
$29<br>
$31<br>
$33<br>
$35<br>
$37<br>
$39<br>
$3b<br>
$3d<br>
$3f<br>
$41<br>
$43<br>
$45<br>
$47<br>
$49<br>
$4b<br>
$4d<br>
$4f<br>
$51<br>
$53<br>
$55<br>
$57<br>
$59<br>
$5b<br>
$5d<br>
$5f<br>
$61<br>
$63<br>
$65<br>
$67<br>
$69<br>
$6b<br>
$6d<br>
$6f<br>
$71<br>
$73<br>
$75<br>
$77<br>
$79<br>
$7b<br>
$7d<br>
$7f</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">680x0, 6833x<br>
M*Core<br>
PowerPC<br>
TMS1000<br>
DSP56xxx<br>
65xx/MELPS-740<br>
M16<br>
F<sup>2</sup>MC8L<br>
65816/MELPS-7700<br>
PDK14<br>
PDK16<br>
SYM53C8xx<br>
29xxx<br>
MCS-51<br>
ST7<br>
Super8<br>
2650<br>
MCS-96/196/296<br>
AVR<br>
AVR (8-Bit Code-Segment)<br>
4004/4040<br>
8080/8085<br>
SX20<br>
S12Z<br>
TMS320C6x<br>
TMS370xxx<br>
TMS320C54x<br>
OLMS-50<br>
MIL STD 1750<br>
Z80/180/380<br>
TLCS-90<br>
TLCS-47<br>
TLCS-870/C<br>
eZ8<br>
KCPSM3<br>
NEC 75xx<br>
COP4<br>
6800, 6301, 6811<br>
6809<br>
68HC16<br>
ACE<br>
H8/500<br>
KCPSM<br>
SC14xxx<br>
COP8<br>
PIC16C5x<br>
TMS-7000<br>
TMS320C2x<br>
TMS320C20x/C5x<br>
Z8<br>
75K0<br>
µPD7720<br>
µPD77230</td>
<td valign="TOP" nowrap="nowrap" align="CENTER">$02<br>
$04<br>
$06<br>
$08<br>
$0a<br>
$12<br>
$14<br>
$16<br>
$1a<br>
$1c<br>
$21<br>
$27<br>
$2a<br>
$32<br>
$35<br>
$36<br>
$38<br>
$3a<br>
$3c<br>
$3e<br>
$40<br>
$42<br>
$44<br>
$46<br>
$48<br>
$4a<br>
$4c<br>
$4e<br>
$50<br>
$52<br>
$54<br>
$56<br>
$58<br>
$5a<br>
$5c<br>
$5e<br>
$60<br>
$62<br>
$64<br>
$66<br>
$68<br>
$6a<br>
$6c<br>
$6e<br>
$70<br>
$72<br>
$74<br>
$76<br>
$78<br>
$7a<br>
$7c<br>
$7e<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">ATARI_VECTOR<br>
XGATE<br>
XCore<br>
NS32xxx<br>
CP1600<br>
MELPS-4500<br>
M16C<br>
F<sup>2</sup>MC16L<br>
PDK13<br>
PDK15<br>
MCS-48<br>
KENBAK<br>
i960<br>
ST9<br>
Z8000<br>
MN161x<br>
1802/1805<br>
8X30x<br>
XA<br>
8008<br>
H16<br>
8086..V35<br>
F8<br>
78K4<br>
TMS9900<br>
MSP430<br>
80C166/167<br>
OLMS-40<br>
HMCS-400<br>
TLCS-900<br>
TLCS-870<br>
TLCS-9000<br>
NEC 78K3<br>
TC9331<br>
LatticeMico8<br>
68RS08<br>
78K2<br>
6805/HC08<br>
6804<br>
68HC12<br>
H8/300(H)<br>
807x<br>
SH7000<br>
SC/MP<br>
PIC16C8x<br>
PIC17C4x<br>
TMS3201x<br>
TMS320C3x/C4x<br>
ST6<br>
µPD78(C)10<br>
78K0<br>
µPD7725<br>
</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="CENTER"><a name="ref_TabHeader"></a></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
<td valign="TOP" nowrap="nowrap" align="CENTER"></td>
<td valign="TOP" nowrap="nowrap" align="LEFT"></td>
</tr>
</tbody></table></center>
</center>
<p>
The<tt> Segment</tt> field signifies the address space the following
code belongs to. The assignment defined in table <a href="#ref_TabSegments">5.1</a> applies.

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="CENTER">number</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">segment</th>
<th valign="TOP" nowrap="nowrap" align="CENTER">number</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">segment</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="CENTER">$00<br>
$02<br>
$04<br>
$06<br>
$08</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">&lt;undefined&gt;<br>
<tt> DATA</tt><br>
<tt> XDATA</tt><br>
<tt> BDATA</tt><br>
<tt> REG</tt></td>
<td valign="TOP" nowrap="nowrap" align="CENTER">$01<br>
$03<br>
$05<br>
$07<br>
$09</td>
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> CODE</tt><br>
<tt> IDATA</tt><br>
<tt> YDATA</tt><br>
<tt> IO</tt><br>
<tt> ROMDATA</tt></td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 5.1: Codings of the<tt> Segment</tt> Field<a name="ref_TabSegments"></a><a name="ref_TabSegmentNums"></a>
</center><p>

The<tt> Gran</tt> field describes the code's ''granularity'', i.e.
the size of the smallest addressable unit in the following set of
data. This value is a function of processor type and segment and is
an important parameter for the interpretation of the following two
fields that describe the block's start address and its length: While
the start address refers to the granularity, the<tt> Length</tt>
value is always expressed in bytes! For example, if the start address
is $300 and the length is 12, the resulting end address would be $30b
for a granularity of 1, however $303 for a granularity of 4!
Granularities that differ from 1 are rare and mostly appear in DSP
CPU's that are not designed for byte processing. For example, a
DSP56K's address space is organized in 64 Kwords of 16 bits. The
resulting storage capacity is 128 Kbytes, however it is organized as
2<sup> 16</sup> words that are addressed with addresses
0,1,2,...65535!
</p><p>
The start address is always 32 bits in size, independent of the
processor family. In contrast, the length specification has only 16
bits, i.e. a record may have a maximum length of 4+4+2+(64K-1) =
65545 bytes.
</p><p>
Data records with a Header ranging from $01 to $7f present a shortcut
and preserve backward compatibility to earlier definitions of the
file format: in their case, the Header directly defines the processor
type, the target segment is fixed to<tt> CODE</tt> and the
granularity is implicitly given by the processor type, rounded up to
the next power of two. AS prefers to use these records whenever data
or code should go into the<tt> CODE</tt> segment.
</p><p>
A record with a Header of $80 defines an entry point, i.e. the
address where execution of the program should start. Such a record is
the result of an<tt> END</tt> statement with a corresponding address
as argument.
</p><p>
The last record in a file bears the Header $00 and has only a string
as data field. This string does not have an explicit length
specification; its end is equal to the file's end. The string
contains only the name of the program that created the file and has
no further meaning.
</p><p>

</p><h2><a name="sect_5_2_">5.2. Debug Files</a></h2>
<a name="ref_SectDebugFormat"></a>
<p>
Debug files may optionally be generated by AS. They deliver important
information for tools used after assembly, like disassemblers or
debuggers. AS can generate debug files in one of three formats: On
the one hand, the object format used by the AVR tools from Atmel
respectively a NoICE-compatible command file, and on the other hand
an own format. The first two are described in detail in <a href="#cite_AVRObj">[4]</a> resp. the NoICE documentations, which is
why the following description limits itself to the AS-specific MAP
format:
</p><p>
The information in a MAP file is split into three groups:
</p><ul>
<li> symbol table</li>
<li> memory usage per section</li>
<li> machine addresses of source lines</li>
</ul>
The second item is listed first in the file. A single entry in this
list consists of two numbers that are separated by a<tt> :</tt>
character:
<pre>
 &lt;line number&gt;:&lt;address&gt;

</pre>
Such an entry states that the machine code generated for the source
statement in a certain line is stored at the mentioned address
(written in hexadecimal notation). With such an information, a
debugger can display the corresponding source lines while stepping
through a program. As a program may consist of several include files,
and due to the fact that a lot of processors have more than one
address space (though admittedly only one of them is used to store
executable code), the entries described above have to be sorted. AS
does this sorting in two levels: The primary sorting criteria is the
target segment, and the entries in one of these sections are sorted
according to files. The sections resp. subsections are separated by
special lines in the style of
<pre>
Segment &lt;segment name&gt;

</pre>
resp.
<pre>
File &lt;file name&gt;   .

</pre>
The source line info is followed by the symbol table. Similar to the
source line info, the symbol table is primarily sorted by the
segments individual symbols are assigned to. In contrast to the
source line info, an additional section<tt> NOTHING</tt> exists which
contains the symbols that are not assigned to any specific segment
(e.g. symbols that have been defined with a simple<tt> EQU</tt>
statement). A section in the symbol table is started with a line of
the following type:
<pre>
Symbols in Segment &lt;segment name&gt;

</pre>
The symbols in a section are sorted according to the alphabetical
order of their names, and one symbol entry consists of exactly one
line. Such a line consists of six fields witch are separated by at
least a single space:
<p>
The first field is the symbol's name, possibly extended by a section
number enclosed in brackets. Such a section number limits the range
of validity for a symbol. The second field designates the symbol's
type:<tt> Int</tt> stands for integer values,<tt> Float</tt> for
floating point numbers, and<tt> String</tt> for character arrays. The
third field finally contains the symbol's value. If the symbol
contains a string, it is necessary to use a special encoding for
control characters and spaces. Without such a coding, spaces in a
string could be misinterpreted as delimiters to the next field. AS
uses the same syntax that is also valid for assembly source files:
Instead of the character, its ASCII value with a leading backslash
(\) is inserted. For example, the string
</p><pre>
 This is a test

</pre>
becomes
<pre>
 This\032is\032\a\032test   .

</pre>
The numerical value always has three digits and has to be interpreted
as a decimal value. Naturally, the backslash itself also has to be
coded this way.
<p>
The fourth field specifies - if available - the size of the data
structure placed at the address given by the symbol. A debugger may
use this information to automatically display variables in their
correct length when they are referred symbolically. In case AS does
not have any information about the symbol size, this field simply
contains the value -1.
</p><p>
The fifth field states via the values 0 or 1 if the symbol has been
used during assembly. A program that reads the symbol table can use
this field to skip unused symbols as they are probably unused during
the following debugging/disassembly session.
</p><p>
Finally, the sixth field states via the values 0 or 1 if the symbol
is a constant (0) or variable(1). Constant symbols are set once, e.g.
via the<tt> EQU</tt> statement or a label, while variables are
allowed to change their value during the course of assembly. The MAP
file lists the final value.
</p><p>
The third section in a debug file describes the program's sections in
detail. The need for such a detailed description arises from the
sections' ability to limit the validity range of symbols. A symbolic
debugger for example cannot use certain symbols for a reverse
translation, depending on the current PC value. It may also have to
regard priorities for symbol usage when a value is represented by
more than one symbol. The definition of a section starts with a line
of the following form:
</p><pre>
Info for Section nn ssss pp

</pre>
<tt>nn</tt> specifies the section's number (the number that is also
used in the symbol table as a postfix for symbol names),<tt>
ssss</tt> gives its name and<tt> pp</tt> the number of its parent
section. The last information is needed by a retranslator to step
upward through a tree of sections until a fitting symbol is found.
This first line is followed by a number of further lines that
describe the code areas used by this section. Every single entry
(exactly one entry per line) either describes a single address or an
address range given by a lower and an upper bound (separation of
lower and upper bound by a minus sign). These bounds are
''inclusive'', i.e. the bounds themselves also belong to the area. Is
is important to note that an area belonging to a section is not
additionally listed for the section's parent sections (an exception
is of course a deliberate multiple allocation of address areas, but
you would not do this, would you?). On the one hand, this allows an
optimized storage of memory areas during assembly. On the other hand,
this should not be an obstacle for symbol backtranslation as the
single entry already gives an unambiguous entry point for the symbol
search path. The description of a section is ended by an empty line
or the end of the debug file.
<p>
Program parts that lie out of any section are not listed separately.
This implicit ''root section'' carries the number -1 and is also used
as parent section for sections that do not have a real parent
section.
</p><p>
It is possible that the file contains empty lines or comments (semi
colon at line start). A program reading the file has to ignore such
lines.
</p><p>

</p><h1><a name="sect_6_">6. Utility Programs</a></h1>
<a name="ref_ChapTools"></a>
<p>
To simplify the work with the assembler's code format a bit, I added
some tools to aid processing of code files. These programs are
released under the same license terms as stated in section <a href="#ref_SectLicense">1.1</a>!
</p><p>
Common to all programs are the possible return codes they may deliver
upon completion (see table <a href="#ref_TabToolReturns">6.1</a>).
</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="CENTER">return code</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">error condition</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="CENTER">0<br>
1<br>
2<br>
3</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">no errors<br>
error in command line parameters<br>
I/O error<br>
file format error</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table 6.1: Return Codes of the Utility Programs<a name="ref_TabToolReturns"></a>
</center><p>

Just like AS, all programs take their input from STDIN and write
messages to STDOUT (resp. error messages to STDERR). Therefore, input
and output redirections should not be a problem.
</p><p>
In case that numeric or address specifications have to be given in
the command line, they may also be written in hexadecimal notation,
either ba allending a h or prepending a dollar character or a<tt>
0x</tt> like in C. (e.g. 10h, $10, or 0x10 instead of 16).
</p><p>
Unix shells however assign a special meaning to the dollar sign,         
which makes it necessary to escape a dollar sign with a backslash.
The<tt> 0x</tt> variant is definitely more comfortable in this case.
</p><p>
Otherwise, calling conventions and variations are equivalent to those
of AS (except for PLIST and AS2MSG); i.e. it is possible to store
frequently used parameters in an environment variable (whose name is
constructed by appending CMD to the program's name, i.e.<tt>
BINDCMD</tt> for BIND), to negate options, and to use all upper-
resp. lower-case writing (for details on this, see section <a href="#ref_SectCallConvention">2.4</a>).
</p><p>
Address specifications always relate to the granularity of the
processor currently in question; for example, on a PIC, an address
difference of 1 means a word and not a byte.
</p><p>

</p><h2><a name="sect_6_1_">6.1. PLIST</a></h2>
<p>
PLIST is the simplest one of the five programs supplied: its purpose
is simply to list all records that are stored in a code file. As the
program does not do very much, calling is quite simple:
</p><pre>
    PLIST &lt;file name&gt;

</pre>
The file name will automatically be extended with the extension<tt>
P</tt> if it doesn't already have one.
<p>
<b> CAUTION!</b> At this place, no wildcards are allowed! If there is
a necessity to list several files with one command, use the following
''mini batch'':
</p><pre>
    for %n in (*.p) do plist %n

</pre>
PLIST prints the code file's contents in a table style, whereby
exactly one line will be printed per record. The individual rows have
the following meanings:
<ul>
<li> code type: the processor family the code has been generated
    for.</li>
<li> start address: absolute memory address that expresses the load
    destination for the code.</li>
<li> length: length of this code chunk in bytes.</li>
<li> end address: last address of this code chunk. This address is
    calculated as start address+length-1.</li>
</ul>
All outputs are in hexadecimal notation.
<p>
Finally, PLIST will print a copyright remark (if there is one in the
file), together with a summaric code length.
</p><p>
Simply said, PLIST is a sort of DIR for code files. One can use it to
examine a file's contents before one continues to process it.
</p><p>

</p><h2><a name="sect_6_2_">6.2. BIND</a></h2>
<p>
BIND is a program that allows to concatenate the records of several
code files into a single file. A filter function is available that
can be used to copy only records of certain types. Used in this way,
BIND can also be used to split a code file into several files.
</p><p>
The general syntax of BIND is
</p><pre>
   BIND &lt;source file(s)&gt; &lt;target file&gt; [options]

</pre>
Just like AS, BIND regards all command line arguments that do not
start with a<tt> +, -</tt> or<tt> /</tt> as file specifications, of
which the last one must designate the destination file. All other
file specifications name sources, which may again contain wildcards.
<p>
Currently, BIND defines only one command line option:
</p><ul>
<li> <tt>f &lt;Header[,Header]&gt;</tt>: sets a list of record headers
    that should be copied. Records with other header IDs will not be
    copied. Without such an option, all records will be copied. The
    headers given in the list correspond to the<tt> HeaderID</tt>
    field of the record structure described in section <a href="#ref_SectCodeFormat">5.1</a>. Individual headers in this
    list are separated with commas.</li>
</ul>
For example, to filter all MCS-51 code out of a code file, use BIND
in the following way:
<pre>
   BIND &lt;source name&gt; &lt;target name&gt; -f $31

</pre>
If a file name misses an extension, the extension<tt> P</tt> will be
added automatically.
<p>

</p><h2><a name="sect_6_3_">6.3. P2HEX</a></h2>
<p>
P2HEX is an extension of BIND. It has all command line options of
BIND and uses the same conventions for file names. In contrary to
BIND, the target file is written as a Hex file, i.e. as a sequence of
lines which represent the code as ASCII hex numbers.
</p><p>
P2HEX knows nine different target formats, which can be selected via
the command line parameter<tt> F</tt>:
</p><ul>
<li> Motorola S-Records (<tt>-F Moto)</tt>)</li>
<li> MOS Hex<tt> (-F MOS)</tt></li>
<li> Intel Hex (Intellec-8,<tt> -F Intel</tt>)</li>
<li> 16-Bit Intel Hex (MCS-86,<tt> -F Intel16</tt>)</li>
<li> 32-Bit Intel Hex (<tt>-F Intel32)</tt>)</li>
<li> Tektronix Hex (<tt>-F Tek</tt>)</li>
<li> Texas Instruments DSK (<tt>-F DSK</tt>)</li>
<li> Atmel AVR Generic (<tt>-F Atmel</tt>, see <a href="#cite_AVRObj">[4]</a>)</li>
<li> Lattice Mico8 prom_init (<tt>-F Mico8</tt>)</li>
<li> C arrays, for inclusion into C(++) source files (<tt>-F C</tt>)</li>
</ul>
If no target format is explicitly specified, P2HEX will automatically
choose one depending in the processor type: S-Records for Motorola
CPUs, Hitachi, and TLCS-900, MOS for 65xx/MELPS, DSK for the 16 bit
signal processors from Texas, Atmel Generic for the AVRs, and Intel
Hex for the rest. Depending on the start addresses width, the
S-Record format will use Records of type 1, 2, or 3, however, records
in one group will always be of the same type. This automatism can be
partially suppressed via the command line option
<pre>
  -M &lt;1|2|3&gt;

</pre>
A value of 2 resp. 3 assures that that S records with a minimum type
of 2 resp. 3 will be used, while a value of 1 corresponds to the full
automatism.
<p>
Normally, the AVR format always uses an address length of 3 bytes.
Some programs however do not like that...which is why there is a
switch
</p><pre>
  -avrlen &lt;2|3&gt;

</pre>
that allows to reduce the address length to two bytes in case of
emergency.
<p>
The Mico8 format is different from all the other formats in having no
address fields - it is plain list of all instruction words in program
memory. When using it, be sure that the used address range (as
displeyed e.g. by PLIS) starts at zero and is continuous.
</p><p>
The Intel, MOS and Tektronix formats are limited to 16 bit addresses,
the 16-bit Intel format reaches 4 bits further. Addresses that are to
long for a given format will be reported by P2HEX with a warning;
afterwards, they will be truncated (!).
</p><p>
For the PIC microcontrollers, the switch
</p><pre>
-m &lt;0..3&gt;

</pre>
allows to generate the three different variants of the Intel Hex
format. Format 0 is INHX8M which contains all bytes in a Lo-Hi-Order.
Addresses become double as large because the PICs have a
word-oriented address space that increments addresses only by one per
word. This format is also the default. With Format 1 (INHX16M), bytes
are stored in their natural order. This is the format Microchip uses
for its own programming devices. Format 2 (INHX8L) resp. 3 (INHX8H)
split words into their lower resp. upper bytes. With these formats,
P2HEX has to be called twice to get the complete information, like in
the following example:
<pre>
  p2hex test -m 2
  rename test.hex test.obl
  p2hex test -m 3
  rename test.hex test.obh

</pre>
For the Motorola format, P2HEX additionally uses the S5 record type
mentioned in <a href="#cite_CPM68K">[11]</a>. This record contains
the number of data records (S1/S2/S3) to follow. As some programs
might not know how to deal with this record, one can suppress it with
the option
<pre>
 +5  .

</pre>
The C format is different in the sense that it always has to be
selected explicitly. The output file is basically a complete piece of
C or C++ code that contains the data as a list of C arrays.
Additionally to the data itself, a list of descriptors is written
that describes the start, length, and end address of each data block.
The contents of these descriptors may be configured via the option
<pre>
 -cformat &lt;format&gt;

</pre>
Each letter in format defines an element of the descriptor:
<ul>
<li> A d or D defines a pointer to the data itself. Usage of a lower or
    upper case letter defines whether lowercase or uppercase letters
    are used for hexadecimal constants.</li>
<li> An s or S defines the start address of the data, either as<em>
    unsigned</em> or<em> unsigned long</em>.</li>
<li> An l or L defines the length of the data, either as<em>
    unsigned</em> or<em> unsigned long</em>.</li>
<li> An e or E defines the end address of the data, specifically the last
    address used by the data, either as<em> unsigned</em> or<em>
    unsigned long</em>.</li>
</ul>
<p>
In case a source file contains code record for different processors,
the different hex formats will also show up in the target file - it
is therefore strongly advisable to use the filter function.
</p><p>
Apart form this filter function, P2HEX also supports an address
filter, which is useful to split the code into several parts (e.g.
for a set of EPROMs):
</p><pre>
-r &lt;start address&gt;-&lt;end address&gt;

</pre>
The start address is the first address in the window, and the end
address is the last address in the window,<b> not</b> the first
address that is out of the window. For example, to split an 8051
program into 4 2764 EPROMs, use the following commands:
<pre>
p2hex &lt;source file&gt; eprom1 -f $31 -r $0000-$1fff
p2hex &lt;source file&gt; eprom2 -f $31 -r $2000-$3fff
p2hex &lt;source file&gt; eprom3 -f $31 -r $4000-$5fff
p2hex &lt;source file&gt; eprom4 -f $31 -r $6000-$7fff

</pre>
It is allowed to specifiy a single dollar character or '0x' as start
or stop address. This means that the lowest resp. highest address
found in the source file shall be taken as start resp. stop address.
The default range is '0x-0x', i.e. all data from the source file is
transferred.
<p>
<b> CAUTION!</b> This type of splitting does not change the absolute
addresses that will be written into the files! If the addresses in
the individual hex files should rather start at 0, one can force this
with the additional switch
</p><pre>
 -a     .

</pre>
On the other hand, to move the addresses to a different location, one
may use the switch
<pre>
 -R &lt;value&gt; .

</pre>
The value given is an<em> offset</em>, i.e. it is added to the
addresses given in the code file.
<p>
By using an offset, it is possible to move a file's contents to an
arbitrary position. This offset is simply appended to a file's name,
surrounded with parentheses. For example, if the code in a file
starts at address 0 and you want to move it to address 1000 hex in
the hex file, append<tt> ($1000)</tt> to the file's name (without
spaces!).
</p><p>
In case the source file(s) not only contain data for the code
segment, the switch
</p><pre>
 -segment &lt;name&gt;

</pre>
allows to select the segment data is extracted from and converted to
HEX format. The segment names are the same as for the<tt>
SEGMENT</tt> pseudo instruction (<a href="#ref_SEGMENT">3.2.13</a>).
The TI DSK is a special case since it has the ability to distinguish
between data and code in one file. If TI DSK is the output format,
P2HEX will automatically extract data from both segments if no
segment was specified explicitly.
<p>
Similar to the -r option, the argument
</p><pre>
 -d &lt;start&gt;-&lt;end&gt;

</pre>
allows to designate the address range that should be written as data
instead of code.
<p>
The option
</p><pre>
 -e &lt;address&gt;

</pre>
is valid for the DSK, Intel, and Motorola formats. Its purpose is to
set the entry address that will be inserted into the hex file. If
such a command line parameter is missing, P2HEX will search a
corresponding entry in the code file. If even this fails, no entry
address will be written to the hex file (DSK/Intel) or the field
reserved for the entry address will be set to 0 (Motorola).
<p>
Unfortunately, one finds different statements about the last line of
an Intel-Hex file in literature. Therefore, P2HEX knows three
different variants that may be selected via the command-line
parameter<tt> i</tt> and an additional number:
</p><pre>
 0  :00000001FF
 1  :00000001
 2  :0000000000

</pre>
By default, variant 0 is used which seems to be the most common one.
<p>
If the target file name does not have an extension, an extension
of<tt> HEX</tt> is supposed.
</p><p>
By default, P2HEX will print a maximum of 16 data bytes per line,
just as most other tools that output Hex files. If you want to change
this, you may use the switch
</p><pre>
-l &lt;count&gt;   .

</pre>
The allowed range of values goes from 2 to 254 data bytes; odd values
will implicitly be rounded down to an even count.
<p>
In most cases, the temporary code files generated by AS are not of
any further need after P2HEX has been run. The command line option
</p><pre>
-k

</pre>
allows to instruct P2HEX to erase them automatically after
conversion.
<p>
In contrast to BIND, P2HEX will not produce an empty target file if
only one file name (i.e. the target name) has been given. Instead,
P2HEX will use the corresponding code file. Therefore, a minimal call
in the style of
</p><pre>
 P2HEX &lt;name&gt;

</pre>
is possible, to generate<tt> &lt;name&gt;.hex</tt> out of<tt>
&lt;name&gt;.p</tt>.
<p>

</p><h2><a name="sect_6_4_">6.4. P2BIN</a></h2>
<p>
P2BIN works similar to P2HEX and offers the same options (except for
the a and i options that do not make sense for binary files),
however, the result is stored as a simple binary file instead of a
hex file. Such a file is for example suitable for programming an
EPROM.
</p><p>
P2BIN knows three additional options to influence the resulting
binary file:
</p><ul>
<li> <tt>l &lt;8 bit number&gt;</tt>: sets the value that should be used
    to fill unused memory areas. By default, the value $ff is used.
    This value assures that every half-way intelligent EPROM burner
    will skip these areas. This option allows to set different
    values, for example if you want to generate an image for the
    EPROM versions of MCS-48 microcontrollers (empty cells of their
    EPROM array contain zeroes, so $00 would be the correct value in
    this case).</li>
<li> <tt>s</tt>: commands the program to calculate a checksum of the
    binary file. This sum is printed as a 32-bit value, and the two's
    complement of the least significant bit will be stored in the
    file's last byte. This way, the modulus- 256-sum of the file will
    become zero.</li>
<li> <tt>m</tt>: is designed for the case that a CPU with a 16- or 32-bit
    data bus is used and the file has to be split for several EPROMs.
    The argument may have the following values:
<ul>
<li>     <tt>ALL</tt>: copy everything</li>
<li>     <tt>ODD</tt>: copy all bytes with an odd address</li>
<li>     <tt>EVEN</tt>: copy all bytes with an even address</li>
<li>     <tt>BYTE0..BYTE3</tt>: copy only bytes with an address of 4n+0
        .. 4n+3</li>
<li>     <tt>WORD0, WORD1</tt>: copy only the lower resp. upper 16- bit
        word of a 32-bit word</li>
</ul>
    </li>
</ul>
To avoid confusions: If you use this option, the resulting binary
file will become smaller because only a part of the source will be
copied. Therefore, the resulting file will be smaller by a factor of
2 or 4 compared to<tt> ALL</tt>. This is just natural...
<p>
In case the code file does not contain an entry address, one may set
it via the<tt> -e</tt> command line option just like with P2HEX. Upon
request, P2BIN prepends the resulting image with this address. The
command line option
</p><pre>
-S

</pre>
activates this function. It expects a numeric specification ranging
from 1 to 4 as parameter which specifies the length of the address
field in bytes. This number may optionally be prepended wit a<tt>
L</tt> or<tt> B</tt> letter to set the endian order of the address.
For example, the specification<tt> B4</tt> generates a 4 byte address
in big endian order, while a specification of<tt> L2</tt> or
simply<tt> 2</tt> creates a 2 byte address in little endian order.
<p>

</p><h2><a name="sect_6_5_">6.5. AS2MSG</a></h2>
<p>
AS2MSG is not a tool in the real sense, it is a filter that was
designed to simplify the work with the assembler for (fortunate)
users of Borland Pascal 7.0. The DOS IDEs feature a 'tools' menu that
can be extended with own programs like AS. The filter allows to
directly display the error messages paired with a line specification
delivered by AS in the editor window. A new entry has to be added to
the tools menu to achieve this (Options/Tools/New). Enter the
following values:
</p><pre>
 - Title: ~m~acro assembler
 - Program path: AS
 - Command line:
      -E !1 $EDNAME $CAP MSG(AS2MSG) $NOSWAP $SAVE ALL
 - assign a hotkey if wanted (e.g. Shift-F7)

</pre>
The -E option assures that Turbo Pascal will not become puzzled by
STDIN and STDERR.
<p>
I assume that AS and AS2MSG are located in a directory listed in
the<tt> PATH</tt> variable. After pressing the appropriate hotkey (or
selecting AS from the tools menu), as will be called with the name of
the file loaded in the active editor window as parameter. The error
messages generated during assembly are redirected to a special window
that allows to browse through the errors.<tt> Ctrl-Enter</tt> jumps
to an erroneous line. The window additionally contains the statistics
AS prints at the end of an assembly. These lines obtain the dummy
line number 1.
</p><p>
<tt> TURBO.EXE</tt> (Real Mode) and<tt> BP.EXE</tt> (Protected Mode)
may be used for this way of working with AS. I recommend however BP,
as this version does not have to 'swap' half of the DOS memory before
before AS is called.
</p><p>
</p><p>

</p><h1><a name="sect_A_">A. Error Messages of AS</a></h1>
<a name="ref_ChapErrMess"></a>
<p>
Here is a list of all error messages emitted by AS. Each error
message is described by:
</p><ul>
<li> the internal error number (it is displayed only if AS is started
    with the<tt> -n</tt> option)</li>
<li> the text of the error message</li>
<li> error type:
<ul>
<li>     Warning: informs the user that a possible error was found, or
        that some inefficient binary code could be generated. The
        assembly process is not stopped.</li>
<li>     Error: an error was detected. The assembly process continues,
        but no binary code is emitted.</li>
<li>     Fatal: unrecoverable error. The assembly process is
        terminated.</li>
</ul>
 </li>
<li> reason of the error: the situation originating the error.</li>
<li> argument: a further explanation of the error message.</li>
</ul>
<p>
</p><p>
</p><p>
</p><p>
</p><dl compact="compact">
<dt>5</dt><dd>useless displacement
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        680x0, 6809 and COP8 CPUs: an address displacement of 0 was
        given. An address expression without displacement is
        generated, and a convenient number of NOPs are emitted to
        avoid phasing errors.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>10</dt><dd>short addressing possible
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        680x0-, 6502 and 68xx CPUs: a given memory location can be
        reached using short addressing. A short addressing
        instruction is emitted, together with the required number of
        NOPs to avoid phasing errors.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>20</dt><dd>short jump possible
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        680x0- and 8086 CPUs can execute jumps using a short or long
        displacement. If a shorter jump was not explicitly requested,
        in the first pass room for the long jump is reserved. Then
        the code for the shorter jump is emitted, and the remaining
        space is filled with NOPs to avoid phasing errors.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>30</dt><dd>no sharefile created, SHARED ignored
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A<tt> SHARED</tt> directive was found, but on the command
        line no options were specified, to generate a shared
        file.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>40</dt><dd>FPU possibly cannot read this value (&gt;=1E1000)
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The BCD-floating point format used by the 680x0-FPU allows
        such a large exponent, but according to the latest databooks,
        this cannot be fully interpreted. The corresponding word is
        assembled, but the associated function is not expected to
        produce the correct result.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>50</dt><dd>privileged instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A Supervisor-mode directive was used, that was not preceded
        by an explicit<tt> SUPMODE ON</tt> directive</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>60</dt><dd>distance of 0 not allowed for short jump (NOP created instead)
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A short jump with a jump distance equal to 0 is not allowed
        by 680x0 resp. COP8 processors, since the associated code
        word is used to identify long jump instruction. Instead of a
        jump instruction, AS emits a NOP</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>70</dt><dd>symbol out of wrong segment
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The symbol used as an operand comes from an address space
        that cannot be addressed together with the given
        instruction</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>75</dt><dd>segment not accessible
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The symbol used as an operand belongs to an address space
        that cannot be accessed with any of the segment registers of
        the 8086</dd>
<dt>Argument:</dt><dd>     <br>
        The name of the inaccessible segment<br>
         </dd>
</dl>
</dd>
<dt>80</dt><dd>change of symbol values forces additional pass
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol changed value, with respect to previous pass. This
        warning is emitted only if the<tt> -r</tt> option is
        used.</dd>
<dt>Argument:</dt><dd>     <br>
        name of the symbol that changed value.<br>
         </dd>
</dl>
</dd>
<dt>90</dt><dd>overlapping memory usage
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The analysis of the usage list shows that part of the program
        memory was used more than once. The reason can be an
        excessive usage of<tt> ORG</tt> directives.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>95</dt><dd>overlapping register usage
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The instruction uses whole registers or parts thereof in a
        non-allowed way.</dd>
<dt>Argument:</dt><dd>     <br>
        The offending argument<br>
         </dd>
</dl>
</dd>
<dt>100</dt><dd>none of the CASE conditions was true
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A<tt> SWITCH...CASE</tt> directive without<tt> ELSECASE</tt>
        clause was executed, and none of the<tt> CASE</tt> conditions
        was found to be true.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>110</dt><dd>page might not be addressable
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The symbol used as an operand was not found in the memory
        page defined by an<tt> ASSUME</tt> directive (ST6,
        78(C)10).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>120</dt><dd>register number must be even
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The CPU allows to concatenate only register pairs, whose
        start address is even (RR0, RR2, ..., only for Z8).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>130</dt><dd>obsolete instruction, usage discouraged
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The instruction used, although supported, was superseded by a
        new instruction. Future versions of the CPU could no more
        implement the old instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>140</dt><dd>unpredictable execution of this instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The addressing mode used for this instruction is allowed,
        however a register is used in such a way that its contents
        cannot be predicted after the execution of the
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>150</dt><dd>localization operator senseless out of a section
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        An aheaded @ must be used, so that it is explicitly referred
        to the local symbols used in the section. When the operator
        is used out of a section, there are no local symbols, because
        this operator is useless in this context.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>160</dt><dd>senseless instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The instruction used has no meaning, or it can be substituted
        by an other instruction, shorter and more rapidly
        executed.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>170</dt><dd>unknown symbol value forces additional pass
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        AS expects a forward definition of a symbol, i.e. a symbol
        was used before it was defined. A further pass must be
        executed. This warning is emitted only if the<tt> -r</tt>
        option was used.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>180</dt><dd>address is not properly aligned
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        An address was used that is not an exact multiple of the
        operand size. Although the CPU databook forbids this, the
        address could be stored in the instruction word, so AS simply
        emits a warning.</dd>
<dt>Argument:</dt><dd>     <br>
        none.<br>
         </dd>
</dl>
</dd>
<dt>190</dt><dd>I/O-address must not be used here
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The addressing mode or the address used are correct, but the
        address refers to the peripheral registers, and it cannot be
        used in this circumstance.</dd>
<dt>Argument:</dt><dd>     <br>
        none.<br>
         </dd>
</dl>
</dd>
<dt>200</dt><dd>possible pipelining effects
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A register is used in a series of instructions, so that a
        sequence of instructions probably does not generate the
        desired result. This usually happens when a register is used
        before its new content was effectively loaded in it.</dd>
<dt>Argument:</dt><dd>     <br>
        the register probably causing the problem.<br>
         </dd>
</dl>
</dd>
<dt>210</dt><dd>multiple use of address register in one instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A register used for the addressing is used once more in the
        same instruction, in a way that results in a modification of
        the register value. The resulting address does not have a
        well defined value.</dd>
<dt>Argument:</dt><dd>     <br>
        the register used more than once.<br>
         </dd>
</dl>
</dd>
<dt>220</dt><dd>memory location is not bit addressable
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        Via a<tt> SFRB</tt> statement, it was tried to declare a
        memory cell as bit addressable which is not bit addressable
        due to the 8051's architectural limits.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>230</dt><dd>stack is not empty
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        At the end of a pass, a stack defined by the program is not
        empty.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the stack and its remaining depth<br>
         </dd>
</dl>
</dd>
<dt>240</dt><dd>NUL character in string, result is undefined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A string constant contains a NUL character. Though this works
        with the Pascal version, it is a problem for the C version of
        AS since C itself terminates strings with a NUL character.
        i.e. the string would have its end for C just at this
        point...</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>250</dt><dd>instruction crosses page boundary
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The parts of a machine statement partiallly lie on different
        pages. As the CPU's instruction counter does not get
        incremented across page boundaries, the processor would fetch
        at runtime the first byte of the old page instead of the
        instruction's following byte; the program would execute
        incorrectly.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>255</dt><dd>range underflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A numeric value was below the allowed range. AS brought the
        value back into the allowed range by truncating upper bits,
        but it is not guaranteed that meaningful and correct code is
        generated by this.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>260</dt><dd>range overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A numeric value was above the allowed range. AS brought the
        value back into the allowed range by truncating upper bits,
        but it is not guaranteed that meaningful and correct code is
        generated by this.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>270</dt><dd>negative argument for DUP
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The repetition argument of a DUP directive was smaller than
        0. Analogous to a count of exactly 0, no data is stored.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>280</dt><dd>single X operand interpreted as indexed and not implicit addressing
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A single X operand may be interpreted either as register X or
        x-indexed addressing with zero displacement, since Motorola
        does not specify this variant. AS chooses the latter, which
        may not be the desired one.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>300</dt><dd>bit number will be truncated
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        This instruction only operates on byte resp. longword
        operands. bit numbers beyond 7 resp. 31 will be treated
        modulo-8 resp. modulo-32 by the CPU.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>310</dt><dd>invalid register pointer value
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        Valid values for the RP register range from 0x00 to 0x70
        resp. 0xf0, because all other areas are unused on the
        Z8.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>320</dt><dd>macro argument redefined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A macro parameter was assigned two or more different values.
        This may happen by usage of keyword arguments. The last
        argument is actually used.</dd>
<dt>Argument:</dt><dd>     <br>
        name of the macro parameter<br>
         </dd>
</dl>
</dd>
<dt>330</dt><dd>deprecated instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        This instruction is deprecated and should not be used any
        more in new programs.</dd>
<dt>Argument:</dt><dd>     <br>
        the instruction that should be used instead.<br>
         </dd>
</dl>
</dd>
<dt>340</dt><dd>source operand is longer or same size as destination operand
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The source operand's size is larger than the destination
        operand's size, expressed in bits. Sign or zero extension
        does not make sense with these arguments. See the CPU's
        reference manual for its behaviour in this situation.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>350</dt><dd>TRAP number represents valid instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        A TRAP with this number uses the same machine code as a
        machine instruction supported by the CPU.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>360</dt><dd>Padding added
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The amount of bytes placed in memory is odd; one half of the
        last 16 bit word remains unused.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>370</dt><dd>register number wraparound
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        The start register number plus the count of registers results
        in a last register beyond the end of the register bank.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument holding the register count<br>
         </dd>
</dl>
</dd>
<dt>380</dt><dd>using indexed instead of indirect addressing
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        warning</dd>
<dt>Reason:</dt><dd>     <br>
        Indirect addressing is not allowed at this place. Instead,
        indexed addressing with a dummy displacement of zero will be
        used.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument holding the indirect addressing expression<br>
         </dd>
</dl>
</dd>
<dt>1000</dt><dd>symbol double defined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A new value is assigned to a symbol, using a label or a<tt>
        EQU, PORT, SFR, LABEL, SFRB</tt> or<tt> BIT</tt> instruction:
        however this can be done only using<tt> SET/EVAL</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the offending symbol, and the line number where
        it was defined for the first time, according to the symbol
        table.<br>
         </dd>
</dl>
</dd>
<dt>1010</dt><dd>symbol undefined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol is still not defined in the symbol table, also after
        a second pass.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the undefined symbol.<br>
         </dd>
</dl>
</dd>
<dt>1020</dt><dd>invalid symbol name
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol does not fulfill the requirements that symbols must
        have to be considered valid by AS. Please pay attention that
        more stringent syntax rules exist for macros and function
        parameters.</dd>
<dt>Argument:</dt><dd>     <br>
        the wrong symbol<br>
         </dd>
</dl>
</dd>
<dt>1090</dt><dd>invalid format
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The instruction format used does not exist for this
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        the known formats for this command<br>
         </dd>
</dl>
</dd>
<dt>1100</dt><dd>useless attribute
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The instruction (processor or pseudo) cannot be used with a
        point-suffixed attribute.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1105</dt><dd>attribute may only be one character long
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The attribute following a point after an instruction must not
        be longer or shorter than one character.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1107</dt><dd>undefined attribute
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This instruction uses an invalid attribute.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1110</dt><dd>wrong number of operands
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The number of arguments issued for the instruction (processor
        or pseudo) does not conform with the accepted number of
        operands.</dd>
<dt>Argument:</dt><dd>     <br>
        the expected number of arguments resp. operands<br>
         </dd>
</dl>
</dd>
<dt>1112</dt><dd>failed splitting argument into parts
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        For some targets (e.g. DSP56000), the comma-separated have to
        be split into individual operands, which failed.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1115</dt><dd>wrong number of operations
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The number of options given with this command is not
        correct.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1120</dt><dd>addressing mode must be immediate
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The instruction can be used only with immediate operands
        (preceded by<tt> #</tt>).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1130</dt><dd>invalid operand size
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Although the operand is of the right type, it does not have
        the correct length (in bits).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1131</dt><dd>conflicting operand sizes
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The operands used have different length (in bits)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1132</dt><dd>undefined operand size
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        It is not possible to estimate, from the opcode and from the
        operands, the size of the operand (a trouble with 8086
        assembly). You must define it with a<tt> BYTE or
        WORD</tt><tt> PTR</tt> prefix.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1133</dt><dd>expected integer or string, but got floating point number
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A floating point number cannot be used as argument at this
        place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1134</dt><dd>expected integer, but got floating point number
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A floating point number cannot be used as argument at this
        place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1136</dt><dd>expected floating point number, but got string
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A string cannot be used as argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1137</dt><dd>operand type mismatch
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        Error</dd>
<dt>Reason:</dt><dd>     <br>
        The two arguments of an operator are not of same data type
        (integer/float/string).</dd>
<dt>Argument:</dt><dd>     <br>
        keines<br>
         </dd>
</dl>
</dd>
<dt>1138</dt><dd>expected string, but got integer
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An integer cannot be used as argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1139</dt><dd>expected string, but got floating point number
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An floating point number cannot be used as argument at this
        place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1140</dt><dd>too many arguments
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        No more than 20 arguments can be given to any
        instruction</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1141</dt><dd>expected integer, but got string
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A string cannot be used as argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1142</dt><dd>expected integer or floating point number, but got string
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A string cannot be used as argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1143</dt><dd>expected string
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Only a string (enclosed in single quotes) may be used as
        argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1144</dt><dd>expected integer
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Only an integer number may be used as argument at this
        place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1145</dt><dd>expected integer, floating point number or string but got register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A register symbol may not be used as argument at this
        place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1146</dt><dd>expected integer or string
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A floating point number or register symbol may not be used as
        argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1147</dt><dd>expected register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Only an register may be used as argument at this place.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1148</dt><dd>register symbol for different target
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The used register symbol was defined for a target different
        from the current one and is not compatible.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1200</dt><dd>unknown instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An instruction was used that is neither an AS instruction,
        nor a known macine instruction for the current processor
        type.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1300</dt><dd>number of opening/closing brackets does not match
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The expression parser found an expression enclosed by
        parentheses, where the number of opening and closing
        parentheses does not match.</dd>
<dt>Argument:</dt><dd>     <br>
        the wrong expression<br>
         </dd>
</dl>
</dd>
<dt>1310</dt><dd>division by 0
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An expression on the right side of a division or modulus
        operation was found to be equal to 0.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1315</dt><dd>range underflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An integer word underflowed the allowed range.</dd>
<dt>Argument:</dt><dd>     <br>
        the value of the word and the allowed minimum (in most cases,
        maybe I will complete this one day...)<br>
         </dd>
</dl>
</dd>
<dt>1320</dt><dd>range overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An integer word overflowed the allowed range.</dd>
<dt>Argument:</dt><dd>     <br>
        the value of the world, and the allowed maximum (in most
        cases, maybe I will complete this one day...)<br>
         </dd>
</dl>
</dd>
<dt>1322</dt><dd>not a power of two
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        only powers of two (1,2,4,8,...) are allowed at this
        place.</dd>
<dt>Argument:</dt><dd>     <br>
        The value in question<br>
         </dd>
</dl>
</dd>
<dt>1325</dt><dd>address is not properly aligned
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given address does not correspond with the size needed by
        the data transfer, i.e. it is not an integral multiple of the
        operand size. Not all processor types can use unaligned
        data.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1330</dt><dd>distance too big
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The displacement used for an address is too large.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1340</dt><dd>short addressing not allowed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The address of the operand is outside of the address space
        that can be accessed using short-addressing mode.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1350</dt><dd>addressing mode not allowed here
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        the addressing mode used, although usually possible, cannot
        be used here.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1351</dt><dd>address must be even
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        At this point, only even addresses are allowed, since the low
        order bits are used for other purposes or are reserved.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1352</dt><dd>address must be aligned
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        At this point, only aligned (i.e. a mulitple of 2,4,8...)
        addresses are allowed, since the low order bits are used for
        other purposes or are reserved.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1355</dt><dd>addressing mode not allowed in parallel operation
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The addressing mode(s) used are allowed in sequential, but
        not in parallel instructions</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1360</dt><dd>undefined condition
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The branch condition used for a conditional jump does not
        exist.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1365</dt><dd>incompatible conditions
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The used combination of conditions is not possible in a
        single instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        the condition where the incompatibility was detected.<br>
         </dd>
</dl>
</dd>
<dt>1366</dt><dd>unknown flag
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given flag does not exist.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument using the flag in question<br>
         </dd>
</dl>
</dd>
<dt>1367</dt><dd>duplicate flag
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given flag has already been used in the list of
        flags.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument duplicating the flag<br>
         </dd>
</dl>
</dd>
<dt>1368</dt><dd>unknown interrupt
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given interrupt does not exist.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument using the interrupt in question<br>
         </dd>
</dl>
</dd>
<dt>1369</dt><dd>duplicate interrupt
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given interrupt has already been used in the list of
        interrupt.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument duplicating the interrupt<br>
         </dd>
</dl>
</dd>
<dt>1370</dt><dd>jump distance too big
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        the jump instruction and destination are too apart to execute
        the jump with a single step</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1375</dt><dd>jump distance is odd
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Since instruction must only be located at even addresses, the
        jump distance between two instructions must always be even,
        and the LSB of the jump distance is used otherwise. This
        issue was not verified here. The reason is usually the
        presence of an odd number of data in bytes or a wrong<tt>
        ORG</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1376</dt><dd>skip target mismatch
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The gien branch target is not the address the processor would
        jump to if the skip instruction were executed.</dd>
<dt>Argument:</dt><dd>     <br>
        the given (intended) jump target<br>
         </dd>
</dl>
</dd>
<dt>1380</dt><dd>invalid argument for shifting
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        only a constant or a data register can be used for defining
        the shift size. (only for 680x0)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1390</dt><dd>operand must be in range 1..8
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        constants for shift size or<tt> ADDQ</tt> argument can be
        only within the 1..8 range (only for 680x0)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1400</dt><dd>shift amplitude too big
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        (no more used)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1410</dt><dd>invalid register list
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The register list argument of<tt> MOVEM</tt> or<tt>
        FMOVEM</tt> has a wrong format (only for 680x0)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1420</dt><dd>invalid addressing mode for CMP
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The operand combination used with the<tt> CMP</tt>
        instruction is not allowed (only for 680x0)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1430</dt><dd>invalid CPU type
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The processor type used as argument for<tt> CPU</tt> command
        is unknown to AS.</dd>
<dt>Argument:</dt><dd>     <br>
        the unknown processor type<br>
         </dd>
</dl>
</dd>
<dt>1431</dt><dd>invalid FPU type
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The co-processor type used as argument for<tt> FPU</tt>
        command is unknown to AS.</dd>
<dt>Argument:</dt><dd>     <br>
        the unknown co-processor type<br>
         </dd>
</dl>
</dd>
<dt>1432</dt><dd>invalid PMMU type
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The MMU type used as argument for<tt> PMMU</tt> command is
        unknown to AS.</dd>
<dt>Argument:</dt><dd>     <br>
        the unknown MMU type<br>
         </dd>
</dl>
</dd>
<dt>1440</dt><dd>invalid control register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The control register used by a<tt> MOVEC</tt> is not (yet)
        available for the processor defined by the<tt> CPU</tt>
        command.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1445</dt><dd>invalid register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The register used, although valid, cannot be used in this
        context.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1446</dt><dd>register(s) listed more than once
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A register appears more than once in the list of registers to
        be saved or restored.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1447</dt><dd>register bank mismatch
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An address expression uses registers from different
        banks.</dd>
<dt>Argument:</dt><dd>     <br>
        the register in question<br>
         </dd>
</dl>
</dd>
<dt>1448</dt><dd>undefined register length
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Registers of different size may be used at this place, and
        the register length cannot be deduced from the address
        alone.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>1449</dt><dd>invalid operation on register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This operation may not be applied to this register, e.g.
        because the register is read-only or write-only.</dd>
<dt>Argument:</dt><dd>     <br>
        the register in question<br>
         </dd>
</dl>
</dd>
<dt>1450</dt><dd>RESTORE without SAVE
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A<tt> RESTORE</tt> command was found, that cannot be coupled
        with a corresponding<tt> SAVE</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1460</dt><dd>missing RESTORE
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        After the assembling pass, a<tt> SAVE</tt> command was
        missing.</dd>
<dt>Argument:</dt><dd>     <br>
        none.<br>
         </dd>
</dl>
</dd>
<dt>1465</dt><dd>unknown macro control instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A macro option parameter is unknown to AS.</dd>
<dt>Argument:</dt><dd>     <br>
        the dubious option.<br>
         </dd>
</dl>
</dd>
<dt>1470</dt><dd>missing ENDIF/ENDCASE
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        after the assembling, some of the<tt> IF</tt>- or<tt>
        CASE</tt>- constructs were found without the closing
        command</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1480</dt><dd>invalid IF-structure
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The command structure in a<tt> IF</tt>- or<tt> SWITCH</tt>-
        sequence is wrong.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1483</dt><dd>section name double defined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        In this program module a section with the same name still
        exists.</dd>
<dt>Argument:</dt><dd>     <br>
        the multiple-defined name<br>
         </dd>
</dl>
</dd>
<dt>1484</dt><dd>unknown section
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        In the current scope, there are no sections with this
        name</dd>
<dt>Argument:</dt><dd>     <br>
        the unknown name<br>
         </dd>
</dl>
</dd>
<dt>1485</dt><dd>missing ENDSECTION
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Not all the sections were properly closed.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1486</dt><dd>wrong ENDSECTION
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given<tt> ENDSECTION</tt> does not refer to the most
        deeply nested one.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1487</dt><dd>ENDSECTION without SECTION
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An<tt> ENDSECTION</tt> command was found, but the associated
        section was not defined before.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1488</dt><dd>unresolved forward declaration
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol declared with a<tt> FORWARD</tt> or<tt> PUBLIC</tt>
        statement could not be resolved.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the unresolved symbol, plus the position of the
        forward declaration in the source.<br>
         </dd>
</dl>
</dd>
<dt>1489</dt><dd>conflicting FORWARD &lt;-&gt; PUBLIC-declaration
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol was defined both as public and private.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the symbol.<br>
         </dd>
</dl>
</dd>
<dt>1490</dt><dd>wrong numbers of function arguments
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The number of arguments used for referencing a function does
        not match the number of arguments defined in the function
        definition.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1495</dt><dd>unresolved literals (missing LTORG)
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        At the end of the program, or just before switching to
        another processor type, unresolved literals still
        remain.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1500</dt><dd>instruction not allowed on
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Although the instruction is correct, it cannot be used with
        the selected member of the CPU family.</dd>
<dt>Argument:</dt><dd>     <br>
        The processor variants that would support this
        instruction.<br>
         </dd>
</dl>
</dd>
<dt>1501</dt><dd>FPU instructions are not enabled
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        FPU instruction set extensions must be enabled to use this
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1502</dt><dd>PMMU instructions are not enabled
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        PMMU instruction set extensions must be enabled to use this
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1503</dt><dd>full PMMU instruction set is not enabed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This instrction is only contained in the 68851's instruction
        set, not in the reduced instruction set of the integrated
        PMMU.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1504</dt><dd>Z80 syntax was not allowed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This instruction is only allowed if Z80 syntax for 8080/8085
        instructions has been enabled.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1505</dt><dd>addressing mode not allowed on
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Although the addressing mode used is correct, it cannot be
        used with the selected member of the CPU family.</dd>
<dt>Argument:</dt><dd>     <br>
        The processor variants that would support this addressing
        mode.<br>
         </dd>
</dl>
</dd>
<dt>1506</dt><dd>not allowed in exclusive Z80 syntax mode
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This instrction is no longer allowed if exclusive Z80 syntax
        mode for 8080/8085 instructions has been set.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1507</dt><dd>FPU instruction not supported on ...
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Although this FPU instruction exists, it cannot be used on
        the selected type of FPU.</dd>
<dt>Argument:</dt><dd>     <br>
        The instruction in question<br>
         </dd>
</dl>
</dd>
<dt>1508</dt><dd>Custom instructions are not enabled
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Custom instruction set extensions must be enabled to use this
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        The instruction in question<br>
         </dd>
</dl>
</dd>
<dt>1510</dt><dd>invalid bit position
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Either the number of bits specified is not allowed, or the
        command is not completely specified.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1520</dt><dd>only ON/OFF allowed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This pseudo command accepts as argument either<tt> ON</tt>
        or<tt> OFF</tt></dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1530</dt><dd>stack is empty or undefined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        It was tried to access a stack via a<tt> POPV</tt>
        instruction that was either never defined or already
        emptied.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the stack in question<br>
         </dd>
</dl>
</dd>
<dt>1540</dt><dd>not exactly one bit set
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Not exactly one bit was set in a mask passed to the<tt>
        BITPOS</tt> function.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1550</dt><dd>ENDSTRUCT without STRUCT
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An<tt> ENDSTRUCT</tt> instruction was found though there is
        currently no structure definition in progress.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1551</dt><dd>open structure definition
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        After end of assembly, not all<tt> STRUCT</tt> instructions
        have been closed with appropriate<tt> ENDSTRUCT</tt>s.</dd>
<dt>Argument:</dt><dd>     <br>
        the innermost, unfinished structure definition<br>
         </dd>
</dl>
</dd>
<dt>1552</dt><dd>wrong ENDSTRUCT
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        the name parameter of an<tt> ENDSTRUCT</tt> instruction does
        not correspond to the innermost open structure
        definition.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1553</dt><dd>phase definition not allowed in structure definition
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        What should I say about that?<tt> PHASE</tt> inside a record
        simply does not make sense and only leads to
        confusion...</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1554</dt><dd>invalid<tt> STRUCT</tt> directive
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Only<tt> EXTNAMES</tt>,<tt> NOEXTNAMES</tt>,<tt> DOTS</tt>,
        and<tt> NODOTS</tt> are allowed as directives of a<tt>
        STRUCT</tt> statement.</dd>
<dt>Argument:</dt><dd>     <br>
        the unknown directive<br>
         </dd>
</dl>
</dd>
<dt>1555</dt><dd>structure re-defined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A structure of this name has already been defined.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the structure<br>
         </dd>
</dl>
</dd>
<dt>1556</dt><dd>unresolvable structure element reference
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An element in a structure references to another element,
        however this referenced element was not defined or itself has
        an unresolvable reference.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the element itself and the referenced one<br>
         </dd>
</dl>
</dd>
<dt>1557</dt><dd>duplicate structure element
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The structure already contains an element of this name.</dd>
<dt>Argument:</dt><dd>     <br>
        name of the element<br>
         </dd>
</dl>
</dd>
<dt>1560</dt><dd>instruction is not repeatable
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This machine instruction cannot be repeated via a<tt>
        RPT</tt> construct.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1600</dt><dd>unexpected end of file
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        It was tried to read past the end of a file with a<tt>
        BINCLUDE</tt> statement.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1700</dt><dd>ROM-offset must be in range 0..63
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The ROM table of the 680x0 coprocessor has only 64
        entries.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1710</dt><dd>invalid function code
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The only function code arguments allowed are SFC, DFC, a data
        register, or a constant in the interval of 0..15 (only for
        680x0 MMU).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1720</dt><dd>invalid function code mask
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Only a number in the interval 0..15 can be used as function
        code mask (only for 680x0 MMU)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1730</dt><dd>invalid MMU register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The MMU does not have a register with this name (only for
        680x0 MMU).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1740</dt><dd>level must be in range 0..7
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The level for<tt> PTESTW</tt> and<tt> PTESTR</tt> must be a
        constant in the range of 0...7 (only for 680x0 MMU).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1750</dt><dd>invalid bit mask
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The bit mask used for a bit field command has a wrong format
        (only for 680x0).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1760</dt><dd>invalid register pair
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The register here defined cannot be used in this context, or
        there is a syntactic error (only for 680x0).</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1800</dt><dd>open macro definition
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An incomplete macro definition was found. Probably an<tt>
        ENDM</tt> statement is missing.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1801</dt><dd>IRP without ENDM
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An incomplete IRP block was found. Probably an<tt> ENDM</tt>
        statement is missing.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1802</dt><dd>IRPC without ENDM
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An incomplete IRPC block was found. Probably an<tt> ENDM</tt>
        statement is missing.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1803</dt><dd>REPT without ENDM
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An incomplete REPT block was found. Probably an<tt> ENDM</tt>
        statement is missing.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1804</dt><dd>WHILE without ENDM
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An incomplete WHILE block was found. Probably an<tt>
        ENDM</tt> statement is missing.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1805</dt><dd>EXITM not called from within macro
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        <tt>EXITM</tt> is designed to terminate a macro expansion.
        This instruction only makes sense within macros and an
        attempt was made to call it in the absence of macros.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1810</dt><dd>more than 10 macro parameters
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A macro cannot have more than 10 parameters</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1811</dt><dd>keyword argument not defined in macro
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        a keyword argument referred to a parameter the called macro
        does not provide.</dd>
<dt>Argument:</dt><dd>     <br>
        used keyword resp. macro parameter<br>
         </dd>
</dl>
</dd>
<dt>1812</dt><dd>positional argument no longer allowed after keyword argument
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        Fehler</dd>
<dt>Reason:</dt><dd>     <br>
        position and keyword arguments may be mixed in one macro
        call, however only keyword arguments are allowed after the
        first keyword argument.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1815</dt><dd>macro double defined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A macro was defined more than once in a program section.</dd>
<dt>Argument:</dt><dd>     <br>
        the multiply defined macro name.<br>
         </dd>
</dl>
</dd>
<dt>1820</dt><dd>expression must be evaluatable in first pass
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The command used has an influence on the length of the
        emitted code, so that forward references cannot be resolved
        here.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1830</dt><dd>too many nested IFs
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        (no more implemented)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1840</dt><dd>ELSEIF/ENDIF without IF
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A<tt> ELSEIF</tt>- or<tt> ENDIF</tt>- command was found, that
        is not preceded by an<tt> IF</tt>- command.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1850</dt><dd>nested / recursive macro call
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        (no more implemented)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1860</dt><dd>unknown function
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The function invoked was not defined before.</dd>
<dt>Argument:</dt><dd>     <br>
        The name of the unknown function<br>
         </dd>
</dl>
</dd>
<dt>1870</dt><dd>function argument out of definition range
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The argument does not belong to the allowed argument range
        associated to the referenced function.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1880</dt><dd>floating point overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Although the argument is within the range allowed to the
        function arguments, the result is not valid</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1890</dt><dd>invalid value pair
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The base-exponent pair used in the expression cannot be
        computed</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1900</dt><dd>instruction must not start on this address
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        No jumps can be performed by the selected CPU from this
        address.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1905</dt><dd>invalid jump target
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        No jumps can be performed by the selected CPU to this
        address.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1910</dt><dd>jump target not on same page
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Jump command and destination must be in the same memory
        page.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1911</dt><dd>jump target not in same section
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Jump command and destination must be in the same (64K) memory
        section.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1920</dt><dd>code overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An attempt was made to generate more than 1024 code or data
        bytes in a single memory page.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1925</dt><dd>address overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The address space for the processor type actually used was
        filled beyond the maximum allowed limit.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1930</dt><dd>constants and placeholders cannot be mixed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Instructions that reserve memory, and instructions that
        define constants cannot be mixed in a single pseudo
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1940</dt><dd>code must not be generated in structure definition
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        a<tt> STRUCT</tt> construct is only designed to describe a
        data structure and not to create one; therefore, no
        instructions are allowed that generate code.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1950</dt><dd>parallel construct not possible here
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Either these instructions cannot be executed in parallel, or
        they are not close enough each other, to do parallel
        execution.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1960</dt><dd>invalid segment
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The referenced segment cannot be used here.</dd>
<dt>Argument:</dt><dd>     <br>
        The name of the segment used.<br>
         </dd>
</dl>
</dd>
<dt>1961</dt><dd>unknown segment
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The segment referenced with a<tt> SEGMENT</tt> command does
        not exist for the CPU used.</dd>
<dt>Argument:</dt><dd>     <br>
        The name of the segment used<br>
         </dd>
</dl>
</dd>
<dt>1962</dt><dd>unknown segment register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The segment referenced here does not exist (8086 only)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1970</dt><dd>invalid string
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The string has an invalid format.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1980</dt><dd>invalid register name
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The referenced register does not exist, or it cannot be used
        here.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1985</dt><dd>invalid argument
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The command used cannot be performed with the<tt>
        REP</tt>-prefix.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1990</dt><dd>indirect mode not allowed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Indirect addressing cannot be used in this way</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1995</dt><dd>not allowed in current segment
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        (no more implemented)</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1996</dt><dd>not allowed in maximum mode
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This register can be used only in minimum mode</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>1997</dt><dd>not allowed in minimum mode
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This register can be used only in maximum mode</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2000</dt><dd>execution packet crosses address boundary
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An execution packet must not cross a 32-byte address
        boundary</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2001</dt><dd>multiple use of same execution unit
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        One of the CPU's execution units was used more than once in
        an execution packet</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the execution unit<br>
         </dd>
</dl>
</dd>
<dt>2002</dt><dd>multiple long read operations
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An execution packet contains more than one long read
        operation, which is not allowed</dd>
<dt>Argument:</dt><dd>     <br>
        one of the functional units executing a long read<br>
         </dd>
</dl>
</dd>
<dt>2003</dt><dd>multiple long write operations
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An execution packet contains more than one long write
        operation, which is not allowed</dd>
<dt>Argument:</dt><dd>     <br>
        one of the functional units executing a long write<br>
         </dd>
</dl>
</dd>
<dt>2004</dt><dd>long read with write operation
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An execution packet contains both a long read and a write
        operation, which is not allowed.</dd>
<dt>Argument:</dt><dd>     <br>
        one of the execution units executing the conflicting
        operations<br>
         </dd>
</dl>
</dd>
<dt>2005</dt><dd>too many reads of one register
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The same register was referenced more than four times in the
        same execution packet.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the register referenced too often<br>
         </dd>
</dl>
</dd>
<dt>2006</dt><dd>overlapping destinations
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The same register was written more than one time in the same
        instruction packet, which is not allowed.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the register in question<br>
         </dd>
</dl>
</dd>
<dt>2008</dt><dd>too many absolute branches in one execution packet
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An execution packet contains more than one direct branch,
        which is not allowed.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2009</dt><dd>instruction cannot be executed on this unit
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This instruction cannot be executed on this functional
        unit.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2010</dt><dd>invalid escape sequence
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The special character defined using a backslash sequence is
        not defined</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2020</dt><dd>invalid combination of prefixes
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The prefix combination here defined is not allowed, or it
        cannot be translated into binary code</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2030</dt><dd>constants cannot be redefined as variables
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol that has once been declared as constant with<tt>
        EQU</tt> must not be modified afterwards with<tt>
        SET</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the symbol in question<br>
         </dd>
</dl>
</dd>
<dt>2035</dt><dd>variables cannot be redefined as constants
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A symbol that has once been declared as variable with<tt>
        SET</tt> must not be redeclared afterwards as constant (e.g.
        with<tt> EQU</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        the name of the symbol in question<br>
         </dd>
</dl>
</dd>
<dt>2040</dt><dd>structure name missing
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A structure's definition lacks the identifier name for the
        new structure</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2050</dt><dd>empty argument
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Empty strings must not be used in the argument list for this
        statement</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2060</dt><dd>unimplemented instruction
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The used machinen instruction is principally known to the
        assembler, however, it is currently not implemented, du to
        lack of documentation from the processor manufacturer.</dd>
<dt>Argument:</dt><dd>     <br>
        the instruction that was used<br>
         </dd>
</dl>
</dd>
<dt>2070</dt><dd>unnamed structure is not part of another structure
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An unnamed structure or union always must be part of another
        structure or union.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2080</dt><dd>STRUCT ended by ENDUNION
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        ENDUNION may only be used to finalize the definition of a
        union and not of a structure.</dd>
<dt>Argument:</dt><dd>     <br>
        name of the structure (if available)<br>
         </dd>
</dl>
</dd>
<dt>2090</dt><dd>Memory address mot on active memory page
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The target address is not within the page that is currently
        addressable via the page register.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2100</dt><dd>unknown macro expansion argument
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An argument to<tt> MACEXP</tt> could not be interpreted.</dd>
<dt>Argument:</dt><dd>     <br>
        the unknown argument<br>
         </dd>
</dl>
</dd>
<dt>2105</dt><dd>too many macro expansion arguments
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The number macro expansion arguments exceeds the allowed
        limit.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument that busted the limit<br>
         </dd>
</dl>
</dd>
<dt>2110</dt><dd>contradicting macro expansion specifications
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        A specification about macro expansion and its precise
        opposite may not be used in the same<tt> MACEXP</tt>
        instruction.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2130</dt><dd>erwarteter Fehler nicht eingetreten
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An error or warning announced via<tt> EXPECT</tt> did not
        occur in the instruction block terminated via<tt>
        ENDEXPECT</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        The error that was expected<br>
         </dd>
</dl>
</dd>
<dt>2140</dt><dd>nesting of EXPECT/ENDEXPECT not allowed
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Code blocks framed via<tt> EXPECT/ENDEXPECT</tt> must not
        contain nested<tt> EXPECT/ENDEXPECT</tt> blocks.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2150</dt><dd>missing ENDEXPECT
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        An instruction block opened via<tt> EXPECT</tt> was not
        closed via<tt> ENDEXPECT</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2160</dt><dd>ENDEXPECT without EXPECT
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        There is no matching previous<tt> EXPECT</tt> to an<tt>
        ENDEXPECT</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2170</dt><dd>no default checkpoint register defined
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        No checkpoint register was specified for a type 12
        instruction and no default checkpoint register had previously
        been defined via the<tt> CKPT</tt> statement.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2180</dt><dd>invalid bit field
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The bit field is not in the required syntax<tt>
        (start,count)</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2190</dt><dd>argument value missing
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Arguments must have the form 'variable=value'.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2200</dt><dd>unknown argument
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        This variable is not supported by the selected target
        platform.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2210</dt><dd>index register must be 16 bit
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Z8000 index registers must have a size of 16 bits (Rn).</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2211</dt><dd>I/O address register must be 16 bit
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Z8000 registers used to address I/O addresses must have a
        size of 16 bits (Rn).</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2212</dt><dd>address register in segmented mode must be 32 bit
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Z8000 registers to address memory in segmented mode must have
        a size of 32 bits (RRn).</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2213</dt><dd>address register in non-segmented mode must be 16 bit
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Z8000 registers to address memory in non-segmented mode must
        have a size of 16 bits (Rn).</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2220</dt><dd>invalid structure argument
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The argument does not match any pattern of allowed arguments
        when expanding a structure.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2221</dt><dd>too many array dimensions
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Arrays of structures are limited to being
        three-dimensional.</dd>
<dt>Argument:</dt><dd>     <br>
        the dimension argument that was 'too much'<br>
         </dd>
</dl>
</dd>
<dt>2230</dt><dd>unknown integer notation
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given integer notation does not exist, or the leading
        plus resp. minus sign is missing.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2231</dt><dd>invalid list of integer notations
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The requested changes to the list of usable integer notations
        cannot be applied, because they would result in a
        contradiction. Currently, the only such case are 0hex und
        0oct which cannot be used at the same time.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>2240</dt><dd>invalid scale
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The given argument cannot be used as scaling factor.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2250</dt><dd>conflicting string options
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The string option is in contradiction to a previously given
        option.</dd>
<dt>Argument:</dt><dd>     <br>
        the option in question<br>
         </dd>
</dl>
</dd>
<dt>2251</dt><dd>unknown string option
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The string option does not exist.</dd>
<dt>Argument:</dt><dd>     <br>
        the option in question<br>
         </dd>
</dl>
</dd>
<dt>2252</dt><dd>invalid cache invalidate mode
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        Only data, instruction, or both caches may be
        invalidated.</dd>
<dt>Argument:</dt><dd>     <br>
        the argument in question<br>
         </dd>
</dl>
</dd>
<dt>2253</dt><dd>invalid config list
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The configuration list is either syntactically incorrect or
        contains invalid elements.</dd>
<dt>Argument:</dt><dd>     <br>
        The list in question or one of its elements<br>
         </dd>
</dl>
</dd>
<dt>2254</dt><dd>conflicting config options
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The option is in contradiction to a previously given option
        or repeats a previous one.</dd>
<dt>Argument:</dt><dd>     <br>
        the option in question<br>
         </dd>
</dl>
</dd>
<dt>2255</dt><dd>unknown config option
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        error</dd>
<dt>Reason:</dt><dd>     <br>
        The option does not exist.</dd>
<dt>Argument:</dt><dd>     <br>
        the option in question<br>
         </dd>
</dl>
</dd>
<dt>10001</dt><dd>error in opening file
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        An error was detected while trying to open a file for
        input.</dd>
<dt>Argument:</dt><dd>     <br>
        description of the I/O error<br>
         </dd>
</dl>
</dd>
<dt>10002</dt><dd>error in writing listing
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        An error happened while AS was writing the listing file.</dd>
<dt>Argument:</dt><dd>     <br>
        description of the I/O error<br>
         </dd>
</dl>
</dd>
<dt>10003</dt><dd>file read error
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        An error was detected while reading a source file.</dd>
<dt>Argument:</dt><dd>     <br>
        description of the I/O error<br>
         </dd>
</dl>
</dd>
<dt>10004</dt><dd>file write error
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        While AS was writing a code or share file, an error
        happened.</dd>
<dt>Argument:</dt><dd>     <br>
        description of the I/O error<br>
         </dd>
</dl>
</dd>
<dt>10006</dt><dd>heap overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        The memory available is not enough to store all the data
        needed by AS. Try using the DPMI or OS/2 version of AS.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>10007</dt><dd>stack overflow
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        The program stack crashed, because too complex formulas, or a
        bad disposition of symbols and/or macros were used. Try
        again, using AS with the option<tt> -A</tt>.</dd>
<dt>Argument:</dt><dd>     <br>
        none<br>
         </dd>
</dl>
</dd>
<dt>10008</dt><dd>INCLUDE nested too deeply
<dl compact="compact">
<dt>Type:</dt><dd>     <br>
        fatal</dd>
<dt>Reason:</dt><dd>     <br>
        The include nesting depth has exceeded the given limit (200
        by default). The limit may be raised via the<tt>
        -maxinclevel</tt> command line argument, a wrong (recursive)
        inclusion is however the more probable cause.</dd>
<dt>Argument:</dt><dd>     <br>
        the INCLUDE statement that exceeded the limit<br>
         </dd>
</dl>
</dd>
</dl>
<p>

</p><h1><a name="sect_B_">B. I/O Error Messages</a></h1>
<p>
The following error messages are generated not only by AS, but also
by the auxiliary programs, like PLIST, BIND, P2HEX, and P2BIN. Only
the most probable error messages are here explained. Should you meet
an undocumented error message, then you probably met a program bug!
Please inform us immediately about this!!
</p><p>
</p><dl compact="compact">
<dt>2</dt><dd>file not found<br>
    The file requested does not exist, or it is stored on another
    drive.</dd>
<dt>3</dt><dd>path not found<br>
    The path of a file does not exist, or it is on another
    drive.</dd>
<dt>4</dt><dd>too much open files<br>
    There are no more file handles available to DOS. Increase their
    number changing the value associated to<tt> FILES=</tt> in the
    file<tt> CONFIG.SYS</tt>.</dd>
<dt>5</dt><dd>file access not allowed<br>
    Either the network access rights do not allow the file access, or
    an attempt was done to rewrite or rename a protected file.</dd>
<dt>6</dt><dd>invalid file handler</dd>
<dt>12</dt><dd>invalid access mode</dd>
<dt>15</dt><dd>invalid drive letter<br>
    The required drive does not exist.</dd>
<dt>16</dt><dd>The file cannot be deleted</dd>
<dt>17</dt><dd>RENAME cannot be done on this drive</dd>
<dt>100</dt><dd>Unexpected end of file<br>
    A file access tried to go beyond the end of file, although
    according to its structure this should not happen. The file is
    probably corrupted.</dd>
<dt>101</dt><dd>disk full<br>
    This is self explaining! Please, clean up !</dd>
<dt>102</dt><dd>ASSIGN failed</dd>
<dt>103</dt><dd>file not open</dd>
<dt>104</dt><dd>file not open for reading</dd>
<dt>105</dt><dd>file not open for writing</dd>
<dt>106</dt><dd>invalid numerical format</dd>
<dt>150</dt><dd>the disk is write-protected<br>
    When you don't use a hard disk as work medium storage, you should
    sometimes remove the protecting tab from your diskette!</dd>
<dt>151</dt><dd>unknown device<br>
    you tried to access a peripheral unit that is unknown to DOS.
    This should not usually happen, since the name should be
    automatically interpreted as a filename.</dd>
<dt>152</dt><dd>drive not ready<br>
    close the disk drive door.</dd>
<dt>153</dt><dd>unknown DOS function</dd>
<dt>154</dt><dd>invalid disk checksum<br>
    A bad read error on the disk. Try again; if nothing changes,
    reformat the floppy disk resp. begin to take care of your hard
    disk!</dd>
<dt>155</dt><dd>invalid FCB</dd>
<dt>156</dt><dd>position error<br>
    the diskette/hard disk controller has not found a disk track. See
    nr. 154 !</dd>
<dt>157</dt><dd>format unknown<br>
    DOS cannot read the diskette format</dd>
<dt>158</dt><dd>sector not found<br>
    As nr. 156, but the controller this time could not find a disk
    sector in the track.</dd>
<dt>159</dt><dd>end of paper<br>
    You probably redirected the output of AS to a printer. Assembler
    printout can be veeery long...</dd>
<dt>160</dt><dd>device read error<br>
    The operating system detected an unclassificable read error</dd>
<dt>161</dt><dd>device write error<br>
    The operating system detected an unclassificable write error</dd>
<dt>162</dt><dd>general failure error<br>
    The operating system has absolutely no idea of what happened to
    the device.</dd>
</dl>
<p>

</p><h1><a name="sect_C_">C. Frequently Asked Questions</a></h1>
<p>
In this chapter, I tried to collect some questions that arise very
often together with their answers. Answers to the problems presented
in this chapter might also be found at other places in this manual,
but one maybe does not find them immediately...
</p><p>
</p><dl compact="compact">
<dt>Q:</dt><dd>I am fed up with DOS. Are there versions of AS for other operating
    systems ?</dd>
<dt>A:</dt><dd>Apart from the protected mode version that offers more memory when
    working under DOS, ports exist for OS/2 and Unix systems like
    Linux (currently in test phase). Versions that help operating
    system manufacturers located in Redmont to become even richer are
    currently not planned. I will gladly make the sources of AS
    available for someone else who wants to become active in this
    direction. The C variant is probably the best way to start a port
    into this direction. He should however not expect support from me
    that goes beyond the sources themselves...
    </dd>
<dt>Q:</dt><dd>Is a support of the XYZ processor planned for AS?</dd>
<dt>A:</dt><dd>New processors are appearing all the time and I am trying to keep
    pace by extending AS. The stack on my desk labeled ''undone''
    however never goes below the 4 inch watermark... Wishes coming
    from users of course play an important role in the decision which
    candidates will be done first. The internet and the rising amount
    of documentation published in electronic form make the
    acquisition of data books easier than it used to be, but it
    always becomes difficult when more exotic or older architectures
    are wanted. If the processor family in question is not in the
    list of families that are planned (see chapter 1), adding a data
    book to a request will have a highly positive influence.
    Borrowing books is also fine.
    </dd>
<dt>Q:</dt><dd>Having a free assembler is really fine, but I now also had use for a
    disassembler...and a debugger...a simulator would also really be
    cool!</dd>
<dt>A:</dt><dd>AS is a project I work on in leisure time, the time I have when I do
    not have to care of how to make my living. AS already takes a
    significant portion of that time, and sometimes I make a time-out
    to use my soldering iron, enjoy a Tangerine Dream CD, watch TV,
    or simply to fulfill some basic human needs... I once started to
    write the concept of a disassembler that was designed to create
    source code that can be assembled and that automatically
    separates code and data areas. I quickly stopped this project
    again when I realized that the remaining time simply did not
    suffice. I prefer to work on one good program than to struggle
    for half a dozen of mediocre apps. Regarded that way, the answer
    to the question is unfortunately ''no''...
    </dd>
<dt>Q:</dt><dd>The screen output of AS is messed up with strange characters, e.g.
    arrows and brackets. Why?</dd>
<dt>A:</dt><dd>AS will by default use some ANSI control sequences for screen
    control. These sequences will appear unfiltered on your screen if
    you did not install an ANSI driver. Either install an ANSI driver
    or use the DOS command<tt> SET USEANSI=N</tt> to turn the
    sequences off.
    </dd>
<dt>Q:</dt><dd>AS suddenly terminates with a stack overflow error while assembling
    my program. Did my program become to large?</dd>
<dt>A:</dt><dd>Yes and No. Your program's symbol table has grown a bit
    unsymmetrically what lead to high recursion depths while
    accessing the table. Errors of this type especially happen in the
    16-bit-OS/2 version of AS which has a very limited stack area.
    Restart AS with the<tt> -A</tt> command line switch. If this does
    not help, too complex formula expression are also a possible
    cause of stack overflows. In such a case, try to split the
    formula into intermediate steps.
    </dd>
<dt>Q:</dt><dd>It seems that AS does not assemble my program up to the end. It
    worked however with an older version of AS (1.39).</dd>
<dt>A:</dt><dd>Newer versions of AS no longer ignore the<tt> END</tt> statement;
    they actually terminate assembly when an<tt> END</tt> is
    encountered. Especially older include files made by some users
    tended to contain an<tt> END</tt> statement at their end. Simply
    remove the superfluous<tt> END</tt> statements.
    </dd>
<dt>Q:</dt><dd>I made an assembly listing of my program because I had some more
    complicated assembly errors in my program. Upon closer
    investigation of the listing, I found that some branches do not
    point to the desired target but instead to themselves!</dd>
<dt>A:</dt><dd>This effect happens in case of forward jumps in the first pass. The
    formula parser does not yet have the target address in its symbol
    table, and as it is a completely independent module, it has to
    think of a value that even does not hurt relative branches with
    short displacement lengths. This is the current program counter
    itself...in the second pass, the correct values would have
    appeared, but the second pass did not happen due to errors in the
    first one. Correct the other errors first so that AS gets into
    the second pass, and the listing should look more meaningful
    again.
    </dd>
<dt>Q:</dt><dd>Assembly of my program works perfectly, however I get an empty file
    when I try to convert it with P2HEX or P2BIN.</dd>
<dt>A:</dt><dd>You probably did not set the address filter correctly. By default,
    the filter is disabled, i.e. all data is copied to the HEX or
    binary file. It is however possible to create an empty file if a
    manually set range does not fit to the addresses used by your
    program.
    </dd>
<dt>Q:</dt><dd>I cannot enter the dollar character when using P2BIN or P2HEX under
    Unix. The automatic address range setting does not work, instead
    I get strange error messages.</dd>
<dt>A:</dt><dd>Unix shells use the dollar character for expansion of shell
    variables. If you want to pass a dollar character to an
    application, prefix it with a backslash (\). In the special case
    of the address range specification for P2HEX and P2BIN, you may
    also use<tt> 0x</tt> instead of the dollar character, which
    removes this prblen completely.</dd>
<dt>Q:</dt><dd>I use AS on a Linux system, the loader program for my target system
    however runs on a Windows machine. To simplify things, both
    systems access the same network drive. Unfortunately, the Windows
    side refuses to read the hex files created by the Linux side
    :-(</dd>
<dt>A:</dt><dd>Windows and Linux systems use slightly different formats for text
    files (hex files are a sort of text files). Windows terminates
    every line with the characters CR (carriage return) and LF
    (linefeed), however Linux only uses the linefeed. It depends on
    the Windows program's 'goodwill' whether it will accept text
    files in the Linux format or not. If not, it is possible to
    transfer the files via FTP in ASCII mode instead of a network
    drive. Alternatively, the hex files can be converted to the
    Windows format. For example, the program<em> unix2dos</em> can be
    used to do this, or a small script under Linux:
<pre>
          awk '{print $0"\r"}' test.hex &gt;test_cr.hex

</pre>
    </dd>
</dl>
<p>

</p><h1><a name="sect_D_">D. Pseudo-Instructions and Integer Syntax</a></h1>
<a name="ref_SectPseudoInst"></a>
<p>
This appendix is designed as a quick reference to look up all pseudo
instructions provided by AS. The list is ordered in two parts: The
first part lists the instructions that are always available, and this
list is followed by lists that enumerate the instructions
additionally available for a certain processor family.
</p><p>

</p><h4>Instructions that are always available</h4>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> =</tt></td><td nowrap="nowrap"><tt> :=</tt></td><td nowrap="nowrap"><tt> ALIGN</tt></td><td nowrap="nowrap"><tt> BINCLUDE</tt></td><td nowrap="nowrap"><tt> CASE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> CHARSET</tt></td><td nowrap="nowrap"><tt> CPU</tt></td><td nowrap="nowrap"><tt> DEPHASE</tt></td><td nowrap="nowrap"><tt> DOTTEDSTRUCTS</tt></td><td nowrap="nowrap"><tt> ELSE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> ELSECASE</tt></td><td nowrap="nowrap"><tt> ELSEIF</tt></td><td nowrap="nowrap"><tt> END</tt></td><td nowrap="nowrap"><tt> ENDCASE</tt></td><td nowrap="nowrap"><tt> ENDIF</tt></td></tr>
<tr><td nowrap="nowrap"><tt> ENDM</tt></td><td nowrap="nowrap"><tt> ENDS</tt></td><td nowrap="nowrap"><tt> ENDSECTION</tt></td><td nowrap="nowrap"><tt> ENDSTRUCT</tt></td><td nowrap="nowrap"><tt> ENUM</tt></td></tr>
<tr><td nowrap="nowrap"><tt> ENUMCONF</tt></td><td nowrap="nowrap"><tt> ERROR</tt></td><td nowrap="nowrap"><tt> EQU</tt></td><td nowrap="nowrap"><tt> EXITM</tt></td><td nowrap="nowrap"><tt> FATAL</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FORWARD</tt></td><td nowrap="nowrap"><tt> FUNCTION</tt></td><td nowrap="nowrap"><tt> GLOBAL</tt></td><td nowrap="nowrap"><tt> IF</tt></td><td nowrap="nowrap"><tt> IFB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> IFDEF</tt></td><td nowrap="nowrap"><tt> IFEXIST</tt></td><td nowrap="nowrap"><tt> IFNB</tt></td><td nowrap="nowrap"><tt> IFNDEF</tt></td><td nowrap="nowrap"><tt> IFNEXIST</tt></td></tr>
<tr><td nowrap="nowrap"><tt> IFNUSED</tt></td><td nowrap="nowrap"><tt> IFUSED</tt></td><td nowrap="nowrap"><tt> INCLUDE</tt></td><td nowrap="nowrap"><tt> INTSYNTAX</tt></td><td nowrap="nowrap"><tt> IRP</tt></td></tr>
<tr><td nowrap="nowrap"><tt> LABEL</tt></td><td nowrap="nowrap"><tt> LISTING</tt></td><td nowrap="nowrap"><tt> MACEXP</tt></td><td nowrap="nowrap"><tt> MACECP_DFT</tt></td><td nowrap="nowrap"><tt> MACEXP_OVR</tt></td></tr>
<tr><td nowrap="nowrap"><tt> MACRO</tt></td><td nowrap="nowrap"><tt> MESSAGE</tt></td><td nowrap="nowrap"><tt> NEWPAGE</tt></td><td nowrap="nowrap"><tt> NEXTENUM</tt></td><td nowrap="nowrap"><tt> ORG</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PAGE</tt></td><td nowrap="nowrap"><tt> PHASE</tt></td><td nowrap="nowrap"><tt> POPV</tt></td><td nowrap="nowrap"><tt> PUSHV</tt></td><td nowrap="nowrap"><tt> PRTEXIT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PRTINIT</tt></td><td nowrap="nowrap"><tt> PUBLIC</tt></td><td nowrap="nowrap"><tt> READ</tt></td><td nowrap="nowrap"><tt> RELAXED</tt></td><td nowrap="nowrap"><tt> REPT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> RESTORE</tt></td><td nowrap="nowrap"><tt> RORG</tt></td><td nowrap="nowrap"><tt> SAVE</tt></td><td nowrap="nowrap"><tt> SECTION</tt></td><td nowrap="nowrap"><tt> SEGMENT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> SHARED</tt></td><td nowrap="nowrap"><tt> STRUC</tt></td><td nowrap="nowrap"><tt> STRUCT</tt></td><td nowrap="nowrap"><tt> SWITCH</tt></td><td nowrap="nowrap"><tt> TITLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> UNION</tt></td><td nowrap="nowrap"><tt> WARNING</tt></td><td nowrap="nowrap"><tt> WHILE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt> Additionally, there are:
<ul>
<li> <tt>SET</tt> resp.<tt> EVAL</tt>, in case<tt> SET</tt> is already a
    machine instruction.</li>
<li> <tt>SHIFT</tt> resp.<tt> SHFT</tt>, in case<tt> SHIFT</tt> is
    already a machine instruction.</li>
</ul>
<p>

</p><h4>Motorola 680x0/MCF5xxx</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> FULLPMMU</tt></td><td nowrap="nowrap"><tt> FPU</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PMMU</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola 56xxx</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DC</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> XSFR</tt></td><td nowrap="nowrap"><tt> YSFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>PowerPC</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIGENDIAN</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola M-Core</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola XGATE</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola 68xx/Hitachi 63xx</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DFS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola/Freescale 6805/68HC(S)08</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DFS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola 6809/Hitachi 6309</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola 68HC12</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DFS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS[.&lt;size&gt;] DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NXP S12Z</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DEFBIT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DEFBITFIELD</tt></td><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Motorola 68HC16</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Freescale 68RS08</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Hitachi H8/300(L/H)</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> MAXMODE</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td></tr>
<tr><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Hitachi H8/500</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td></tr>
<tr><td nowrap="nowrap"><tt> MAXMODE</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Hitachi SH7x00</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> COMPLITERALS</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> LTORG</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td></tr>
<tr><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Hitachi HMCS400</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Hitachi H16</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>65xx/MELPS-740</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> FCB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>65816/MELPS-7700</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Mitsubishi MELPS-4500</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Mitsubishi M16</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Mitsubishi M16C</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel 4004</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel 8008</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td><td nowrap="nowrap"><tt> Z80SYNTAX</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel MCS-48</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel MCS-(2)51</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIGENDIAN</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> SFRB</tt></td><td nowrap="nowrap"><tt> SRCMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel MCS-96</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>

</p><h4>Intel 8080/8085</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel 8086/80186/NEC V30/35</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intel i960</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FPU</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SPACE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> SUPMODE</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Signetics 8X30x</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> LIV</tt></td><td nowrap="nowrap"><tt> RIV</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Signetics 2650</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Philips XA</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DD</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> PORT</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Atmel AVR</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PACKING</tt></td></tr>
<tr><td nowrap="nowrap"><tt> PORT</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>AMD 29K</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> EMULATED</tt></td><td nowrap="nowrap"><tt> ERG</tt></td></tr>
<tr><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Siemens 80C166/167</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Zilog Zx80</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DEFB</tt></td><td nowrap="nowrap"><tt> DEFW</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> EXTMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> LWORDMODE</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Zilog Z8</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DEFBIT</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Zilog Z8000</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DEFBIT</tt></td><td nowrap="nowrap"><tt> DEFBITB</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Xilinx KCPSM</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> CONSTANT</tt></td><td nowrap="nowrap"><tt> NAMEREG</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Xilinx KCPSM3</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> CONSTANT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> NAMEREG</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>LatticeMico8</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Toshiba TLCS-900</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> MAXIMUM</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Toshiba TLCS-90</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Toshiba TLCS-870(/C)</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Toshiba TLCS-47(0(A))</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Toshiba TLCS-9000</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Toshiba TC9331</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Microchip PIC16C5x</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> ZERO</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Microchip PIC16C8x</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> ZERO</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Microchip PIC17C42</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> ZERO</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Parallax SX20</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> ZERO</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>SGS-Thomson ST6</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASCII</tt></td><td nowrap="nowrap"><tt> ASCIZ</tt></td><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> BLOCK</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>SGS-Thomson ST7/STM8</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DC[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> DS[.&lt;size&gt;]</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>SGS-Thomson ST9</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>6804</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADR</tt></td><td nowrap="nowrap"><tt> BYT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DFS</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FCB</tt></td><td nowrap="nowrap"><tt> FCC</tt></td><td nowrap="nowrap"><tt> FDB</tt></td><td nowrap="nowrap"><tt> RMB</tt></td></tr>
<tr><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS3201x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> PORT</tt></td><td nowrap="nowrap"><tt> RES</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS32C02x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BFLOAT</tt></td><td nowrap="nowrap"><tt> BSS</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> DOUBLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> EFLOAT</tt></td><td nowrap="nowrap"><tt> TFLOAT</tt></td><td nowrap="nowrap"><tt> LONG</tt></td><td nowrap="nowrap"><tt> LQxx</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> Qxx</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> RSTRING</tt></td><td nowrap="nowrap"><tt> STRING</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS320C3x/C4x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BSS</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> EXTENDED</tt></td><td nowrap="nowrap"><tt> SINGLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TM32C020x/TM32C05x/TM32C054x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BFLOAT</tt></td><td nowrap="nowrap"><tt> BSS</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> DOUBLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> EFLOAT</tt></td><td nowrap="nowrap"><tt> TFLOAT</tt></td><td nowrap="nowrap"><tt> LONG</tt></td><td nowrap="nowrap"><tt> LQxx</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> Qxx</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> RSTRING</tt></td><td nowrap="nowrap"><tt> STRING</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS320C6x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BSS</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> DOUBLE</tt></td><td nowrap="nowrap"><tt> SINGLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS99xx</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BSS</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> DOUBLE</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> SINGLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments Instruments TMS1000</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS70Cxx</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments TMS370</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DBIT</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Texas Instruments MSP430</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BSS</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> PADDING</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>National SC/MP</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIGENDIAN</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>

</p><h4>National INS807x</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>

</p><h4>National COP4</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADDR</tt></td><td nowrap="nowrap"><tt> ADDRW</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DSB</tt></td><td nowrap="nowrap"><tt> DSW</tt></td><td nowrap="nowrap"><tt> DT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FB</tt></td><td nowrap="nowrap"><tt> FW</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>National COP8</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ADDR</tt></td><td nowrap="nowrap"><tt> ADDRW</tt></td><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DSB</tt></td><td nowrap="nowrap"><tt> DSW</tt></td><td nowrap="nowrap"><tt> DT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FB</tt></td><td nowrap="nowrap"><tt> FW</tt></td><td nowrap="nowrap"><tt> SFR</tt></td><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>National SC14xxx</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DC</tt></td><td nowrap="nowrap"><tt> DC8</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DS8</tt></td><td nowrap="nowrap"><tt> DS16</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> DW16</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>National NS32xxx</h4>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> CUSTOM</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DOUBLE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> FLOAT</tt></td></tr>
<tr><td nowrap="nowrap"><tt> FPU</tt></td><td nowrap="nowrap"><tt> LONG</tt></td><td nowrap="nowrap"><tt> PMMU</tt></td><td nowrap="nowrap"><tt> REG</tt></td><td nowrap="nowrap"><tt> SUPMODE</tt></td></tr>
<tr><td nowrap="nowrap"><tt> WORD</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
<p>

</p><h4>Fairchild ACE</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Fairchild F8</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> PORT</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC µPD7800...µPD7806, µPD78(C)1x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC µPD7807...µPD7809</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DEFBIT</tt></td><td nowrap="nowrap"><tt>DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC 75xx</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt>DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC 75K0</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> ASSUME</tt></td><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC 78K0</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC 78K2</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC 78K3</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC 78K4</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC µPD772x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>NEC µPD77230</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Symbios Logic SYM53C8xx</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Fujitsu F<sup>2</sup>MC8L</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Fujitsu F<sup>2</sup>MC16L</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>OKI OLMS-40</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>OKI OLMS-50</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Panafacom MN161x</h4>
<p>
<em> Default Integer Syntax: IBM</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DC</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Padauk PMC/PMS/PFSxxx</h4>
<p>
<em> Default Integer Syntax: C</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> SFR</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>Intersil 180x</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>XMOS XS1</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DQ</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DS</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>ATARI Vector</h4>
<p>
<em> Default Integer Syntax: Motorola</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>MIL STD 1750</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> DATA</tt></td><td nowrap="nowrap"><tt> EXTENDED</tt></td><td nowrap="nowrap"><tt> FLOAT</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>KENBAK</h4>
<p>
<em> Default Integer Syntax: Intel</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BIT</tt></td><td nowrap="nowrap"><tt> DB</tt></td><td nowrap="nowrap"><tt> DD</tt></td><td nowrap="nowrap"><tt> DN</tt></td><td nowrap="nowrap"><tt> DQ</tt></td></tr>
<tr><td nowrap="nowrap"><tt> DS</tt></td><td nowrap="nowrap"><tt> DT</tt></td><td nowrap="nowrap"><tt> DW</tt></td><td nowrap="nowrap"><tt> REG</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h4>CP1600</h4>
<p>
<em> Default Integer Syntax: IBM (hex), C (oct)</em>
</p><p>
<tt>
<table summary="No Summary" cellpadding="2">
<tbody><tr><td nowrap="nowrap"><tt> BYTE</tt></td><td nowrap="nowrap"><tt> RES</tt></td><td nowrap="nowrap"><tt> TEXT</tt></td><td nowrap="nowrap"><tt> WORD</tt></td><td nowrap="nowrap"><tt> ZERO</tt></td></tr>
<tr><td nowrap="nowrap"><tt></tt></td></tr>
</tbody></table></tt>
</p><p>

</p><h1><a name="sect_E_">E. Predefined Symbols</a></h1>
<a name="ref_AppInternSyms"></a>
<p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">data type</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">definition</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">ARCHITECTURE<br>
<br>
<br>
<br>
BIGENDIAN<br>
<br>
CASESENSITIVE<br>
<br>
CONSTPI<br>
DATE<br>
FALSE<br>
HASFPU<br>
<br>
HASPMMU<br>
INEXTMODE<br>
<br>
INLWORDMODE<br>
<br>
INMAXMODE<br>
<br>
INSUPMODE<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">string<br>
<br>
<br>
<br>
boolean<br>
<br>
boolean<br>
<br>
float<br>
string<br>
boolean<br>
boolean<br>
<br>
boolean<br>
boolean<br>
<br>
boolean<br>
<br>
boolean<br>
<br>
boolean<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">predef.<br>
<br>
<br>
<br>
dyn.(0)<br>
<br>
normal<br>
<br>
normal<br>
predef.<br>
predef.<br>
dyn.(0)<br>
<br>
dyn.(0)<br>
dyn.(0)<br>
<br>
dyn.(0)<br>
<br>
dyn.(0)<br>
<br>
dyn.(0)<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">target platform AS was<br>
compiled for, in the style<br>
processor-manufacturer-<br>
operating system<br>
storage of constants MSB<br>
first ?<br>
case sensitivity in symbol<br>
names ?<br>
constant Pi (3.1415.....)<br>
date of begin of assembly<br>
0 = logically ''false''<br>
coprocessor instructions<br>
enabled ?<br>
MMU instructions enabled ?<br>
XM flag set for 4 Gbyte<br>
address space ?<br>
LW flag set for 32 bit<br>
instructions ?<br>
processor in maximum<br>
mode ?<br>
processor in supervisor<br>
mode ?</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table E.1: Predefined Symbols - Part 1<a name="ref_TabInternSyms1"></a>
</center><p>

</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">data type</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">definition</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">INSRCMODE<br>
FULLPMMU<br>
<br>
LISTON<br>
MACEXP<br>
<br>
MOMCPU<br>
<br>
MOMCPUNAME<br>
<br>
MOMFILE<br>
<br>
MOMLINE<br>
<br>
MOMPASS<br>
MOMSECTION<br>
<br>
<br>
MOMSEGMENT<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">boolean<br>
boolean<br>
<br>
boolean<br>
boolean<br>
<br>
integer<br>
<br>
string<br>
<br>
string<br>
<br>
integer<br>
<br>
integer<br>
string<br>
<br>
<br>
string<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">dyn.(0)<br>
dyn.(0/1)<br>
<br>
dyn.(1)<br>
dyn.(1)<br>
<br>
dyn.<br>
(68008)<br>
dyn.<br>
(68008)<br>
special<br>
<br>
special<br>
<br>
special<br>
special<br>
<br>
<br>
special<br>
<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">processor in source mode ?<br>
full PMMU instruction set<br>
allowed ?<br>
listing enabled ?<br>
expansion of macro con-<br>
structs in listing enabled ?<br>
number of target CPU<br>
currently set<br>
name of target CPU<br>
currently set<br>
current source file<br>
(including include files)<br>
current line number in<br>
source file<br>
number of current pass<br>
name of current section or<br>
empty string if out of any<br>
section<br>
name of address space<br>
currently selected<br>
with<tt> SEGMENT</tt><br>
</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table E.2: Predefined Symbols - Part 2<a name="ref_TabInternSyms2"></a>
</center><p>

</p><p>

</p><center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">name</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">data type</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">definition</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">meaning</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"><tt> NESTMAX</tt><br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">Integer<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">dyn.(256)<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">maximum nesting level<br>
of macro expansions</td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT">PADDING<br>
<br>
RELAXED<br>
<br>
PC<br>
<br>
TIME<br>
<br>
TRUE<br>
VERSION<br>
<br>
<br>
WRAPMODE<br>
<br>
*<br>
<br>
<br>
$<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">boolean<br>
<br>
boolean<br>
<br>
integer<br>
<br>
string<br>
<br>
integer<br>
integer<br>
<br>
<br>
Integer<br>
<br>
integer<br>
<br>
<br>
integer<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">dyn.(1)<br>
<br>
dyn.(0)<br>
<br>
special<br>
<br>
predef.<br>
<br>
predef.<br>
predef.<br>
<br>
<br>
predef.<br>
<br>
special<br>
<br>
<br>
special<br>
<br>
</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">pad byte field to even<br>
count ?<br>
any syntax allowed integer<br>
constants ?<br>
curr. program counter<br>
(Thomson)<br>
time of begin of assembly<br>
(1. pass)<br>
1 = logically ''true''<br>
version of AS in BCD<br>
coding, e.g. 1331 hex for<br>
version 1.33p1<br>
shortened program counter<br>
assumed?<br>
curr. program counter<br>
(Motorola, Rockwell, Micro-<br>
chip, Hitachi)<br>
curr. program counter (Intel,<br>
Zilog, Texas, Toshiba, NEC,<br>
Siemens, AMD)</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table E.3: Predefined Symbols - Part 3<a name="ref_TabInternSyms3"></a>
</center><p>

</p><p>
To be exact, boolean symbols are just ordinary integer symbols with
the difference that AS will assign only two different values to them
(0 or 1, corresponding to False or True). AS does not store special
symbols in the symbol table. For performance reasons, they are
realized with hardcoded comparisons directly in the parser. They
therefore do not show up in the assembly listing's symbol table.
Predefined symbols are only set once at the beginning of a pass. The
values of dynamic symbols may in contrast change during assembly as
they reflect settings made with related pseudo instructions. The
values added in parentheses give the value present at the beginning
of a pass.
</p><p>
The names given in this table also reflect the valid way to reference
these symbols in case-sensitive mode.
</p><p>
The names listed here should be avoided for own symbols; either one
can define but not access them (special symbols), or one will receive
an error message due to a double-defined symbol. The ugliest case is
when the redefinition of a symbol made by AS at the beginning of a
pass leads to a phase error and an infinite loop...
</p><p>

</p><h1><a name="sect_F_">F. Shipped Include Files</a></h1>
<p>
The distribution of AS contains a couple of include files. Apart from
include files that only refer to a specific processor family (and
whose function should be immediately clear to someone who works with
this family), there are a few processor-independent files which
include useful functions. The functions defined in these files shall
be explained briefly in the following sections:
</p><p>

</p><h2><a name="sect_F_1_">F.1. BITFUNCS.INC</a></h2>
<p>
This file defines a couple of bit-oriented functions that might be
hardwired for other assemblers. In the case of AS however, thaey are
implemented with the help of user-defined functions:
</p><p>
</p><ul>
<li> <em> mask(start,bits)</em> returns an integer with<em> bits</em>
    bits set starting at position<em> start</em>;</li>
<li> <em> invmask(start,bits)</em> returns one's complement to<em>
    mask()</em>;</li>
<li> <em> cutout(x,start,bits)</em> returns<em> bits</em> bits masked out
    from<em> x</em> starting at position<em> start</em> without
    shifting them to position 0;</li>
<li> <em> hi(x)</em> returns the second lowest byte (bits 8..15) of<em>
    x</em>;</li>
<li> <em> lo(x)</em> returns the lowest byte (bits 8..15) of<em>
    x</em>;</li>
<li> <em> hiword(x)</em> returns the second lowest word (bits 16..31)
    of<em> x</em>;</li>
<li> <em> loword(x)</em> returns the lowest word (bits 0..15) of<em>
    x</em>;</li>
<li> <em> odd(x)</em> returns TRUE if<em> x</em> is odd;</li>
<li> <em> even(x)</em> returns TRUE if<em> x</em> is even;</li>
<li> <em> getbit(x,n)</em> extracts bit<em> n</em> out of<em> x</em> and
    returns it as 0 or 1;</li>
<li> <em> shln(x,size,n)</em> shifts a word<em> x</em> of length<em>
    size</em> to the left by<em> n</em> places;</li>
<li> <em> shrn(x,size,n)</em> shifts a word<em> x</em> of length<em>
    size</em> to the right by<em> n</em> places;</li>
<li> <em> rotln(x,size,n)</em> rotates the lowest<em> size</em> bits of
    an integer<em> x</em> to the left by<em> n</em> places;</li>
<li> <em> rotrn(x,size,n)</em> rotates the lowest<em> size</em> bits of
    an integer<em> x</em> to the right by<em> n</em> places;</li>
</ul>
<p>

</p><h2><a name="sect_F_2_">F.2. CTYPE.INC</a></h2>
<p>
This include file is similar to the C include file<tt> ctype.h</tt>
which offers functions to classify characters. All functions deliver
either TRUE or FALSE:
</p><p>
</p><ul>
<li> <em> isdigit(ch)</em> becomes TRUE if<em> ch</em> is a valid decimal
    digit (0..9);</li>
<li> <em> isxdigit(ch)</em> becomes TRUE if<em> ch</em> is a valid
    hexadecimal digit (0..9, A..F, a..f);</li>
<li> <em> isupper(ch)</em> becomes TRUE if<em> ch</em> is an uppercase
    letter, excluding special national characters);</li>
<li> <em> islower(ch)</em> becomes TRUE if<em> ch</em> is a lowercase
    letter, excluding special national characters);</li>
<li> <em> isalpha(ch)</em> becomes TRUE if<em> ch</em> is a letter,
    excluding special national characters);</li>
<li> <em> isalnum(ch)</em> becomes TRUE if<em> ch</em> is either a letter
    or a valid decimal digit;</li>
<li> <em> isspace(ch)</em> becomes TRUE if<em> ch</em> is an 'empty'
    character (space, form feed, line feed, carriage return,
    tabulator);</li>
<li> <em> isprint(ch)</em> becomes TRUE if<em> ch</em> is a printable
    character, i.e. no control character up to code 31;</li>
<li> <em> iscntrl(ch)</em> is the opposite to<em> isprint()</em>;</li>
<li> <em> isgraph(ch)</em> becomes TRUE if<em> ch</em> is a printable and
    visible character;</li>
<li> <em> ispunct(ch)</em> becomes TRUE if<em> ch</em> is a printable
    special character (i.e. neither space nor letter nor
    number);</li>
</ul>
<p>

</p><h1><a name="sect_G_">G. Acknowledgments</a></h1>
<p>
</p><blockquote>
    <i> ''If I have seen farther than other men,<br>
    it is because I stood on the shoulders of giants.''<br>
              --Sir Isaac Newton</i>
</blockquote>
<blockquote>
    <i> ''If I haven't seen farther than other men,<br>
    it is because I stood in the footsteps of giants.''<br>
              --unknown</i>
</blockquote>
<p>
If one decides to rewrite a chapter that has been out of date for two
years, it is almost unavoidable that one forgets to mention some of
the good ghosts who contributed to the success this project had up to
now. The first ''thank you'' therefore goes to the people whose names
I unwillingly forgot in the following enumeration!
</p><p>
The concept of AS as a universal cross assembler came from Bernhard
(C.) Zschocke who needed a ''student friendly'', i.e. free cross
assembler for his microprocessor course and talked me into extending
an already existing 68000 assembler. The rest is history... The
microprocessor course held at RWTH Aachen also always provided the
most engaged users (and bug-searchers) of new AS features and
therefore contributed a lot to today's quality of AS.
</p><p>
The internet and FTP have proved to be a big help for spreading AS
and reporting of bugs. My thanks therefore go to the FTP admins
(Bernd Casimir in Stuttgart, Norbert Breidor in Aachen, and
Jürgen Meißburger in Jülich). Especially the last one
personally engaged a lot to establish a practicable way in
Jülich.
</p><p>
As we are just talking about the ZAM: Though Wolfgang E. Nagel is not
personally involved into AS, he is at least my boss and always puts
at least four eyes on what I am doing. Regarding AS, there seems to
be at least one that smiles...
</p><p>
A program like AS cannot be done without appropriate data books and
documentation. I received information from an enormous amount of
people, ranging from tips up to complete data books. An enumeration
follows (as stated before, without guarantee for completelessness!):
</p><p>
Ernst Ahlers, Charles Altmann, Marco Awater, Len Bayles, Andreas
Bolsch, Rolf Buchholz, Bernd Casimir, Nils Eilers, Gunther Ewald,
Michael Haardt, Stephan Hruschka, Peter Kliegelhöfer, Ulf
Meinke, Udo Möller, Matthias Paul, Norbert Rosch, Curt J.
Sampson, Steffen Schmid, Leonhard Schneider, Ernst Schwab, Michael
Schwingen, Oliver Sellke, Christian Stelter, Patrik Strömdahl,
Tadashi G. Takaoka, Oliver Thamm, Thorsten Thiele, Leszek Ulman, Rob
Warmelink, Andreas Wassatsch, John Weinrich.
</p><p>
...and an ironic ''thank you'' to Rolf-Dieter-Klein and Tobias Thiel
who demonstrated with their ASM68K how one should<b> not</b> do it
and thereby indirectly gave me the impulse to write something better!
</p><p>
I did not entirely write AS on my own. The DOS version of AS
contained the OverXMS routines from Wilbert van Leijen which can move
the overlay modules into the extended memory. A really nice library,
easy to use without problems!
</p><p>
The TMS320C2x/5x code generators and the file<tt> STDDEF2x.INC</tt>
come from Thomas Sailer, ETH Zurich. It's surprising, he only needed
one weekend to understand my coding and to implement the new code
generator. Either that was a long nightshift or I am slowly getting
old...the same praise goes to Haruo Asano for providing the
MN1610/MN1613 code generator.
</p><p>

</p><h1><a name="sect_H_">H. Changes since Version 1.3</a></h1>
<p>
</p><ul>
<li> version 1.31:
<ul>
<li>     additional MCS-51 processor type 80515. The number is again only
        stored by the assembler. The file<tt> STDDEF51.INC</tt> was
        extended by the necessary SFRs.<b> CAUTION!</b> Some of the
        80515 SFRs have moved to other addresses!</li>
<li>     additional support for the Z80 processor;</li>
<li>     faster 680x0 code generator.</li>
</ul>
 </li>
<li> version 1.32:
<ul>
<li>     syntax for zero page addresses for the 65xx family was changed
        from<tt> addr.z</tt> to<tt> &lt;addr</tt> (similar to
        68xx);</li>
<li>     additional support for the 6800, 6805, 6301, and 6811
        processors;</li>
<li>     the 8051 part now also understands<tt> DJNZ, PUSH</tt>, and<tt>
        POP</tt> (sorry);</li>
<li>     the assembly listing now not also list the symbols but also the
        macros that have been defined;</li>
<li>     additional instructions<tt> IFDEF/IFNDEF</tt> for conditional
        assembly based on the existence of a symbol;</li>
<li>     additional instructions<tt> PHASE/DEPHASE</tt> to support code
        that shall be moved at runtime to a different address;</li>
<li>     additional instructions<tt> WARNING, ERROR</tt>, and<tt>
        FATAL</tt> to print user-defined error messages;</li>
<li>     the file<tt> STDDEF51.INC</tt> additionally contains the
        macro<tt> USING</tt> to simplify working with the MCS-51's
        register banks;</li>
<li>     command line option<tt> u</tt> to print segment usage;</li>
</ul>
 </li>
<li> version 1.33:
<ul>
<li>     additionally supports the 6809 processor;</li>
<li>     added string variables;</li>
<li>     The instructions<tt> TITLE, PRTINIT, PRTEXIT, ERROR</tt>,<tt>
        WARNING</tt>, and<tt> FATAL</tt> now expect a string
        expression. Constants therefore now have to be enclosed in ''
        instead of ' characters. This is also true for<tt>
        DB</tt>,<tt> DC.B</tt>, and<tt> BYT</tt>;</li>
<li>     additional instruction<tt> ALIGN</tt> to align the program
        counter for Intel processors;</li>
<li>     additional instruction<tt> LISTING</tt> to turn the generation
        of an assembly listing on or off;</li>
<li>     additional instruction<tt> CHARSET</tt> for user-defined
        character sets.</li>
</ul>
 </li>
<li> version 1.34:
<ul>
<li>     the second pass is now omitted if there were errors in the first
        pass;</li>
<li>     additional predefined symbol<tt> VERSION</tt> that contains the
        version number of AS;</li>
<li>     additional instruction<tt> MESSAGE</tt> to generate additional
        messages under program control;</li>
<li>     formula parser is now accessible via string constants;</li>
<li>     if an error in a macro occurs, additionally the line number in
        the macro itself is shown;</li>
<li>     additional function<tt> UPSTRING</tt> to convert a string to all
        upper-case.</li>
</ul>
 </li>
<li> version 1.35:
<ul>
<li>     additional function<tt> TOUPPER</tt> to convert a single
        character to upper case;</li>
<li>     additional instruction<tt> FUNCTION</tt> for user-defined
        functions;</li>
<li>     additional command line option<tt> D</tt> to define symbols from
        outside;</li>
<li>     the environment variable<tt> ASCMD</tt> for commonly used
        command line options was introduced;</li>
<li>     the program will additionally be checked for double usage of
        memory areas if the u option is enabled;</li>
<li>     additional command line option<tt> C</tt> to generate a cross
        reference list.</li>
</ul>
 </li>
<li> version 1.36:
<ul>
<li>     additionally supports the PIC16C5x and PIC17C4x processor
        families;</li>
<li>     the assembly listing additionally shows the nesting depth of
        include files;</li>
<li>     the cross reference list additionally shows the definition point
        of a symbol;</li>
<li>     additional command line option<tt> A</tt> to force a more
        compact layout of the symbol table.</li>
</ul>
 </li>
<li> version 1.37:
<ul>
<li>     additionally supports the processors 8086, 80186, V30, V35,
        8087, and Z180;</li>
<li>     additional instructions<tt> SAVE</tt> and<tt> RESTORE</tt> for
        an easier switching of some flags;</li>
<li>     additional operators for logical shifts and bit mirroring;</li>
<li>     command line options may now be negated with a plus sign;</li>
<li>     additional filter AS2MSG for a more comfortable work with AS
        under Turbo-Pascal 7.0;</li>
<li>     <tt>ELSEIF</tt> now may have an argument for construction of<tt>
        IF-THEN-ELSE</tt> ladders;</li>
<li>     additional<tt> CASE</tt> construct for a more comfortable
        conditional assembly;</li>
<li>     user-defined functions now may have more than one argument;</li>
<li>     P2HEX can now additionally generate hex files in a format
        suitable for 65xx processors;</li>
<li>     BIND, P2HEX, and P2BIN now have the same scheme for command line
        processing like AS;</li>
<li>     additional switch<tt> i</tt> for P2HEX to select one out three
        possibilities for the termination record;</li>
<li>     additional functions<tt> ABS</tt> and<tt> SGN</tt>;</li>
<li>     additional predefined symbols<tt> MOMFILE</tt> and<tt>
        MOMLINE</tt>;</li>
<li>     additional option to print extended error messages;</li>
<li>     additional instruction<tt> IFUSED</tt> and<tt> IFNUSED</tt> to
        check whether a symbol has been used so far;</li>
<li>     The environment variables<tt> ASCMD, BINDCMD</tt> etc. now
        optionally may contain the name of a file that provides more
        space for options;</li>
<li>     P2HEX can now generate the hex formats specified by Microchip
        (p4);</li>
<li>     a page length specification of 0 now allows to suppress
        automatic formfeeds in the assembly listing completely
        (p4);</li>
<li>     symbols defined in the command line now may be assigned an
        arbitrary value (p5).</li>
</ul>
 </li>
<li> version 1.38:
<ul>
<li>     changed operation to multipass mode. This enables AS to generate
        optimal code even in case of forward references;</li>
<li>     the 8051 part now also knows the generic<tt> JMP</tt> and<tt>
        CALL</tt> instructions;</li>
<li>     additionally supports the Toshiba TLCS-900 series (p1);</li>
<li>     additional instruction<tt> ASSUME</tt> to inform the assembler
        about the 8086's segment register contents (p2);</li>
<li>     additionally supports the ST6 series from SGS-Thomson (p2);</li>
<li>     ..and the 3201x signal processors from Texas Instruments
        (p2);</li>
<li>     additional option<tt> F</tt> for P2HEX to override the automatic
        format selection (p2);</li>
<li>     P2BIN now can automatically set the start resp. stop address of
        the address window by specifying dollar signs (p2);</li>
<li>     the 8048 code generator now also knows the 8041/42 instruction
        extensions (p2);</li>
<li>     additionally supports the Z8 microcontrollers (p3).</li>
</ul>
 </li>
<li> version 1.39:
<ul>
<li>     additional opportunity to define sections and local
        symbols;</li>
<li>     additional command line switch<tt> h</tt> to force hexadecimal
        numbers to use lowercase;</li>
<li>     additional predefined symbol<tt> MOMPASS</tt> to read the number
        of the currently running pass;</li>
<li>     additional command line switch<tt> t</tt> to disable individual
        parts of the assembly listing;</li>
<li>     additionally knows the L variant of the TLCS-900 series and the
        MELPS-7700 series from Mitsubishi (p1);</li>
<li>     P2HEX now also accepts dollar signs as start resp. stop address
        (p2);</li>
<li>     additionally supports the TLCS-90 family from Toshiba (p2);</li>
<li>     P2HEX now also can output data in Tektronix and 16 bit Intel Hex
        format (p2);</li>
<li>     P2HEX now prints warnings for address overflows (p2);</li>
<li>     additional include file<tt> STDDEF96.INC</tt> with address
        definitions for the TLCS-900 series (p3);</li>
<li>     additional instruction<tt> READ</tt> to allow interactive input
        of values during assembly (p3);</li>
<li>     error messages are written to the STDERR channel instead of
        standard output (p3);</li>
<li>     the<tt> STOP</tt> instruction missing for the 6811 is now
        available (scusi, p3);</li>
<li>     additionally supports the µPD78(C)1x family from NEC
        (p3);</li>
<li>     additionally supports the PIC16C84 from NEC (p3);</li>
<li>     additional command line switch<tt> E</tt> to redirect error
        messages to a file (p3);</li>
<li>     The MELPS-7700's 'idol' 65816 is now also available (p4);</li>
<li>     the ST6 pseudo instruction<tt> ROMWIN</tt> has been removed was
        integrated into the<tt> ASSUME</tt> instruction (p4);</li>
<li>     additionally supports the 6804 from SGS-Thomson (p4);</li>
<li>     via the<tt> NOEXPORT</tt> option in a macro definition, it is
        now possible to define individually for every macro whether
        it shall appear in the<tt> MAC</tt> file or not (p4);</li>
<li>     the meaning of<tt> MACEXP</tt> regarding the expansion of macros
        has changed slightly due to the additional<tt> NOEXPAND</tt>
        option in the macro definition (p4);</li>
<li>     The additional<tt> GLOBAL</tt> option in the macro definition
        now additionally allows to define macros that are uniquely
        identified by their section name (p4).</li>
</ul>
 </li>
<li> version 1.40:
<ul>
<li>     additionally supports the DSP56000 from Motorola;</li>
<li>     P2BIN can now also extract the lower resp. upper half of a
        32-bit word;</li>
<li>     additionally supports the TLCS-870 and TLCS-47 families from
        Toshiba (p1);</li>
<li>     a prefixed<tt> !</tt> now allows to reach machine instructions
        hidden by a macro (p1);</li>
<li>     the<tt> GLOBAL</tt> instruction now allows to export symbols in
        a qualified style (p1);</li>
<li>     the additional<tt> r</tt> command line switch now allows to
        print a list of constructs that forced additional passes
        (p1);</li>
<li>     it is now possible to omit an argument to the<tt> E</tt> command
        line option; AS will then choose a fitting default (p1);</li>
<li>     the<tt> t</tt> command line option now allows to suppress line
        numbering in the assembly listing (p1);</li>
<li>     escape sequences may now also be used in ASCII style integer
        constants (p1);</li>
<li>     the additional pseudo instruction<tt> PADDING</tt> now allows to
        enable or disable the insertion of padding bytes in 680x0
        mode (p2);</li>
<li>     <tt>ALIGN</tt> is now a valid instruction for all targets
        (p2);</li>
<li>     additionally knows the PIC16C64's SFRs (p2);</li>
<li>     additionally supports the 8096 from Intel (p2);</li>
<li>     <tt>DC</tt> additionally allows to specify a repetition factor
        (r3);</li>
<li>     additionally supports the TMS320C2x family from Texas
        Instruments (implementation done by Thomas Sailer, ETH
        Zurich, r3); P2HEX has been extended appropriately;</li>
<li>     an equation sign may be used instead of<tt> EQU</tt> (r3);</li>
<li>     additional<tt> ENUM</tt> instruction to define enumerations
        (r3);</li>
<li>     <tt>END</tt> now has a real effect (r3);</li>
<li>     additional command line switch<tt> n</tt> to get the internal
        error numbers in addition to the error messages (r3);</li>
<li>     additionally supports the TLCS-9000 series from Toshiba
        (r4);</li>
<li>     additionally supports the TMS370xxx series from Texas
        Instruments, including a new<tt> DBIT</tt> pseudo instruction
        (r5);</li>
<li>     additionally knows the DS80C320's SFR's (r5);</li>
<li>     the macro processor is now also able to include files from
        within macros. This required to modify the format of error
        messages slightly. If you use AS2MSG, replace it with the new
        version! (r5)</li>
<li>     additionally supports the 80C166 from Siemens (r5);</li>
<li>     additional<tt> VAL</tt> function to evaluate string expressions
        (r5);</li>
<li>     it is now possible to construct symbol names with the help of
        string expressions enclosed in braces (r5);</li>
<li>     additionally knows the 80C167's peculiarities (r6);</li>
<li>     the MELPS740's special page addressing mode is now supported
        (r6);</li>
<li>     it is now possible to explicitly reference a symbol from a
        certain section by appending its name enclosed in brackets.
        The construction with an<tt> @</tt> sign has been removed!
        (r6)</li>
<li>     additionally supports the MELPS-4500 series from Mitsubishi
        (r7);</li>
<li>     additionally supports H8/300 and H8/300H series from Hitachi
        (r7);</li>
<li>     settings made with<tt> LISTING</tt> resp.<tt> MACEXP</tt> may
        now be read back from predefined symbols with the same names
        (r7);</li>
<li>     additionally supports the TMS320C3x series from Texas
        Instruments (r8);</li>
<li>     additionally supports the SH7000 from Hitachi (r8);</li>
<li>     the Z80 part has been extended to also support the Z380
        (r9);</li>
<li>     the 68K part has been extended to know the differences of the
        683xx micro controllers (r9);</li>
<li>     a label not any more has to be placed in the first row if it is
        marked with a double dot (r9);</li>
<li>     additionally supports the 75K0 series from NEC (r9);</li>
<li>     the additional command line option o allows to set a
        user-defined name for the code file (r9);</li>
<li>     the ~~ operator has been moved to a bit more senseful ranking
        (r9);</li>
<li>     <tt>ASSUME</tt> now also knows the 6809's DPR register and its
        implications (pardon, r9);</li>
<li>     the 6809 part now also knows the 6309's secret extensions
        (r9);</li>
<li>     binary constants now also may be written in a C-like notation
        (r9);</li>
</ul>
 </li>
<li> version 1.41:
<ul>
<li>     the new predefined symbol<tt> MOMSEGMENT</tt> allows to inquire
        the currently active segment;</li>
<li>     <tt>:=</tt> is now allowed as a short form for<tt>
        SET/EVAL</tt>;</li>
<li>     the new command line switch<tt> q</tt> allows to force a
        ''silent'' assembly;</li>
<li>     the key word<tt> PARENT</tt> to reference the parent section has
        been extended by<tt> PARENT0..PARENT9</tt>;</li>
<li>     the PowerPC part has been extended by the microcontroller
        versions MPC505 and PPC403;</li>
<li>     symbols defined with<tt> SET</tt> or<tt> EQU</tt> may now be
        assigned to a certain segment (r1);</li>
<li>     the SH7000 part now also knows the SH7600's extensions (and
        should compute correct displacements...) (r1);</li>
<li>     the 65XX part now differentiates between the 65C02 and 65SC02
        (r1);</li>
<li>     additionally to the symbol<tt> MOMCPU</tt>, there is now also a
        string symbol<tt> MOMCPUNAME</tt> that contains the
        processor's full name (r1);</li>
<li>     P2HEX now also knows the 32-bit variant of the Intel hex format
        (r1);</li>
<li>     additionally knows the 87C750's limitations (r2);</li>
<li>     the internal numbers for fatal errors have been moved to the
        area starting at 10000, making more space for normal error
        messages (r2);</li>
<li>     unused symbols are now marked with a star in the symbol table
        (r2);</li>
<li>     additionally supports the 29K family from AMD (r2);</li>
<li>     additionally supports the M16 family from Mitsubishi (r2);</li>
<li>     additionally supports the H8/500 family from Hitachi (r3);</li>
<li>     the number of data bytes printed per line by P2HEX can now be
        modified (r3);</li>
<li>     the number of the pass that starts to output warnings created by
        the<tt> r</tt> command line switch is now variable (r3);</li>
<li>     the macro processor now knows a<tt> WHILE</tt> statement that
        allows to repeat a piece of code a variable number of times
        (r3);</li>
<li>     the<tt> PAGE</tt> instruction now also allows to set the line
        with of the assembly listing (r3);</li>
<li>     CPU aliases may now be defined to define new pseudo processor
        devices (r3);</li>
<li>     additionally supports the MCS/251 family from Intel (r3);</li>
<li>     if the cross reference list has been enabled, the place of the
        first definition is given for double definitions of symbols
        (r3);</li>
<li>     additionally supports the TMS320C5x family from Texas
        Instruments (implementation done by Thomas Sailer, ETH
        Zurich, r3);</li>
<li>     the OS/2 version should now also correctly work with long file
        names. If one doesn't check every s**t personally...
        (r3);</li>
<li>     the new pseudo instruction<tt> BIGENDIAN</tt> now allows to
        select in MCS-51/251 mode whether constants should be stored
        in big endian or little endian format (r3);</li>
<li>     the 680x0 part now differentiates between the full and reduced
        MMU instruction set; a manual toggle can be done via the<tt>
        FULLPMMU</tt> instruction (r3);</li>
<li>     the new command line option<tt> I</tt> allows to print a list of
        all include files paired with their nesting level (r3);</li>
<li>     additionally supports the 68HC16 family from Motorola (r3);</li>
<li>     the<tt> END</tt> statement now optionally accepts an argument as
        entry point for the program (r3);</li>
<li>     P2BIN and P2HEX now allow to move the contents of a code file to
        a different address (r4);</li>
<li>     comments appended to a<tt> SHARED</tt> instruction are now
        copied to the share file (r4);</li>
<li>     additionally supports the 68HC12 family from Motorola (r4);</li>
<li>     additionally supports the XA family from Philips (r4);</li>
<li>     additionally supports the 68HC08 family from Motorola (r4);</li>
<li>     additionally supports the AVR family from Atmel (r4);</li>
<li>     to achieve better compatibility to the AS11 from Motorola, the
        pseudo instructions<tt> FCB, FDB, FCC</tt>, and<tt> RMB</tt>
        were added (r5);</li>
<li>     additionally supports the M16C from Mitsubishi (r5);</li>
<li>     additionally supports the COP8 from National Semiconductor
        (r5);</li>
<li>     additional instructions<tt> IFB</tt> and<tt> IFNB</tt> for
        conditional assembly (r5);</li>
<li>     the new<tt> EXITM</tt> instruction now allows to terminate a
        macro expansion (r5);</li>
<li>     additionally supports the MSP430 from Texas Instruments
        (r5);</li>
<li>     <tt>LISTING</tt> now knows the additional variants<tt>
        NOSKIPPED</tt> and<tt> PURECODE</tt> to remove code that was
        not assembled from the listing (r5);</li>
<li>     additionally supports the 78K0 family from NEC (r5);</li>
<li>     <tt>BIGENDIAN</tt> is now also available in PowerPC mode
        (r5);</li>
<li>     additional<tt> BINCLUDE</tt> instruction to include binary files
        (r5);</li>
<li>     additional<tt> TOLOWER</tt> and<tt> LOWSTRING</tt> functions to
        convert characters to lower case (r5);</li>
<li>     it is now possible to store data in other segments than<tt>
        CODE</tt>. The file format has been extended appropriately
        (r5);</li>
<li>     the<tt> DS</tt> instruction to reserve memory areas is now also
        available in Intel mode (r5);</li>
<li>     the<tt> U</tt> command line switch now allows to switch AS into
        a case sensitive mode that differentiates between upper and
        lower case in the names of symbols, user-defined functions,
        macros, macro parameters, and sections (r5);</li>
<li>     <tt>SFRB</tt> now also knows the mapping rules for bit addresses
        in the RAM areas; warnings are generated for addresses that
        are not bit addressable (r5);</li>
<li>     additional instructions<tt> PUSHV</tt> and<tt> POPV</tt> to save
        symbol values temporarily (r5);</li>
<li>     additional functions<tt> BITCNT, FIRSTBIT, LASTBIT</tt>, and<tt>
        BITPOS</tt> for bit processing (r5);</li>
<li>     the 68360 is now also known as a member of the CPU32 processors
        (r5);</li>
<li>     additionally supports the ST9 family from SGS-Thomson (r6);</li>
<li>     additionally supports the SC/MP from National Semiconductor
        (r6);</li>
<li>     additionally supports the TMS70Cxx family from Texas Instruments
        (r6);</li>
<li>     additionally supports the TMS9900 family from Texas Instruments
        (r6);</li>
<li>     additionally knows the 80296's instruction set extensions
        (r6);</li>
<li>     the supported number of Z8 derivatives has been extended
        (r6);</li>
<li>     additionally knows the 80C504's mask defects (r6);</li>
<li>     additional register definition file for Siemens' C50x processors
        (r6);</li>
<li>     additionally supports the ST7 family from SGS-Thomson (r6);</li>
<li>     the Tntel pseudo instructions for data disposal are now also
        valid for the 65816/MELPS-7700 (r6);</li>
<li>     for the 65816/MELPS-7700, the address length may now be set
        explicitly via prefixes (r6);</li>
<li>     additionally supports the 8X30x family from Signetics (r6);</li>
<li>     from now on,<tt> PADDING</tt> is enabled by default only for the
        680x0 family (r7);</li>
<li>     the new predefined symbol<tt> ARCHITECTURE</tt> can now be used
        to query the platform AS was compiled for (r7);</li>
<li>     additional statements<tt> STRUCT</tt> and<tt> ENDSTRUCT</tt> to
        define data structures (r7);</li>
<li>     hex and object files for the AVR tools may now be generated
        directly (r7);</li>
<li>     <tt>MOVEC</tt> now also knows the 68040's control registers
        (r7);</li>
<li>     additional<tt> STRLEN</tt> function to calculate the length of a
        string (r7);</li>
<li>     additional ability to define register symbols (r7 currently only
        Atmel AVR);</li>
<li>     additionally knows the 6502's undocumented instructions
        (r7);</li>
<li>     P2HEX and P2BIN now optionally can erase the input files
        automatically (r7);</li>
<li>     P2BIN can additionally prepend the entry address to the
        resulting image (r7);</li>
<li>     additionally supports the ColdFire family from Motorola as a
        variation of the 680x0 core (r7);</li>
<li>     <tt>BYT/FCB, ADR/FDB</tt>, and<tt> FCC</tt> now also allow the
        repetition factor known from DC (r7);</li>
<li>     additionally supports Motorola's M*Core (r7);</li>
<li>     the SH7000 part now also knows the SH7700's extensions
        (r7);</li>
<li>     the 680x0 part now also knows the 68040's additional
        instructions (r7);</li>
<li>     the 56K part now also knows the instruction set extensions up to
        the 56300 (r7).</li>
<li>     the new<tt> CODEPAGE</tt> statement now allows to keep several
        character sets in parallel (r8);</li>
<li>     The argument variations for<tt> CHARSET</tt> have been extended
        (r8);</li>
<li>     New string functions<tt> SUBSTR</tt> and<tt> STRSTR</tt>
        (r8);</li>
<li>     additional<tt> IRPC</tt> statement in the macro processor
        (r8);</li>
<li>     additional<tt> RADIX</tt> statement to set the default numbering
        system for integer constants (r8);</li>
<li>     instead of<tt> ELSEIF</tt>, it is now valid to simply write<tt>
        ELSE</tt> (r8);</li>
<li>     == may be used as equality operator instead of = (r8);</li>
<li>     <tt>BRANCHEXT</tt> for the Philips XA now allows to
        automatically extend the reach of short branches (r8);</li>
<li>     debug output is now also possible in NoICE format (r8);</li>
<li>     additionally supports the i960 family from Intel (r8);</li>
<li>     additionally supports the µPD7720/7725 signal processors
        from NEC (r8);</li>
<li>     additionally supports the µPD77230 signal processor from
        NEC (r8);</li>
<li>     additionally supports the SYM53C8xx SCSI processors from Symbios
        Logic (r8);</li>
<li>     additionally supports the 4004 from Intel (r8);</li>
<li>     additionally supports the SC14xxx series of National (r8);</li>
<li>     additionally supports the instruction extensions of the PPC
        403GC (r8);</li>
<li>     additional command line option<tt> cpu</tt> to set the default
        target processor (r8);</li>
<li>     key files now also may be referenced from the command line
        (r8);</li>
<li>     additional command line option<tt> shareout</tt> to set the
        output file for SHARED definitions (r8);</li>
<li>     new statement<tt> WRAPMODE</tt> to support AVR processors with a
        shortened program counter (r8);</li>
<li>     additionally supports the C20x instruction subset in the C5x
        part (r8);</li>
<li>     hexadecimal address specifications for the tools now may also be
        made in C notation (r8);</li>
<li>     the numbering system for integer results in \{...} expressions
        is now configurable via<tt> OUTRADIX</tt> (r8);</li>
<li>     the register syntax for 4004 register pairs has been corrected
        (r8);</li>
<li>     additionally supports the F<sup>2</sup>MC8L family from Fujitsu
        (r8);</li>
<li>     P2HEX now allows to set the minimum address length for S record
        addresses (r8);</li>
<li>     additionally supports the ACE family from Fairchild (r8);</li>
<li>     <tt> REG</tt> is now also allowed for PowerPCs (r8);</li>
<li>     additional switch in P2HEX to relocate all addresses (r8);</li>
<li>     The switch<tt> x</tt> now additionally allows a second level of
        detailness to print the source line in question (r8).</li>
</ul>
 </li>
<li> version 1.42:
<ul>
<li>     the default integer syntax for Atmel AVR is now the C
        Syntax;</li>
<li>     additional command line option<tt> olist</tt> to set the list
        file's name and location;</li>
<li>     additionally supports the F<sup>2</sup>MC16L family from
        Fujitsu;</li>
<li>     additional instruction<tt> PACKING</tt> for the AVR family;</li>
<li>     additional implicit macro parameters<tt> ALLARGS</tt> and<tt>
        ARGCOUNT</tt>;</li>
<li>     additional instruction<tt> SHIFT</tt> to process variable macro
        argument lists;</li>
<li>     support for temporary symbols;</li>
<li>     additional instruction<tt> MAXNEST</tt> to set the maximum
        nesting depth of macro expansions;</li>
<li>     additional command line argument<tt> noicemask</tt> to control
        the amount of segments listed in a NoICE debug info
        file;</li>
<li>     additionally supports the 180x family from Intersil;</li>
<li>     additionally supports the 68HC11K4 address windowing;</li>
<li>     P2HEX now allows to vary the address field length of AVR HEX
        files;</li>
<li>     the new command line option<tt> -gnuerrors</tt> allows to output
        error messages in a GNU C-style format;</li>
<li>     additionally supports the TMS320C54x family from Texas
        Instruments;</li>
<li>     new macro option<tt> INTLABEL</tt>;</li>
<li>     added Atmel MegaAVR 8/16 instructions and register
        definitions;</li>
<li>     <tt> ENDIF/ENDCASE</tt> show the line number of the
        corresponding opening statement in the listing;</li>
<li>     the 8051 part now also supports the extended address space of
        the Dallas DS80C390;</li>
<li>     added nameless temporary smbols;</li>
<li>     additionally supports the undocumented 8085 instructions;</li>
<li>     improved structure handling;</li>
<li>     added EXPRTYPE() function;</li>
<li>     allow line continuation;</li>
<li>     integrated support for KCPSM/PicoBlaze provided by Andreas
        Wassatsch;</li>
<li>     additionally supports the 807x family from National
        Semiconductor;</li>
<li>     additionally supports the Intel 4040;</li>
<li>     additionally supports the Zilog eZ8;</li>
<li>     additionally supports the 78K2 family from NEC;</li>
<li>     additionally supports the KCPSM3 variant from Xilinx;</li>
<li>     additionally supports the LatticeMico8;</li>
<li>     additionally supports the 12X instruction extensions and the
        XGATE core of the 68HC12 family;</li>
<li>     additionally supports the Signetics 2650;</li>
<li>     additionally supports the COP4 family from National
        Semiconductor;</li>
<li>     additionally supports the HCS08 extensions by Freesacle;</li>
<li>     additionally supports the RS08 family by Freescale;</li>
<li>     additionally supports the Intel 8008;</li>
<li>     add another optional syntax for integer constants;</li>
<li>     added function<tt> CHARFROMSTR</tt>;</li>
<li>     additionally allow Q for octal constants in Intel mode;</li>
<li>     add another variant for temporary symbols;</li>
<li>     the PowerPC part has been extended by the MPC821 (contribution
        by Marcin Cieslak);</li>
<li>     implicit macro parameters are always case-insensitive;</li>
<li>     add<tt> REG</tt> statement to MSP430;</li>
<li>     additionally supports the XMOS XS1;</li>
<li>     additional parameters<tt> GLOBALSYMBOLS</tt> and<tt>
        NOGLOBALSYMBOLS</tt> to control whether labels in macros are
        local or not;</li>
<li>     additionally supports the NEC 75xx series;</li>
<li>     additionally supports the TMS1000 controllers from TI;</li>
<li>     additionally supports the 78K2 family from NEC;</li>
<li>     all newer changes are only documented in the separate changelog
        file.</li>
</ul>
 </li>
</ul>
<p>

</p><h1><a name="sect_I_">I. Hints for the AS Source Code</a></h1>
<a name="ref_ChapSource"></a>
<p>
As I already mentioned in the introduction, I release the source code
of AS on request. The following shall give a few hints to their
usage.
</p><p>

</p><h2><a name="sect_I_1_">I.1. Language Preliminaries</a></h2>
<p>
In the beginning, AS was a program written in Turbo-Pascal. This was
roughly at the end of the eighties, and there were a couple of
reasons for this choice: First, I was much more used to it than to
any C compiler, and compared to Turbo Pascal's IDE, all DOS-based C
compilers were just crawling along. In the beginning of 1997 however,
it became clear that things had changed: One factor was that Borland
had decided to let its confident DOS developers down (once again,
explicitly no 'thank you', you boneheads from Borland!) and replaced
version 7.0 of Borland Pascal with something called 'Delphi', which
is probably a wonderful tool to develop Windows programs which
consist of 90% user interface and accidentaly a little bit of
content, however completely useless for command-line driven programs
like AS. Furthermore, my focus of operating systems had made a clear
move towards Unix, and I probably could have waited arbitrarily long
for a Borland Pascal for Linux (to all those remarking now that
Borland would be working on something like that: this is<em>
Vapourware</em>, don"t believe them anything until you can go into a
shop and actually buy it!). It was therefore clear that C was the way
to go.
</p><p>
After this eperience what results the usage of 'island systems' may
have, I put a big emphasize on portability while doing the
translation to C; however, since AS for example deals with binary
data in an exactly format and uses operating systen-specific
functions at some places which may need adaptions when one compliles
AS the first time for a new platform.
</p><p>
AS is tailored for a C compiler that conforms to the ANSI C standard;
C++ is explicitly not required. If you are still using a compiler
conforming to the outdated Kernighan&amp;Ritchie standard, you should
consider getting a newer compiler: The ANSI C standard has been fixed
in 1989 and there should be an ANSI C compiler for every contemporary
platform, maybe by using the old compiler to build GNU-C. Though
there are some switches in the source code to bring it nearer to
K&amp;R, this is not an officially supported feature which I only use
internally to support a quite antique Unix. Everything left to say
about K&amp;R is located in the file<tt> README.KR</tt>.
</p><p>
The inclusion of some additional features not present in the Pascal
version (e.g. dynamically loadable message files, test suite,
automatic generation of the documentation from<em> one</em> source
format) has made the source tree substantially more complicated. I
will attempt to unwire everything step by step:
</p><p>

</p><h2><a name="sect_I_2_">I.2. Capsuling System dependencies</a></h2>
<p>
As I already mentioned, As has been tailored to provide maximum
platform independence and portability (at least I believe so...).
This means packing all platform dependencies into as few files as
possible. I will describe these files now, and this section is the
first one because it is probably one of the most important:
</p><p>
The Build of all components of AS takes place via a central<tt>
Makefile</tt>. To make it work, it has to be accompanied by a
fitting<tt> Makefile.def</tt> that gives the platform dependent
settings like compiler flags. The subdirectory<tt>
Makefile.def-samples</tt> contains a couple of includes that work for
widespread platforms (but which need not be optimal...). In case your
platform is not among them, you may take the file<tt>
Makefile.def.tmpl</tt> as a starting point (and send me the result!).
</p><p>
A further component to capure system dependencies is the file<tt>
sysdefs.h</tt>. Practically all compilers predefine a couple of
preprocessor symbols that describe the target processor and the used
operating system. For example, on a Sun Sparc under Solaris equipped
with the GNU compiler, the symbols __sparc and __SVR4.<tt>
sysdefs.h</tt> exploits these symbols to provide a homogeneous
environment for the remaining, system-independent files. Especially,
this covers integer datatypes of a specific length, but it may also
include the (re)definition of C functions which are not present or
non-standard-like on a specific platform. It's best to read this
files yourself if you like to know which things may occur...
Generally, the #ifdef statement are ordered in two levels: First, a
specific processor platform is selected, the the operating systems
are sorted out in such a section.
</p><p>
If you port AS to a new platform, you have to find two symbols
typical for this platform and extend<tt> sysdefs.h</tt> accordingly.
Once again, I'm interested in the result...
</p><p>

</p><h2><a name="sect_I_3_">I.3. System-Independent Files</a></h2>
<p>
...represent the largest part of all modules. Describing all
functions in detail is beyond the scope of this description (those
who want to know more probably start studying the sources, my
programming style isn't that horrible either...), which is why I can
only give a short list at this place with all modules their function:
</p><p>

</p><h3><a name="sect_I_3_1_">I.3.1. Modules Used by AS</a></h3>
<p>

</p><h4>as.c</h4>
<p>
This file is AS's root: it contains the<em> main()</em> function of
AS, the processing of all command line options, the overall control
of all passes and parts of the macro processor.
</p><p>

</p><h4>asmallg.c</h4>
<p>
This module processes all statements defined for all processor
targets, e.g.<tt> EQU</tt> and<tt> ORG</tt>. The<tt> CPU</tt>
pseudo-op used to switch among different processor targets is also
located here.
</p><p>

</p><h4>asmcode.c</h4>
<p>
This module contains the bookkeping needed for the code output file.
It exports an interface that allows to open and close a code file and
offers functions to write code to (or take it back from) the file. An
important job of this module is to buffer the write process, which
speeds up execution by writing the code in larger blocks.
</p><p>

</p><h4>asmdebug.c</h4>
<p>
AS can optionally generate debug information for other tools like
simulators or debuggers, allowing a backward reference to the source
code. They get collected in this module and can be output after
assembly in one of several formats.
</p><p>

</p><h4>asmdef.c</h4>
<p>
This modules only contains declarations of constants used in
different places and global variables.
</p><p>

</p><h4>asmfnums.c</h4>
<p>
AS assigns internally assigns incrementing numbers for each used
source file. These numbers are used for quick referencing. Assignment
of numbers and the conversion between names and numbers takes place
here.
</p><p>

</p><h4>asmif.c</h4>
<p>
Here ara ll routines located controlling conditional assembly. The
most important exported variable is a flag called<tt> IfAsm</tt>
which controls whether code generation is currently turned on or off.
</p><p>

</p><h4>asminclist.c</h4>
<p>
This module holds the definition of the list stucture that allows AS
to print the nesting of include files to the assembly list file.
</p><p>

</p><h4>asmitree.c</h4>
<p>
When searching for the mnemonic used in a line of code, a simple
linear comparison with all available machine instructions (as it is
still done in most code generators, for reasons of simplicity and
laziness) is not necessary the most effective method. This module
defines two improved structures (binary tree and hash table) which
provide a more efficient search and are destined to replace the
simple linear search on a step-by-step basis...priorities as
needed...
</p><p>

</p><h4>asmmac.c</h4>
<p>
Routines to store and execute macro constructs are located in this
module. The real macro processor is (as already mentioned) in<tt>
as.c</tt>.
</p><p>

</p><h4>asmpars.c</h4>
<p>
Here we really go into the innards: This module stores the symbol
tables (global and local) in two binary trees. Further more, there is
a quite large procedure<tt> EvalExpression</tt> which analyzes and
evaluates a (formula) expression. The procedure returns the result
(integer, floating point, or string) in a varaint record. However, to
evaluate expressions during code generation, one should better use
the functions<tt> EvalIntExpression, EvalFloatExpression</tt>,
and<tt> EvalStringExpression</tt>. Modifications for tha esake of
adding new target processors are unnecessary in this modules and
should be done with extreme care, since you are touching something
like 'AS's roots'.
</p><p>

</p><h4>asmsub.c</h4>
<p>
This module collects a couple of commonly used subroutines which
primarily deal with error handling and 'advanced' string processing.
</p><p>

</p><h4>bpemu.c</h4>
<p>
As already mentioned at the beginning, AS originally was a program
written in Borland Pascal. For some intrinsic functions of the
compiler, it was simpler to emulate those than to touch all places in
the source code where they are used. Well...
</p><p>

</p><h4>chunks.c</h4>
<p>
This module defines a data type to deal with a list of address
ranges. This functionality is needed by AS for allocation lists;
furthermore, P2BIN and P2HEX use such lists to warn about overlaps.
</p><p>

</p><h4>cmdarg.c</h4>
<p>
This module implements the overall mechanism of command line
arguments. It needs a specification of allowed arguments, splits the
command line and triggers the appropriate callbacks. In detail, the
mechanism includes the following:
</p><ul>
<li> Processing of arguments located in an environment variable or a
    corresponding file;</li>
<li> Return of a set describing which command line arguments have not
    been processed;</li>
<li> A backdoor for situations when an overlaying IDE converts the passed
    command line completely into upper or lower case.</li>
</ul>
<p>

</p><h4>codepseudo.c</h4>
<p>
You will find at this place pseudo instructions that are used by a
subset of code generators. On the one hand, this is the Intel group
of<tt> DB..DT</tt>, and on the other hand their counterparts for 8/16
bit CPUs from Motorola or Rockwell. Someone who wants to extend AS by
a processor fitting into one of these groups can get the biggest part
of the necessary pseudo instructions with one call to this module.
</p><p>

</p><h4>codevars.c</h4>
<p>
For reasons of memory efficiency, some variables commonly used by
diverse code generators.
</p><p>

</p><h4>endian.c</h4>
<p>
Yet another bit of machine dependence, however one you do not have to
spend attention on: This module automatically checks at startup
whether a host machine is little or big endian. Furthermore, checks
are made if the type definitions made for integer variables in<tt>
sysdefs.h</tt> really result in the correct lengths.
</p><p>

</p><h4>headids.c</h4>
<p>
At this place, all processor families supported by AS are collected
with their header IDs (see chapter <a href="#ref_SectCodeFormat">5.1</a>) and the output format to be used
by default by P2HEX. The target of this table is to centralize the
addition of a new processor as most as possible, i.e. in contrast to
earlier versions of AS, no further modifications of tool sources are
necessary.
</p><p>

</p><h4>ioerrs.c</h4>
<p>
The conversion from error numbers to clear text messages is located
here. I hope I'll never hit a system that does not define the numbers
as macros, because I would have to rewrite this module completely...
</p><p>

</p><h4>nlmessages.c</h4>
<p>
The C version of AS reads all messages from files at runtime after
the language to be used is clear. The format of message files is not
a simple one, but instead a special compact and preindexed format
that is generated at runtime by a program called 'rescomp' (we will
talk about it later). This module is the counterpart to rescomp that
reads the correct language part into a character field and offers
functions to access the messages.
</p><p>

</p><h4>nls.c</h4>
<p>
This module checks which country-dependent settings (date and time
format, country code) are present at runtime. Unfortunately, this is
a highly operating system-dependend task, and currently, there are
only three methods defines: The MS-DOS method, the OS/2 method and
the typical Unix method via<em> locale</em> functions. For all other
systems, there is unfortunately currently only NO_NLS available...
</p><p>

</p><h4>stdhandl.c</h4>
<p>
On the one hand, here is a special open function located knowing the
special strings<tt> !0...!2</tt> as file names and creating
duplicates of the standard file handles<em> stdin, stdout,</em>
and<em> stderr</em>. On the other hand, investiagations are done
whether the standard output has been redirected to a device or a
file. On no-Unix systems, this unfortunately also incorporates some
special operations.
</p><p>

</p><h4>stringlists.c</h4>
<p>
This is just a little 'hack' that defines routines to deal with
linear lists of strings, which are needed e.g. in the macro processor
of AS.
</p><p>

</p><h4>strutil.c</h4>
<p>
Some commonly needed string operations have found their home here.
</p><p>

</p><h4>version.c</h4>
<p>
The currently valid version is centrally stored here for AS and all
other tools.
</p><p>

</p><h4>code????.c</h4>
<p>
These modules form the main part of AS: each module contains the code
generator for a specific processor family.
</p><p>

</p><h3><a name="sect_I_3_2_">I.3.2. Additional Modules for the Tools</a></h3>
<p>

</p><h4>hex.c</h4>
<p>
A small module to convert integer numbers to hexadecimal strings.
It's not absolutely needed in C any more (except for the conversion
of<em> long long</em> variables, which unfortunately not all<tt>
printf()</tt>'s support), but it somehow survived the porting from
Pascal to C.
</p><p>

</p><h4>p2bin.c</h4>
<p>
The sources of P2BIN.
</p><p>

</p><h4>p2hex.c</h4>
<p>
The sources of P2HEX.
</p><p>

</p><h4>pbind.c</h4>
<p>
The sources of BIND.
</p><p>

</p><h4>plist.c</h4>
<p>
The sources of PLIST.
</p><p>

</p><h4>toolutils.c</h4>
<p>
All subroutines needed by several tools are collected here, e.g. for
reading of code files.
</p><p>

</p><h2><a name="sect_I_4_">I.4. Modules Needed During the Build of AS</a></h2>
<p>

</p><h4>a2k.c</h4>
<p>
This is a minimal filter converting ANSI C source files to
Kernighan-Ritchie style. To be exact: only function heads are
converted, even this only when they are roughly formatted like my
programming style. Noone should therefore think this were a universal
C parser!
</p><p>

</p><h4>addcr.c</h4>
<p>
A small filter needed during installation on DOS- or OS/2-systems.
Since DOS and OS/2 use a CR/LF for a newline, inc ontrast to the
single LF of Unix systems, all assembly include files provided with
AS are sent through this filter during assembly.
</p><p>

</p><h4>bincmp.c</h4>
<p>
For DOS and OS/2, this module takes the task of the<em> cmp</em>
command, i.e. the binary comparison of files during the test run.
While this would principally be possible with the<em> comp</em>
command provided with the OS,<em> bincmp</em> does not have any nasty
interactive questions (which seem to be an adventure to get rid
of...)
</p><p>

</p><h4>findhyphen.c</h4>
<p>
This is the submodule in<em> tex2doc</em> providing hyphenation of
words. The algorithm used for this is shamelessly stolen from TeX.
</p><p>

</p><h4>grhyph.c</h4>
<p>
The definition of hyphenation rules for the german language.
</p><p>

</p><h4>rescomp.c</h4>
<p>
This is AS's 'resource compiler', i.e. the tool that converts a
readable file with string resources into a fast, indexed format.
</p><p>

</p><h4>tex2doc.c</h4>
<p>
A tool that converts the LaTeX documentation of AS into an ASCII
format.
</p><p>

</p><h4>tex2html.c</h4>
<p>
A tool that converts the LaTeX documentation of AS into an HTML
document.
</p><p>

</p><h4>umlaut.c and unumlaut.c</h4>
<p>
These tiny programs convert national special characters between their
coding in ISO8859-1 (all AS files use this format upon delivery) and
their system-specific coding. Apart from a plain ASCII7 variant,
there are currently the IBM character sets 437 and 850.
</p><p>

</p><h4>ushyph.c</h4>
<p>
The definition of hyphenation rules for the english language.
</p><p>

</p><h2><a name="sect_I_5_">I.5. Generation of Message Files</a></h2>
<p>
As already mentioned, the C source tree of AS uses a dynamic load
principle for all (error) messages. In contrast to the Pasacl sources
where all messages were bundled in an include file and compiled into
the programs, this method eliminates the need to provide AS in
multiple language variants; there is only one version which checks
for the langugage to be used upon runtime and loads the corresponding
component from the message files. Just to remind: Under DOS and OS/2,
the<tt> COUNTRY</tt> setting is queried, while under Unix, the
environment variables<tt> LC_MESSAGES, LC_ALL,</tt> and<tt> LANG</tt>
are checked.
</p><p>

</p><h3><a name="sect_I_5_1_">I.5.1. Format of the Source Files</a></h3>
<p>
A source file for the message compiler<em> rescomp</em> usually has
the suffix<tt> .res</tt>. The message compiler generates one or two
files from a source:
</p><ul>
<li> a binary file which is read at runtime by AS resp. its tools</li>
<li> optionally one further C header file assigning an index number to
    all messages. These index numbers in combination with an index
    table in the binary file allow a fast access to to individual
    messages at runtime.</li>
</ul>
<p>
The source file for the message compiler is a pure ASCII file and can
therefore be modified with any editor. It consists of a sequence of
control commands with parameters. Empty lines and lines beginning
with a semicolon are ignored. Inclusion of other files is possible
via the<tt> Include</tt> statement:
</p><pre>
Include &lt;Datei&gt;

</pre>
<p>
The first two statements in every source file must be two statements
describing the languages defined in the following. The more important
one is<tt> Langs</tt>, e.g.:
</p><pre>
Langs DE(049) EN(001,061)

</pre>
describes that two languages will be defined in the rest of the file.
The first one shall be used under Unix when the language has been set
to<tt> DE</tt> via environment variable. Similarly, It shall be used
under DOS and OS/2 when the country code was set to 049. Similarly,
the second set shall be used for the settings<tt> DE</tt> resp. 061
or 001. While multiple 'telephone numbers' may point to a single
language, the assignment to a Unix language code is a one-to-one
correspondence. This is no problem in practice since the<tt>
LANG</tt> variables Unix uses describe subversions via appendices,
e.g.:
<pre>
de.de
de.ch
en.us

</pre>
AS only compares the beginning of the strings and therefore still
comes to the right decision. The<tt> Default</tt> statement defines
the language that shall be used if either no language has been set at
all or a language is used that is not mentioned in the asrgument list
of<tt> Langs</tt>. This is typically the english language:
<pre>
Default EN

</pre>
These definitions are followed by an arbitrary number of<tt>
Message</tt> statements, i.e. definitions of messages:
<pre>
Message ErrName
 ": Fehler "
 ": error "

</pre>
In case<em> n</em> languages were announced via the<tt> Langs</tt>
statement, the message compiler takes<b> exactly</b> the
following<em> n</em> as the strings to be stored. It is therefore
impossible to leave out certain languages for individual messages,
and an empty line following the strings should in no way be
misunderstood as an end marker for the list; inserted lines between
statements only serve purposes of better readability. It is however
allowed to split individual messages across multiple lines in the
source file; all lines except for the last one have to be ended with
a backslash as continuation character:
<pre>
Message TestMessage2
 "Dies ist eine" \
 "zweizeilige Nachricht"
 "This is a" \
 "two-line message"

</pre>
As already mentioned, source files are pure ASCII files; national
special characters may be placed in message texts (and the compiler
will correctly pass them to the resulting file), a big disadvantage
however is that such a file is not fully portable any more: in case
it is ported to another system using a different coding for national
special characters, the user will probably be confronted with funny
characters at runtime...special characters should therefore always be
written via special sequences borrowed from HTML resp. SGML (see
table <a href="#ref_TabSpecChars">I.1</a>). Linefeeds can be inserted
into a line via \n, similar to C.

<center>
<p></p><center><table summary="No Summary" cellpadding="5" border="1">
<tbody><tr align="LEFT">
<th valign="TOP" nowrap="nowrap" align="LEFT">Sequence...</th>
<th valign="TOP" nowrap="nowrap" align="LEFT">results in...</th>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap" align="LEFT"> &amp;auml; &amp;ouml; &amp;uuml;<br>
 &amp;Auml; &amp;Ouml; &amp;Uuml;<br>
 &amp;szlig;<br>
 &amp;agrave; &amp;egrave; &amp;igrave; &amp;ograve;<br>
 &amp;ugrave;<br>
 &amp;Agrave; &amp;Egrave; &amp;Igrave; &amp;Ograve;<br>
 &amp;Ugrave;<br>
 &amp;aacute; &amp;eacute; &amp;iacute; &amp;oacute;<br>
 &amp;uacute;<br>
 &amp;Aacute; &amp;Eacute; &amp;Iacute; &amp;Oacute;<br>
 &amp;Uacute;<br>
 &amp;acirc; &amp;ecirc; &amp;icirc; &amp;ocirc;<br>
 &amp;ucirc;<br>
 &amp;Acirc; &amp;Ecirc; &amp;Icirc; &amp;Ocirc;<br>
 &amp;Ucirc;<br>
 &amp;ccedil; &amp;Ccedil;<br>
 &amp;ntilde; &amp;Ntilde;<br>
 &amp;aring; &amp;Aring;<br>
 &amp;aelig; &amp;Aelig;<br>
 &amp;iquest; &amp;iexcl;</td>
<td valign="TOP" nowrap="nowrap" align="LEFT">"a "o "u (Umlauts)<br>
"A "O "U<br>
"s (sharp s)<br>
á é í ó<br>
ú<br>
Á É Í Ó<br>
Ú (Accent grave)<br>
à è ì ò<br>
ù<br>
À È Ì Ò<br>
Ù (Accent agiu)<br>
â ê î ô<br>
û<br>
Â Ê Î Ô<br>
Û (Accent circonflex)<br>
ç Ç(Cedilla)<br>
ñ Ñ<br>
å Å<br>
æ Æ<br>
inverted ! or ?</td>
</tr>
</tbody></table></center>
</center>
<p></p><center>Table I.1: Syntax for special character in<em> rescomp</em><a name="ref_TabSpecChars"></a>
</center><p>

</p><p>

</p><h2><a name="sect_I_6_">I.6. Creation of Documentation</a></h2>
<p>
A source distribution of AS contains this documentation in LaTeX
format only. Other formats are created from this one automatically
via tools provided with AS. One reason is to reduce the size of the
source distribution, another reason is that changes in the
documentation only have to be made once, avoiding inconsistencies.
</p><p>
LaTex was chosen as the master format because...because...because
it's been there all the time before. Additionally, TeX is almost
arbitrarily portable and fits quite well to the demands of AS. A
standard distribution therefore allows a nice printout on about any
printer; for a conversion to an ASCII file that used to be part of
earlier distributions, the converter<em> tex2doc</em> is included,
additionally the converter<em> tex2html</em> allowing to put the
manual into the Web.
</p><p>
Generation of the documentation is started via a simple
</p><pre>
make docs

</pre>
The two converters mentioned are be built first, then applied to the
TeX documentation and finally, LaTeX itself is called. All this of
course for all languages...
<p>

</p><h2><a name="sect_I_7_">I.7. Test Suite</a></h2>
<p>
Since AS deals with binary data of a precisely defined structure, it
is naturally sensitive for system and compiler dependencies. To reach
at least a minimum amount of secureness that everything went right
during compilation, a set of test sources is provided in the
subdirectory<tt> tests</tt> that allows to test the freshly built
assembler. These programs are primarily trimmed to find faults in the
translation of the machine instruction set, which are commonplace
when integer lenghts vary. Target-independent features like the macro
processors or conditional assembly are only casually tested, since I
assume that they work everywhere when they work for me...
</p><p>
The test run is started via a simple<em> make test</em>. Each test
program is assembled, converted to a binary file, and compared to a
reference image. A test is considered to be passed if and only if the
reference image and the newly generated one are identical on a
bit-by-bit basis. At the end of the test, the assembly time for every
test is printed (those who want may extend the file BENCHES with
these results), accompanied with a success or failure message. Track
down every error that occurs, even if it occurs in a processor target
you are never going to use! It is always possible that this points to
an error that may also come up for other targets, but by coincidence
not in the test cases.
</p><p>

</p><h2><a name="sect_I_8_">I.8. Adding a New Target Processor</a></h2>
<p>
The probably most common reason to modify the source code of AS is to
add a new target processor. Apart from adding the new module to the
Makefile, there are few places in other modules that need a
modification. The new module will do the rest by registering itself
in the list of code generators. I will describe the needed steps in a
cookbook style in the following sections:
</p><p>

</p><h4>Choosing the Processor's Name</h4>
<p>
The name chosen for the new processor has to fulfill two criterias:
</p><ol>
<li>The name must not be already in use by another processor. If one
    starts AS without any parameters, a list of the names already in
    use will be printed.</li>
<li>If the name shall appear completely in the symbol<tt> MOMCPU</tt>, it
    may not contain other letters than A..F (except right at the
    beginning). The variable<tt> MOMCPUNAME</tt> however will always
    report the full name during assembly. Special characters are
    generally disallowed, lowercase letters will be converted by
    the<tt> CPU</tt> command to uppercase letters and are therefore
    senseless in the processor name.</li>
</ol>
<p>
The first step for registration is making an entry for the new
processor (family) in the file<tt> headids.c</tt>. As already
mentioned, this file is also used by the tools and specifies the code
ID assigned to a processor family, along with the default hex file
format to be used. I would like to have some coordination before
choosing the ID...
</p><p>

</p><h4>Definition of the Code Generator Module</h4>
<p>
The unit's name that shall be responsible for the new processor
should bear at least some similarity to the processor's name (just
for the sake of uniformity) and should be named in the style of<tt>
code....</tt>. The head with include statements is best taken from
another existing code generator.
</p><p>
Except for an initialization function that has to be called at the
begginning of the<tt> main()</tt> function in module<tt> as.c</tt>,
the new module neither has to export variables nor functions as the
complete communication is done at runtime via indirect calls. They
are simply done by a call to the function<tt> AddCPU</tt> for each
processor type that shall be treated by this unit:
</p><pre>
   CPUxxxx:=AddCPU('XXXX',SwitchTo_xxxx);

</pre>
<tt>'XXXX'</tt> is the name chosen for the processor which later must
be used in assembler programs to switch AS to this target
processor.<tt> SwitchTo_xxxx</tt> (abbreviated as the ''switcher'' in
the following) is a procedure without parameters that is called by AS
when the switch to the new processor actually takes place.<tt>
AddCPU</tt> delivers an integer value as result that serves as an
internal ''handle'' for the new processor. The global variable<tt>
MomCPU</tt> always contains the handle of the target processor that
is currently set. The value returned by<tt> AddCPU</tt> should be
stored in a private variable of type<tt> CPUVar</tt> (called<tt>
CPUxxxx</tt> in the example above). In case a code generator module
implements more than one processor (e.g. several processors of a
family), the module can find out which instruction subset is
currently allowed by comparing<tt> MomCPU</tt> against the stored
handles.
<p>
The switcher's task is to ''reorganize'' AS for the new target
processor. This is done by changing the values of several global
variables:
</p><ul>
<li> <tt>ValidSegs</tt>: Not all processors have all address spaces
    defined by AS. This set defines which subset the<tt> SEGMENT</tt>
    instruction will enable for the currently active target
    processor. At least the<tt> CODE</tt> segment has to be enabled.
    The complete set of allowed segments can be looked up the
    file<tt> fileformat.h</tt> (<tt>Seg....</tt> constants).</li>
<li> <tt>SegInits</tt>: This array stores the initial program counter
    values for the individual segments (i.e. the values the program
    counters will initially take when there is no<tt> ORG</tt>
    statement). There are only a few exceptions (like logically
    separated address spaces that physically overlap) which justify
    other initial values than 0.</li>
<li> <tt>Grans</tt>: This array specifies the size of the smallest
    addressable element in bytes for each segment, i.e. the size of
    an element that increases an address by 1. Most processors need a
    value of 1, even if they are 16- or 32-bit processors, but the
    PICs and signal processors are cases where higher values are
    required.</li>
<li> <tt>ListGrans</tt>: This array specifies the size of byte groups
    that shall be shown in the assembly listing. For example,
    instruction words of the 68000 are always 2 bytes long though the
    code segment's granularity is 1. The<tt> ListGran</tt> entry
    therefore has to be set to 2.</li>
<li> <tt>SegLimits</tt>: This array stores the highest possible address
    for each segment, e.g. 65535 for a 16-bit address space. This
    array need not be filled in case the code generator takes over
    the<tt> ChkPC</tt> method.</li>
<li> <tt>ConstMode</tt>: This variable may take the values<tt>
    ConstModeIntel</tt>,<tt> ConstModeMoto</tt>, or<tt>
    ConstModeC</tt> and rules which syntax has to be used to specify
    the base of integer constants.</li>
<li> <tt>PCSymbol</tt>: This variable contains the string an assembler
    program may use to to get the current value of the program
    counter. Intel processors for example usually use a dollar
    sign.</li>
<li> <tt>TurnWords</tt>: If the target processor uses big-endian
    addressing and one of the fields in<tt> ListGran</tt> is larger
    than one, set this flag to true to get the correct byte order in
    the code output file.</li>
<li> <tt>SetIsOccupied</tt>: Some processors have a<tt> SET</tt> machine
    instruction. If this callback is set to a non-NULL value, the
    code generator may report back whether<tt> SET</tt> shall not be
    interpreted as pseudo instruction. The return value may be
    constant<tt> True</tt> or or e.g. depend on the number of
    argument if a differentiation is possible.</li>
<li> <tt>HeaderID</tt>: This variable contains the ID that is used to
    mark the current processor family in the the code output file
    (see the description of the code format described by AS). I urge
    to contact me before selecting the value to avoid ambiguities.
    Values outside the range of $01..$7f should be avoided as they
    are reserved for special purposes (like a future extension to
    allow linkable code). Even though this value is still hard-coded
    in most code generators, the preferred method is now to fetch
    this value from<tt> headids.h</tt> via<tt>
    FindFamilyByName</tt>.</li>
<li> <tt>NOPCode</tt>: There are some situations where AS has to fill
    unused code areas with NOP statements. This variable contains the
    machine code of the NOP statement.</li>
<li> <tt>DivideChars</tt>: This string contains the characters that are
    valid separation characters for instruction parameters. Only
    extreme exotics like the DSP56 require something else than a
    single comma in this string.</li>
<li> <tt>HasAttrs</tt>: Some processors like the 68k series additionally
    split an instruction into mnemonic and attribute. If the new
    processor also does something like that, set this flag to true
    and AS will deliver the instructions' components readily split in
    the string variables<tt> OpPart</tt> and<tt> AttrPart</tt>. If
    this flag is however set to false, no splitting will take place
    and the instruction will be delivered as a single piece in<tt>
    OpPart</tt>.<tt> AttrPart</tt> will stay empty in this case. One
    really should set this flag to false if the target processor does
    not have attributes as one otherwise looses the opportunity to
    use macros with a name containing dots (e.g. to emulate other
    assemblers).</li>
<li> <tt>AttrChars</tt>: In case<tt> HasAttrs</tt> is true, this string
    has to contain all characters that can separate mnemonic and
    attribute. In most cases, this string only contains a single
    dot.</li>
</ul>
Do not assume that any of these variables has a predefined value; set
them<b> all</b>!!
<p>
Apart from these variables, some function pointers have to be set
that form the link form AS to the ''active'' parts of the code
generator:
</p><ul>
<li> <tt>MakeCode</tt>: This routine is called after a source line has
    been split into mnemonic and parameters. The mnemonic is stored
    into the variable<tt> OpPart</tt>, and the parameters can be
    looked up in the array<tt> ArgStr</tt>. The number of arguments
    may be read from<tt> ArgCnt</tt>. The binary code has to be
    stored into the array<tt> BAsmCode</tt>, its length into<tt>
    CodeLen</tt>. In case the processor is word oriented like the
    68000 (i.e. the<tt> ListGran</tt> element corresponding to the
    currently active segment is 2), the field may be addressed
    wordwise via<tt> WAsmCode</tt>. There is also<tt> DAsmCode</tt>
    for extreme cases... The code length has to be given in units
    corresponding to the current segment's granularity.</li>
<li> <tt>SwitchFrom</tt>: This parameter-less procedure enables the code
    generator module to do ''cleanups'' when AS switches to another
    target processor. This hook allows e.g. to free memory that has
    been allocated in the generator and that is not needed as long as
    the generator is not active. It may point to an empty procedure
    in the simplest case. One example for the usage of this hook is
    the module<tt> CODE370</tt> that builds its instruction tables
    dynamically and frees them again after usage.</li>
<li> <tt>IsDef</tt>: Some processors know additional instructions that
    impose a special meaning on a label in the first row like<tt>
    EQU</tt> does. One example is the<tt> BIT</tt> instruction found
    in an 8051 environment. This function has to return TRUE if such
    a special instruction is present. In the simplest case (no such
    instructions), the routine may return a constant FALSE.</li>
</ul>
<p>
Optionally, the code generator may additionally set the following
function pointers:
</p><ul>
<li> <tt>ChkPC</tt> : Though AS internally treats all program counters as
    either 32 or 64 bits, most processors use an address space that
    is much smaller. This function informs AS whether the current
    program counter has exceeded its allowed range. This routine may
    of course be much more complicated in case the target processor
    has more than one address space. One example is in module<tt>
    code16c8x.c</tt>. In case everything is fine, the function has to
    return TRUE, otherwise FALSE. The code generator only has to
    implement this function if it did not set up the array<tt>
    SegLimits</tt>. This may e.g. become necessary when the allowed
    range of addresses in a segment is non-continuous.</li>
<li> <tt>InternSymbol</tt> : Some processorcs, e.g. such with a register
    bank in their internal RAM, predefine such 'registers' as
    symbols, and it wouldn't make much sense to define them in a
    separate include file with 256 or maybe more<tt> EQU</tt>s. This
    hook allows access to the code generator of AS: It obtains an
    expression as an ASCII string and sets up the passed structure of
    type<em> TempResult</em> accordingly when one of these 'built-in'
    symbols is detected. The element<tt> Typ</tt> has to be set
    to<tt> TempNone</tt> in case the check failed. Errors messages
    from this routine should be avoided as unidentified names could
    signify ordinary symbols (the parser will check this afterwards).
    Be extreme careful with this routine as it allows you to
    intervene into the parser's heart!</li>
<li> <tt>DissectBit</tt> : In case the target platform supports bit
    objects, i.e. objects that pack both a register or memory address
    and a bit position into one integer number, this is the callback
    to dissect such a packed representation and transform it back
    into a source-code like, human-readable form. This provides
    better readability of the listing.</li>
<li> <tt>DissectReg</tt> : In case the target platform supports register
    symbols, this is the callback that translates register number and
    size back to a source-code like, human-readable form. Again, this
    function is used for the listing.</li>
<li> <tt>QualifyQuote</tt> : This optional callback allows to define on a
    per-platform base situations when a single quotation character
    does<em> not</em> lead in a character string. An example for this
    is the Z80's alternate register bank, which is written as<tt>
    AF'</tt>, or the hexadecimal constant syntax<tt> H'...</tt> used
    on some Hitachi processors.</li>
</ul>
<p>
By the way: People who want to become immortal may add a copyright
string. This is done by adding a call to the procedure<tt>
AddCopyright</tt> in the module's initialization part (right next to
the<tt> AddCPU</tt> calls):
</p><pre>
   AddCopyright(
      "Intel 80986 code generator (C) 2010 Jim Bonehead");

</pre>
The string passed to<tt> AddCopyright</tt> will be printed upon
program start in addition to the standard message.
<p>
If needed, the unit may also use its initialization part to hook into
a list of procedures that are called prior to each pass of assembly.
Such a need for example arises when the module's code generation
depends on certain flags that can be modified via pseudo
instructions. An example is a processor that can operate in either
user or supervisor mode. In user mode, some instructions are
disabled. The flag that tells AS whether the following code executes
in user or supervisor mode might be set via a special pseudo
instruction. But there must also be an initialization that assures
that all passes start with the same state. The hook offered via<tt>
AddInitPassProc</tt> offers a chance to do such initializations. The
callback function passed to it is called before a new pass is
started.
</p><p>
The function chain built up via calls to<tt> AddCleanUpProc</tt>
operates similar to<tt> AddInitPassProc</tt>: It enables code
generators to do clean-ups after assembly (e.g. freeing of literal
tables). This makes sense when multiple files are assembled with a
single call of AS. Otherwise, one would risk to have 'junk' in tables
from the previous run. No module currently uses this feature.
</p><p>

</p><h4>Writing the Code Generator itself</h4>
<p>
Now we finally reached the point where your creativity is challenged:
It is up to you how you manage to translate mnemonic and parameters
into a sequence of machine code. The symbol tables are of course
accessible (via the formula parser) just like everything exported
from<tt> ASMSUB</tt>. Some general rules (take them as advises and
not as laws...):
</p><ul>
<li> Try to split the instruction set into groups of instructions that
    have the same operand syntax and that differ only in a few bits
    of their machine code. For example, one can do all instructions
    without parameters in a single table this way.</li>
<li> Most processors have a fixed spectrum of addressing modes. Place the
    parsing of an address expression in a separate routine so you an
    reuse the code.</li>
<li> The subroutine<tt> WrError</tt> defines a lot of possible error
    codes and can be easily extended. Use this! It is no good to
    simply issue a ''syntax error'' on all error conditions!</li>
</ul>
Studying other existing code generators should also prove to be
helpful.
<p>

</p><h4>Modifications of Tools</h4>
<p>
A microscopic change to the tolls' sources is still necessary, namely
to the routine<tt> Granularity()</tt> in<tt> toolutils.c</tt>: in
case one of the processor's address spaces has a granularity
different to 1, the swich statement in this place has to be adapted
accordingly, otherwise PLIST, P2BIN, and P2HEX start counting
wrong...
</p><p>

</p><h2><a name="sect_I_9_">I.9. Localization to a New Language</a></h2>
<p>
You are interested in this topic? Wonderful! This is an issue that is
often neglected by other programmers, especially when they come from
the country on the other side of the big lake...
</p><p>
The localization to a new language can be split into two parts: the
adaption of program messages and the translation of the manual. The
latter one is definitely a work of gigantic size, however, the
adaption of program messages should be a work doable on two or three
weekends, given that one knows both the new and one of the already
present messages. Unfortunately, this translation cannot be done on a
step-by-step basis because the resource compiler currently cannot
deal with a variable amount of languages for different messages, so
the slogan is 'all or nothing'.
</p><p>
The first oeration is to add the new language to<tt> header.res</tt>.
The two-letter-abbreviation used for this language is best fetched
from the nearest Unix system (in case you don't work on one
anyway...), the international telephone prefix from a DOS manual.
</p><p>
When this is complete, one can rebuild all necessary parts with a
simple<em> make</em> and obtains an assembler that supports one more
language. Do not forget to forward the results to me. This way, all
users will benefit from this with the next release :-)
</p><p>
</p><p>
</p><h1><a name="sect_bib">Bibliography</a></h1>
<dl compact="compact">
<dt><a name="cite_Williams">[ 1] </a></dt><dd>Steve Williams:<br>
     <em> 68030 Assembly Language Reference.</em><br>
     Addison-Wesley, Reading, Massachusetts, 1989
</dd><dt><a name="cite_AMD29K">[ 2] </a></dt><dd>Advanced Micro Devices:<br>
     <em> AM29240, AM29245, and AM29243 RISC
     Microcontrollers.</em><br>
     1993
</dd><dt><a name="cite_AtAVR">[ 3] </a></dt><dd>Atmel Corp.:<br>
     <em> AVR Enhanced RISC Microcontroller Data Book.</em><br>
     May 1996
</dd><dt><a name="cite_AVRObj">[ 4] </a></dt><dd>Atmel Corp.:<br>
     <em> 8-Bit AVR Assembler and Simulator Object File Formats
     (Preliminary).</em><br>
     (part of the AVR tools documentation)
</dd><dt><a name="cite_CSG65CE02">[ 5] </a></dt><dd>Commodore Semiconductor
     Group:<br>
     <em> 65CE02 Microprocessor Preliminary Data Sheet.</em>
</dd><dt><a name="cite_CMD816">[ 6] </a></dt><dd>CMD Microcircuits:<br>
     <em> G65SC802/G65SC816 CMOS 8/16-Bit Microprocessor.</em><br>
     Family Data Sheet.
</dd><dt><a name="cite_CFMAC">[ 7] </a></dt><dd>Freescale Semiconductor:<br>
     <em> Digital Signal Processing Libraries Using the ColdFire eMAC
     and MAC User's Manual.</em> DSPLIBUM, Rev. 1.2, 03/2006
</dd><dt><a name="cite_COP4">[ 8] </a></dt><dd>National Semiconductor:<br>
     <em> COP410L/COP411L/COP310L/COP311L Single-Chip N-Channel
     Microcontrollers.</em> RRD-B30M105, March 1992
</dd><dt><a name="cite_COPS">[ 9] </a></dt><dd>National Semiconductor:<br>
     <em> COPS Family User's Guide.</em>
</dd><dt><a name="cite_CP1600">[10] </a></dt><dd>General Instrument
     Microelectronics:<br>
     <em> Series 1600 Microprocessor System Documentation..</em><br>
     S16DOC-CP-1600-04, May 1975<br>
     http://www.bitsavers.org/components/gi/CP1600/<br>
     CP-1600_Microprocessor_Users_Manual_May75.pdf
</dd><dt><a name="cite_CPM68K">[11] </a></dt><dd>Digital Research:<br>
     <em> CP/M 68K Operating System User's Guide.</em><br>
     1983
</dd><dt><a name="cite_Cyrix">[12] </a></dt><dd>Cyrix Corp.:<br>
     <em> FasMath 83D87 User's Manual.</em><br>
     1990
</dd><dt><a name="cite_Dallas320">[13] </a></dt><dd>Dallas Semiconductor:<br>
     <em> DS80C320 High-Speed Micro User's Guide.</em><br>
     Version 1.30, 1/94
</dd><dt><a name="cite_Fair1101">[14] </a></dt><dd>Fairchild Semiconductor:<br>
     <em> ACE1101 Data Sheet.</em><br>
     Preliminary, May 1999
</dd><dt><a name="cite_Fair1202">[15] </a></dt><dd>Fairchild Semiconductor:<br>
     <em> ACE1202 Data Sheet.</em><br>
     Preliminary, May 1999
</dd><dt><a name="cite_Fair8004">[16] </a></dt><dd>Fairchild Semiconductor:<br>
     <em> ACEx Guide to Developer Tools.</em> AN-8004, Version 1.3
     September 1998
</dd><dt><a name="cite_FairF8UG">[17] </a></dt><dd>Fairchild Micro Systems:<br>
     <em> F8 User's Guide.</em> 67095665, 02-13-1976
</dd><dt><a name="cite_FairF8GP">[18] </a></dt><dd>Fairchild Micro Systems:<br>
     <em> F8 Guide to Programming</em> 67095664, 1976
</dd><dt><a name="cite_Free12X">[19] </a></dt><dd>Freescale Semiconductor:<br>
     <em> S12XCPUV1 Reference Manual.</em> S12XCPUV1, v01.01, 03/2005
</dd><dt><a name="cite_FreeRS08">[20] </a></dt><dd>Freescale Semiconductor:<br>
     <em> RS08 Core Reference Manual.</em> RS08RM, Rev. 1.0, 04/2006
</dd><dt><a name="cite_FreeXGATE">[21] </a></dt><dd>Freescale
     Semiconductor:<br>
     <em> MC9S12XDP512 Data Sheet.</em> MC9S12XDP512, Rev. 2.11,
     5/2005
</dd><dt><a name="cite_FujitsuCD">[22] </a></dt><dd>Fujitsu Limited:<br>
     <em> June 1998 Semiconductor Data Book.</em><br>
     CD00-00981-1E
</dd><dt><a name="cite_Fujitsu16">[23] </a></dt><dd>Fujitsu Semiconductor:<br>
     <em> F²MC16LX 16-Bit Microcontroller MB90500 Series
     Programming Manual.</em><br>
     CM44-00201-1E, 1998
</dd><dt><a name="cite_GBZ80">[24] </a></dt><dd><em> CPU Comparison with
     Z80.</em><br>
     https://gbdev.io/pandocs/CPU_Comparison_with_Z80.html
</dd><dt><a name="cite_Hit180">[25] </a></dt><dd>Hitachi Ltd.:<br>
     <em> 8-/16-Bit Microprocessor Data Book.</em><br>
     1986
</dd><dt><a name="cite_Hit63">[26] </a></dt><dd>Trevor J.Terrel &amp; Robert J.
     Simpson:<br>
     <em> Understanding HD6301X/03X CMOS Microprocessor
     Systems.</em><br>
     published by Hitachi
</dd><dt><a name="cite_HitH8_3">[27] </a></dt><dd>Hitachi Microcomputer:<br>
     <em> H8/300H Series Programming Manual.</em><br>
     (21-032, no year of release given)
</dd><dt><a name="cite_HitH16">[28] </a></dt><dd>Hitachi America, Ltd.:<br>
     <em> HD641016 User's Manual.</em><br>
     ADE-602-003A, September 1989
</dd><dt><a name="cite_HuC6280">[29] </a></dt><dd><em> HuC6280 CMOS 8-bit
     Microprocessor Software Manual.</em>
</dd><dt><a name="cite_Rock6519">[30] </a></dt><dd>Rockwell:<br>
     <em> R65C19 Microcomputer Data Sheet.</em><br>
     Document Number 29400N10, January 1992
</dd><dt><a name="cite_SH7000">[31] </a></dt><dd>Hitachi Semiconductor Design
     &amp; Development Center:<br>
     <em> SH Microcomputer Hardware Manual (Preliminary).</em>
</dd><dt><a name="cite_SH7700">[32] </a></dt><dd>Hitachi Semiconductor and IC
     Div.:<br>
     <em> SH7700 Series Programming Manual.</em><br>
     1st Edition, September 1995
</dd><dt><a name="cite_HMCS400">[33] </a></dt><dd>Hitachi America Ltd.:<em>
     HMCS400 Series Handbook: Users Manual</em> AD-E00078, March 1988
</dd><dt><a name="cite_HitH8_5">[34] </a></dt><dd>Hitachi Semiconductor and IC
     Div.:<br>
     <em> H8/500 Series Programming Manual.</em><br>
     (21-20, 1st Edition Feb. 1989)
</dd><dt><a name="cite_HitH8_532">[35] </a></dt><dd>Hitachi Ltd.:<br>
     <em> H8/532 Hardware Manual.</em><br>
     (21-30, no year of release given)
</dd><dt><a name="cite_HitH8_534">[36] </a></dt><dd>Hitachi Ltd.:<br>
     <em> H8/534,H8/536 Hardware Manual.</em><br>
     (21-19A, no year of release given)
</dd><dt><a name="cite_PPC403">[37] </a></dt><dd>IBM Corp.:<br>
     <em> PPC403GA Embedded Controller User's Manual.</em><br>
     First Edition, September 1994
</dd><dt><a name="cite_IntEmb">[38] </a></dt><dd>Intel Corp.:<br>
     <em> Embedded Controller Handbook.</em><br>
     1987
</dd><dt><a name="cite_IntMic">[39] </a></dt><dd>Intel Corp.:<br>
     <em> Microprocessor and Peripheral Handbook, Volume I
     Microprocessor.</em><br>
     1988
</dd><dt><a name="cite_Int48">[40] </a></dt><dd>Intel Corp. :<br>
     <em> MCS-48 Family of Single Chip Microcomputers User's
     Manual.</em><br>
     September 1980
</dd><dt><a name="cite_Int960">[41] </a></dt><dd>Intel Corp. :<br>
     <em> 80960SA/SB Reference Manual.</em><br>
     1991
</dd><dt><a name="cite_Int196">[42] </a></dt><dd>Intel Corp.:<br>
     <em> 8XC196NT Microcontroller User's Manual.</em><br>
     June 1995
</dd><dt><a name="cite_Int251">[43] </a></dt><dd>Intel Corp.:<br>
     <em> 8XC251SB High Performance CHMOS Single-Chip
     Microcontroller.</em><br>
     Sept. 1995, Order Number 272616-003
</dd><dt><a name="cite_Int296">[44] </a></dt><dd>Intel Corp.:<br>
     <em> 80296SA Microcontroller User's Manual.</em><br>
     Sept. 1996
</dd><dt><a name="cite_Int4040">[45] </a></dt><dd>Intel Corp.:<br>
     <em> 4040: Single-Chip 4-Bit P-Channel Microprocessor.</em><br>
     (no year of release given)
</dd><dt><a name="cite_Inters02">[46] </a></dt><dd>Intersil:<br>
     <em> CDP1802A, CDP1802AC, CDP1802BC CMOS 8-Bit
     Microprocessors.</em><br>
     March 1997
</dd><dt><a name="cite_RCA1804">[47] </a></dt><dd>: RCA Inc.:<em> CDP1804,
     CDP1804C Types Objective Data.</em>
</dd><dt><a name="cite_Inters05">[48] </a></dt><dd>Intersil:<br>
     <em> CDP1805AC, CDP1806AC CMOS 8-Bit Microprocessor with On-Chip
     RAM and Counter/Timer.</em><br>
     March 1997
</dd><dt><a name="cite_Kaku">[49] </a></dt><dd>Hirotsugu Kakugawa:<br>
     <em> A memo on the secret features of 6309.</em><br>
     (available via World Wide Web:<br>
     http://www.cs.umd.edu/users/fms/comp/CPUs/6309.txt)
</dd><dt><a name="cite_Kenbak">[50] </a></dt><dd>KENBAK:<br>
     <em> Programming Reference Manual KENBAK-1 Computer.</em><br>
     4/1/1971
</dd><dt><a name="cite_LatMico8">[51] </a></dt><dd>Lattice Semiconductor
     Corporation:<br>
     LatticeMico8 Microcontroller Users Guide.<br>
     Reference Design RD1026, February 2008
</dd><dt><a name="cite_MicroChip">[52] </a></dt><dd>Microchip Technology
     Inc.:<br>
     <em> Microchip Data Book.</em><br>
     1993 Edition
</dd><dt><a name="cite_Mil1750">[53] </a></dt><dd>US Department Of Defense:<br>
     <em> Military Standard Sixteen-Bit Computer Instruction Set
     Architecture.</em><br>
     MIL-STD-1750A (USAF), 2 July 1980
</dd><dt><a name="cite_Mit41">[54] </a></dt><dd>Mitsubishi Electric:<br>
     <em> Single-Chip 8-Bit Microcomputers.</em><br>
     Vol.2, 1987
</dd><dt><a name="cite_Mit16">[55] </a></dt><dd>Mitsubishi Electric:<br>
     <em> Single-Chip 16-Bit Microcomputers.</em><br>
     Enlarged edition, 1991
</dd><dt><a name="cite_Mit8">[56] </a></dt><dd>Mitsubishi Electric:<br>
     <em> Single-Chip 8 Bit Microcomputers.</em><br>
     Vol.2, 1992
</dd><dt><a name="cite_Mit4500">[57] </a></dt><dd>Mitsubishi Electric:<br>
     <em> M34550Mx-XXXFP Users's Manual.</em><br>
     Jan. 1994
</dd><dt><a name="cite_Mit7751">[58] </a></dt><dd>Mitsubishi Electric:<br>
     7751 Series Software Manual.<br>
     Rev. 1.01, 980731
</dd><dt><a name="cite_MitM16">[59] </a></dt><dd>Mitsubishi Electric:<br>
     <em> M16 Family Software Manual.</em><br>
     First Edition, Sept. 1994
</dd><dt><a name="cite_MitM16C">[60] </a></dt><dd>Mitsubishi Electric:<br>
     <em> M16C Software Manual.</em><br>
     First Edition, Rev. C, 1996
</dd><dt><a name="cite_Mit30600">[61] </a></dt><dd>Mitsubishi Electric:<br>
     <em> M30600-XXXFP Data Sheet.</em><br>
     First Edition, April 1996
</dd><dt><a name="cite_GreenM16">[62] </a></dt><dd>documentation about the
     M16/M32-developer's package from Green Hills Software
</dd><dt><a name="cite_Mostek1980">[63] </a></dt><dd>Mostek Corporation:<br>
     <em> Circuits and Systems Product Guide.</em><br>
     1980, STD No 01009
</dd><dt><a name="cite_Mostek3870">[64] </a></dt><dd>Mostek Corporation:<br>
     <em> 3870/F8 Microcomputer Data Book.</em><br>
     1981, Publication Number MK79602
</dd><dt><a name="cite_MotMic">[65] </a></dt><dd>Motorola Inc.:<br>
     <em> Microprocessor, Microcontroller and Peripheral
     Data.</em><br>
     Vol. I+II, 1988
</dd><dt><a name="cite_Mot81">[66] </a></dt><dd>Motorola Inc.:<br>
     <em> MC68881/882 Floating Point Coprocessor User's
     Manual.</em><br>
     Second Edition, Prentice-Hall, Englewood Cliffs 1989
</dd><dt><a name="cite_Mot51">[67] </a></dt><dd>Motorola Inc.:<br>
     <em> MC68851 Paged Memory Management Unit User's
     Manual.</em><br>
     Second Edition, Prentice-Hall, Englewood Cliffs 1989,1988
</dd><dt><a name="cite_Mot32">[68] </a></dt><dd>Motorola Inc.:<br>
     <em> CPU32 Reference Manual.</em><br>
     Rev. 1, 1990
</dd><dt><a name="cite_Mot56">[69] </a></dt><dd>Motorola Inc.:<br>
     <em> DSP56000/DSP56001 Digital Signal Processor User's
     Manual.</em><br>
     Rev. 2, 1990
</dd><dt><a name="cite_Mot340">[70] </a></dt><dd>Motorola Inc.:<br>
     <em> MC68340 Technical Summary.</em><br>
     Rev. 2, 1991
</dd><dt><a name="cite_Mot16">[71] </a></dt><dd>Motorola Inc.:<br>
     <em> CPU16 Reference Manual.</em><br>
     Rev. 1, 1991
</dd><dt><a name="cite_Mot68K">[72] </a></dt><dd>Motorola Inc.:<br>
     <em> Motorola M68000 Family Programmer's Reference
     Manual.</em><br>
     1992
</dd><dt><a name="cite_Mot332">[73] </a></dt><dd>Motorola Inc.:<br>
     <em> MC68332 Technical Summary.</em><br>
     Rev. 2, 1993
</dd><dt><a name="cite_Mot601">[74] </a></dt><dd>Motorola Inc.:<br>
     <em> PowerPC 601 RISC Microprocessor User's Manual.</em><br>
     1993
</dd><dt><a name="cite_Mot505">[75] </a></dt><dd>Motorola Inc.:<br>
     <em> PowerPC(tm) MPC505 RISC Microcontroller Technical
     Summary.</em><br>
     1994
</dd><dt><a name="cite_Mot821">[76] </a></dt><dd>Motorola Inc.:<br>
     <em> PowerPC(tm) MPC821 Portable Microprocessor User's
     Manual.</em><br>
     1996
</dd><dt><a name="cite_Mot12">[77] </a></dt><dd>Motorola Inc.:<br>
     <em> CPU12 Reference Manual.</em><br>
     1st edition, 1996
</dd><dt><a name="cite_Mot08">[78] </a></dt><dd>Motorola Inc.:<br>
     <em> CPU08 Reference Manual.</em><br>
     Rev. 1 (no year of release given im PDF-File)
</dd><dt><a name="cite_Mot360">[79] </a></dt><dd>Motorola Inc.:<br>
     <em> MC68360 User's Manual.</em>
</dd><dt><a name="cite_MotCold">[80] </a></dt><dd>Motorola Inc.:<br>
     <em> MCF 5200 ColdFire Family Programmer's Reference
     Manual.</em><br>
     1995
</dd><dt><a name="cite_MotMCore">[81] </a></dt><dd>Motorola Inc.:<br>
     <em> M*Core Programmer's Reference Manual.</em><br>
     1997
</dd><dt><a name="cite_Mot56300">[82] </a></dt><dd>Motorola Inc.:<br>
     <em> DSP56300 24-Bit Digital Signal Processor Family
     Manual.</em><br>
     Rev. 0 (no year of release given im PDF-File)
</dd><dt><a name="cite_MotK4">[83] </a></dt><dd>Motorola Inc.:<br>
     <em> MC68HC11K4 Technical Data.</em> 1992
</dd><dt><a name="cite_OKIMicro">[84] </a></dt><dd>OKI Semiconductor:<br>
     <em> Microcontroller Data Book.</em> Second Edition, December
     1986
</dd><dt><a name="cite_SCMP">[85] </a></dt><dd>National Semiconductor:<br>
     <em> SC/MP Programmier- und Assembler-Handbuch.</em><br>
     Publication Number 4200094A, Aug. 1976
</dd><dt><a name="cite_AsmCop">[86] </a></dt><dd>National Semiconductor:<br>
     <em> COP800 Assembler/Linker/Librarian User's Manual.</em><br>
     Customer Order Number COP8-ASMLNK-MAN<br>
     NSC Publication Number 424421632-001B<br>
     August 1993
</dd><dt><a name="cite_Cop87L84">[87] </a></dt><dd>National Semiconductor:<br>
     <em> COP87L84BC microCMOS One-Time-Programmable (OTP)
     Microcontroller.</em><br>
     Preliminary, March 1996
</dd><dt><a name="cite_Nat14xxx">[88] </a></dt><dd>National Semiconductor:<br>
     <em> SC14xxx DIP commands Reference guide.</em><br>
     Application Note AN-D-031, Version 0.4, 12-28-1998
</dd><dt><a name="cite_Nat8070">[89] </a></dt><dd>National Semiconductor:<br>
     <em> INS8070-Series Microprocessor Family.</em> October 1980
</dd><dt><a name="cite_Nat32000">[90] </a></dt><dd>National Semiconductor:<br>
     <em> Series 32000 Databook.</em><br>
     1986
</dd><dt><a name="cite_Nat32CG16">[91] </a></dt><dd>National Semiconductor:<br>
     <em> NS32CG16-10/NS32CG16-15 High Performance Printer/Display
     Processor.</em><br>
     Preliminary, November 1995
</dd><dt><a name="cite_Instr32000">[92] </a></dt><dd>National Semiconductor and
     Udo Möller:<br>
     <em> Series 32000 Instruction Set Manual.</em><br>
     6. September 2017, available via www.cpu.ns32k.net
</dd><dt><a name="cite_NECV">[93] </a></dt><dd>NEC Corp.:<br>
     <em>
     µpD70108/µpD70116/µpD70208/µpD70216/µ
     pD72091 Data Book.</em><br>
     (no year of release given)
</dd><dt><a name="cite_NEC78K0">[94] </a></dt><dd>NEC Electronics Europe
     GmbH:<br>
     <em> User's Manual µCOM-87 AD Family.</em><br>
     (no year of release given)
</dd><dt><a name="cite_NEC75">[95] </a></dt><dd>NEC Corp.:<br>
     <em> µCOM-75x Family 4-bit CMOS Microcomputer User's
     Manual.</em><br>
     Vol. I+II (no year of release given)
</dd><dt><a name="cite_NEC78K2">[96] </a></dt><dd>NEC Corp.:<br>
     <em> 78K/II Series 8-Bit Single-Chip Microcontroller User's
     Manual - Instructions.</em><br>
     Document No. U10228EJ6V0UM00 (6th edition), December 1995
</dd><dt><a name="cite_NEC78K3">[97] </a></dt><dd>NEC Corp.:<br>
     <em> uPD78310/312CW/G 8 Bit CMOS Microcomputer Product
     Description.</em>
</dd><dt><a name="cite_NECSig">[98] </a></dt><dd>NEC Corp.:<br>
     <em> Digital Signal Processor Product Description.</em><br>
     PDDSP.....067V20 (no year of release given)
</dd><dt><a name="cite_NEC78">[99] </a></dt><dd>NEC Corp.:<br>
     <em> µPD78070A, 78070AY 8-Bit Single-Chip Microcontroller
     User's Manual.</em><br>
     Document No. U10200EJ1V0UM00 (1st edition), August 1995
</dd><dt><a name="cite_NEC7814">[100] </a></dt><dd>NEC Corp.:<br>
     <em> Data Sheet µPD78014.</em>
</dd><dt><a name="cite_NXPS12ZCore">[101] </a></dt><dd>NXP/Freescale:<br>
     <em> CPU S12Z Reference Manual.</em><br>
     CPUS12ZRM, Rev. 1.01, 01/2013
</dd><dt><a name="cite_NXPS12ZVC">[102] </a></dt><dd>NXP:<br>
     <em> MC9S12ZVC-Family Reference Manual and Datasheet.</em><br>
     MC9S12ZVCRMV1, Rev. 1.9, 29-January-2018
</dd><dt><a name="cite_ParaSX20">[103] </a></dt><dd>Parallax Inc.<br>
     SX20AC/SX28AC Data Sheet. Revision 1.7, 4/23/2008
</dd><dt><a name="cite_Phil84X1">[104] </a></dt><dd>Philips Semiconductor:<br>
     <em> MAB84X1, MAF84X1, MAF84AX1 Family Datasheet.</em><br>
     August 1990
</dd><dt><a name="cite_PhilXA">[105] </a></dt><dd>Philips Semiconductor:<br>
     <em> 16-bit 80C51XA Microcontrollers (eXtended
     Architecture).</em><br>
     Data Handbook IC25, 1996
</dd><dt><a name="cite_Sig2650">[106] </a></dt><dd>Signetics Corporation:<em>
     Signetics 2650 Microprocessor.</em><br>
     1975
</dd><dt><a name="cite_SGS3870">[107] </a></dt><dd>SGS-Ates:<br>
     <em> M3870 Microcomputer Family Databookk.</em><br>
     1st edition, issued January 1983
</dd><dt><a name="cite_SGS04">[108] </a></dt><dd>SGS-Thomson
     Microelectronics:<br>
     <em> 8 Bit MCU Families EF6801/04/05 Databook.</em><br>
     1st edition, 1989
</dd><dt><a name="cite_SGS62">[109] </a></dt><dd>SGS-Thomson
     Microelectronics:<br>
     <em> ST6210/ST6215/ST6220/ST6225 Databook.</em><br>
     1st edition, 1991
</dd><dt><a name="cite_ST7Man">[110] </a></dt><dd>SGS-Thomson
     Microelectronics:<br>
     <em> ST7 Family Programming Manual.</em><br>
     June 1995
</dd><dt><a name="cite_SGS9">[111] </a></dt><dd>SGS-Thomson
     Microelectronics:<br>
     <em> ST9 Programming Manual.</em><br>
     3rd edition, 1993
</dd><dt><a name="cite_Siem166">[112] </a></dt><dd>Siemens AG:<br>
     <em> SAB80C166/83C166 User's Manual.</em><br>
     Edition 6.90
</dd><dt><a name="cite_Siem167">[113] </a></dt><dd>Siemens AG:<br>
     <em> SAB C167 Preliminary User's Manual.</em><br>
     Revision 1.0, July 1992
</dd><dt><a name="cite_Siem382">[114] </a></dt><dd>Siemens AG:<br>
     <em> Telephone Controller (Single-Chip 8-Bit<br>
     CMOS Microcontroller) SAB80C382/SAB80C482.</em><br>
     May 1987
</dd><dt><a name="cite_Siem502">[115] </a></dt><dd>Siemens AG:<br>
     <em> SAB-C502 8-Bit Single-Chip Microcontroller User's
     Manual.</em><br>
     Edition 8.94
</dd><dt><a name="cite_Siem501">[116] </a></dt><dd>Siemens AG:<br>
     <em> SAB-C501 8-Bit Single-Chip Microcontroller User's
     Manual.</em><br>
     Edition 2.96
</dd><dt><a name="cite_Siem504">[117] </a></dt><dd>Siemens AG:<br>
     <em> C504 8-Bit CMOS Microcontroller User's Manual.</em><br>
     Edition 5.96
</dd><dt><a name="cite_STM8ProgMan">[118] </a></dt><dd>ST Microelectronics:<br>
     <em> STM8 CPU Programming Manual.</em><br>
     PM0044, Doc ID 13590 Rev 3, September 2011
</dd><dt><a name="cite_STM8SRefMan">[119] </a></dt><dd>ST Microelectronics:<br>
     <em> STM8S Series and STM8AF Series 8-bit Microcontrollers
     Reference Manual.</em><br>
     RM0016, DocID14587 Rev 14, October 2017
</dd><dt><a name="cite_STM8S003F3Sheet">[120] </a></dt><dd>ST
     Microelectronics:<br>
     <em> STM8S003F3 STM8S003K3 Data Sheet.</em><br>
     DS7147 Rev 10, August 2018
</dd><dt><a name="cite_Syb68K">[121] </a></dt><dd>C.Vieillefond:<br>
     <em> Programmierung des 68000.</em><br>
     Sybex-Verlag Düsseldorf, 1985
</dd><dt><a name="cite_Sym8xx">[122] </a></dt><dd>Symbios Logic Inc:<br>
     <em> Symbios Logic PCI-SCSI-I/O Processors Programming
     Guide.</em><br>
     Version 2.0, 1995/96
</dd><dt><a name="cite_Ti990">[123] </a></dt><dd>Texas Instruments:<br>
     <em> Model 990 Computer/TMS9900 Microprocessor Assembly Language
     Programmer's Guide.</em><br>
     1977, Manual No. 943441-9701
</dd><dt><a name="cite_Ti9900">[124] </a></dt><dd>Texas Instruments:<br>
     <em> TMS9995 16-Bit Microcomputer.</em><br>
     Preliminary Data Manual 1981
</dd><dt><a name="cite_Ti99000">[125] </a></dt><dd>Texas Instruments:<br>
     <em> TMS99105 and TMS99110A 16-Bit Microprocessors.</em><br>
     Preliminary Data Manual 1982
</dd><dt><a name="cite_TiC10">[126] </a></dt><dd>Texas Instruments:<br>
     <em> First-Generation TMS320 User's Guide.</em><br>
     1988, ISBN 2-86886-024-9
</dd><dt><a name="cite_Ti7000">[127] </a></dt><dd>Texas Instruments:<br>
     <em> TMS7000 family Data Manual.</em><br>
     1991, DB103
</dd><dt><a name="cite_TiC30">[128] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C3x User's Guide.</em><br>
     Revision E, 1991
</dd><dt><a name="cite_TiC20">[129] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C2x User's Guide.</em><br>
     Revision C, Jan. 1993
</dd><dt><a name="cite_TiC40">[130] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C4x User's Guide.</em><br>
     SPRU063C, May 1999
</dd><dt><a name="cite_Ti370">[131] </a></dt><dd>Texas Instruments:<br>
     <em> TMS370 Family Data Manual.</em><br>
     1994, SPNS014B
</dd><dt><a name="cite_Ti430FamSoft">[132] </a></dt><dd>Texas Instruments:<br>
     <em> MSP430 Family Software User's Guide.</em><br>
     1994, SLAUE11
</dd><dt><a name="cite_Ti430Met">[133] </a></dt><dd>Texas Instruments:<br>
     <em> MSP430 Metering Application.</em><br>
     1996, SLAAE10A
</dd><dt><a name="cite_Ti430FamArch">[134] </a></dt><dd>Texas Instruments:<br>
     <em> MSP430 Family Architecture User's Guide.</em><br>
     1995, SLAUE10A
</dd><dt><a name="cite_Ti430X">[135] </a></dt><dd>Texas Instruments:<br>
     <em> MSP430 MSP430x5xx and MSP430x6xx Family User's
     Guide.</em><br>
     October 2016, SLAU208
</dd><dt><a name="cite_TiC60">[136] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C62xx CPU and Instruction Set Reference
     Manual.</em><br>
     Jan. 1997, SPRU189A
</dd><dt><a name="cite_TiC20x">[137] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C20x User's Guide.</em><br>
     April 1999, SPRU127C
</dd><dt><a name="cite_Tispru131g">[138] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C54x DSP Reference Set; Volume 1: CPU and
     Peripherals.</em><br>
     March 2001, SPRU172C
</dd><dt><a name="cite_Tispru172c">[139] </a></dt><dd>Texas Instruments:<br>
     <em> TMS320C54x DSP; Volume 2: Mnemonic Instruction
     Set.</em><br>
     March 2001, SPRU172C
</dd><dt><a name="cite_TMS1000PGMRef">[140] </a></dt><dd>Texas Instruments:<br>
     <em> TMS 1000 Series MOS/LSI One-Chip Microcomputers
     Programmer's Reference Manual.</em><br>
     CM122-1 1275, 1975
</dd><dt><a name="cite_Tosh90">[141] </a></dt><dd>Toshiba Corp.:<br>
     <em> 8-Bit Microcontroller TLCS-90 Development System
     Manual.</em><br>
     1990
</dd><dt><a name="cite_Tosh870">[142] </a></dt><dd>Toshiba Corp.:<br>
     <em> 8-Bit Microcontroller TLCS-870 Series Data Book.</em><br>
     1992
</dd><dt><a name="cite_Tosh900">[143] </a></dt><dd>Toshiba Corp.:<br>
     <em> 16-Bit Microcontroller TLCS-900 Series Users
     Manual.</em><br>
     1992
</dd><dt><a name="cite_Tosh900L">[144] </a></dt><dd>Toshiba Corp.:<br>
     <em> 16-Bit Microcontroller TLCS-900 Series Data Book:<br>
     TMP93CM40F/ TMP93CM41F.</em><br>
     1993
</dd><dt><a name="cite_Tosh47">[145] </a></dt><dd>Toshiba Corp.:<br>
     <em> 4-Bit Microcontroller TLCS-47E/47/470/470A Development
     System Manual.</em><br>
     1993
</dd><dt><a name="cite_Tosh9000">[146] </a></dt><dd>Toshiba Corp.:<br>
     <em> TLCS-9000/16 Instruction Set Manual Version 2.2.</em><br>
     10. Feb 1994
</dd><dt><a name="cite_Tosh9331">[147] </a></dt><dd>Toshiba Corp.:<br>
     <em> TC9331 Digital Audio Signal Processor Application
     Information.</em>
</dd><dt><a name="cite_Val8X">[148] </a></dt><dd>Valvo GmbH:<br>
     <em> Bipolare Mikroprozessoren und bipolare
     LSI-Schaltungen.</em><br>
     Datenbuch, 1985, ISBN 3-87095-186-9
</dd><dt><a name="cite_Xil213">[149] </a></dt><dd>Ken Chapman (Xilinx
     Inc.):<br>
     <em> PicoBlaze 8-Bit Microcontroller for Virtex-E and
     Spartan-II/IIE Devices.</em><br>
     Application Note XAPP213, Version 2.1, February 2003
</dd><dt><a name="cite_Xil129">[150] </a></dt><dd>Xilinx Inc.:<br>
     <em> PicoBlaze 8-bit Embedded Microcontroller User Guide for
     Spartan-3, Virtex-II, and Virtex-II Pro FPGAs.</em><br>
     UG129 (v1.1) June 10, 2004
</dd><dt><a name="cite_XMOS">[151] </a></dt><dd>David May::<br>
     <em> The XMOS XS1 Architecture.</em><br>
     Publication Date: 2009/10/19, Copyright 2009 XMOS Ltd.
</dd><dt><a name="cite_Zilog">[152] </a></dt><dd>data sheets from Zilog about
     the Z80 family
</dd><dt><a name="cite_ZilZ8">[153] </a></dt><dd>Zilog Inc.:<br>
     <em> Z8 Microcontrollers Databook.</em><br>
     1992
</dd><dt><a name="cite_ZilZ8_2">[154] </a></dt><dd>Zilog Inc.:<br>
     <em> Discrete Z8 Microcontrollers Databook.</em><br>
     (no year of release given)
</dd><dt><a name="cite_ZilZ380">[155] </a></dt><dd>Zilog Inc.:<br>
     <em> Z380 CPU Central Processing Unit User's Manual.</em><br>
     (no year of release given)
</dd><dt><a name="cite_ZileZ8">[156] </a></dt><dd>Zilog Inc.:<br>
     <em> eZ8 CPU User Manual.</em><br>
     UM01285-0503
</dd><dt><a name="cite_ZilSuper8">[157] </a></dt><dd>Zilog Inc.:<br>
     <em> Z88C00 CMOS Super8 ROMless MCU Product
     Specification</em><br>
     2003, PS014602-0103
</dd><dt><a name="cite_ZilF0830">[158] </a></dt><dd>Zilog Inc.:<br>
     <em> Z8 Encore! F0830 Series Product Specification</em><br>
     2012, PS025113-1212
</dd><dt><a name="cite_Zil8000">[159] </a></dt><dd>Zilog Inc.:<br>
     <em> Z8000 Technical Manual</em><br>
     January 1983
</dd></dl>
<p>
</p><p>
</p><h1><a name="sect_index">Index</a></h1>
<table summary="Index" cellpadding="5" border="0">
<tbody><tr align="LEFT">
<td valign="TOP" nowrap="nowrap">ADR <a href="#index_ADR_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ALIGN <a href="#index_ALIGN_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ASCII <a href="#index_ASCII_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ASCIZ <a href="#index_ASCIZ_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ASSUME <a href="#index_ASSUME_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">BFLOAT <a href="#index_BFLOAT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BIGENDIAN <a href="#index_BIGENDIAN_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BINCLUDE <a href="#index_BINCLUDE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BIT <a href="#index_BIT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BLOCK <a href="#index_BLOCK_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">BRANCHEXT <a href="#index_BRANCHEXT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BSS <a href="#index_BSS_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BYT <a href="#index_BYT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">BYTE <a href="#index_BYTE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">CASE <a href="#index_CASE_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">CHARSET <a href="#index_CHARSET_1">1</a></td>
<td valign="TOP" nowrap="nowrap">CKPT <a href="#index_CKPT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">CODEPAGE <a href="#index_CODEPAGE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">COMPMODE <a href="#index_COMPMODE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">CONSTANT <a href="#index_CONSTANT_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">CPU <a href="#index_CPU_1">1</a></td>
<td valign="TOP" nowrap="nowrap">CUSTOM <a href="#index_CUSTOM_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DATA <a href="#index_DATA_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DB <a href="#index_DB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DBIT <a href="#index_DBIT_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">DC <a href="#index_DC_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DC8 <a href="#index_DC8_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DD <a href="#index_DD_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DEFBIT <a href="#index_DEFBIT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DEFBITB <a href="#index_DEFBITB_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">DEFBITFIELD <a href="#index_DEFBITFIELD_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DEPHASE <a href="#index_DEPHASE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DFS <a href="#index_DFS_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DN <a href="#index_DN_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DOTTEDSTRUCTS <a href="#index_DOTTEDSTRUCTS_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">DOUBLE <a href="#index_DOUBLE_1">1</a> <a href="#index_DOUBLE_2">2</a> <a href="#index_DOUBLE_3">3</a></td>
<td valign="TOP" nowrap="nowrap">DQ <a href="#index_DQ_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DS <a href="#index_DS_1">1</a> <a href="#index_DS_2">2</a></td>
<td valign="TOP" nowrap="nowrap">DS16 <a href="#index_DS16_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DS8 <a href="#index_DS8_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">DSB <a href="#index_DSB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DSW <a href="#index_DSW_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DT <a href="#index_DT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DW <a href="#index_DW_1">1</a></td>
<td valign="TOP" nowrap="nowrap">DW16 <a href="#index_DW16_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">EFLOAT <a href="#index_EFLOAT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ELSE <a href="#index_ELSE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ELSECASE <a href="#index_ELSECASE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ELSEIF <a href="#index_ELSEIF_1">1</a></td>
<td valign="TOP" nowrap="nowrap">END <a href="#index_END_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">ENDCASE <a href="#index_ENDCASE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDEXPECT <a href="#index_ENDEXPECT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDIF <a href="#index_ENDIF_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDM <a href="#index_ENDM_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDS <a href="#index_ENDS_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">ENDSECTION <a href="#index_ENDSECTION_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDSTRUC <a href="#index_ENDSTRUC_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDSTRUCT <a href="#index_ENDSTRUCT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENDUNION <a href="#index_ENDUNION_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ENUM <a href="#index_ENUM_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">ENUMCONF <a href="#index_ENUMCONF_1">1</a></td>
<td valign="TOP" nowrap="nowrap">EQU <a href="#index_EQU_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ERROR <a href="#index_ERROR_1">1</a></td>
<td valign="TOP" nowrap="nowrap">EXITM <a href="#index_EXITM_1">1</a></td>
<td valign="TOP" nowrap="nowrap">EXPECT <a href="#index_EXPECT_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">EXTENDED <a href="#index_EXTENDED_1">1</a></td>
<td valign="TOP" nowrap="nowrap">EXTMODE <a href="#index_EXTMODE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FATAL <a href="#index_FATAL_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FB <a href="#index_FB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FCB <a href="#index_FCB_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">FCC <a href="#index_FCC_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FDB <a href="#index_FDB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FLOAT <a href="#index_FLOAT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FORWARD <a href="#index_FORWARD_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FPU <a href="#index_FPU_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">FULLPMMU <a href="#index_FULLPMMU_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FUNCTION <a href="#index_FUNCTION_1">1</a></td>
<td valign="TOP" nowrap="nowrap">FW <a href="#index_FW_1">1</a></td>
<td valign="TOP" nowrap="nowrap">GLOBAL <a href="#index_GLOBAL_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IF <a href="#index_IF_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">IFB <a href="#index_IFB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IFDEF <a href="#index_IFDEF_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IFEXIST <a href="#index_IFEXIST_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IFNB <a href="#index_IFNB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IFNDEF <a href="#index_IFNDEF_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">IFNEXIST <a href="#index_IFNEXIST_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IFNUSED <a href="#index_IFNUSED_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IFUSED <a href="#index_IFUSED_1">1</a></td>
<td valign="TOP" nowrap="nowrap">INCLUDE <a href="#index_INCLUDE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">INTSYNTAX <a href="#index_INTSYNTAX_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">IRP <a href="#index_IRP_1">1</a></td>
<td valign="TOP" nowrap="nowrap">IRPC <a href="#index_IRPC_1">1</a></td>
<td valign="TOP" nowrap="nowrap">LABEL <a href="#index_LABEL_1">1</a></td>
<td valign="TOP" nowrap="nowrap">LISTING <a href="#index_LISTING_1">1</a></td>
<td valign="TOP" nowrap="nowrap">LIV <a href="#index_LIV_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">LONG <a href="#index_LONG_1">1</a></td>
<td valign="TOP" nowrap="nowrap">LQxx <a href="#index_LQxx_1">1</a></td>
<td valign="TOP" nowrap="nowrap">LTORG <a href="#index_LTORG_1">1</a></td>
<td valign="TOP" nowrap="nowrap">LWORDMODE <a href="#index_LWORDMODE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">MACEXP <a href="#index_MACEXP_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">MACEXP\_DFT <a href="#index_MACEXP\_DFT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">MACEXP\_OVR <a href="#index_MACEXP\_OVR_1">1</a></td>
<td valign="TOP" nowrap="nowrap">MACRO <a href="#index_MACRO_1">1</a></td>
<td valign="TOP" nowrap="nowrap">MAXMODE <a href="#index_MAXMODE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">MAXNEST <a href="#index_MAXNEST_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">MESSAGE <a href="#index_MESSAGE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">NAMEREG <a href="#index_NAMEREG_1">1</a></td>
<td valign="TOP" nowrap="nowrap">NEWPAGE <a href="#index_NEWPAGE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">NEXTENUM <a href="#index_NEXTENUM_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ORG <a href="#index_ORG_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">OUTRADIX <a href="#index_OUTRADIX_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PACKING <a href="#index_PACKING_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PADDING <a href="#index_PADDING_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PAGE <a href="#index_PAGE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PHASE <a href="#index_PHASE_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">PMMU <a href="#index_PMMU_1">1</a></td>
<td valign="TOP" nowrap="nowrap">POPV <a href="#index_POPV_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PORT <a href="#index_PORT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PRTEXIT <a href="#index_PRTEXIT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PRTINIT <a href="#index_PRTINIT_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">PUBLIC <a href="#index_PUBLIC_1">1</a></td>
<td valign="TOP" nowrap="nowrap">PUSHV <a href="#index_PUSHV_1">1</a></td>
<td valign="TOP" nowrap="nowrap">Qxx <a href="#index_Qxx_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RADIX <a href="#index_RADIX_1">1</a></td>
<td valign="TOP" nowrap="nowrap">READ <a href="#index_READ_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">REG <a href="#index_REG_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RELAXED <a href="#index_RELAXED_1">1</a></td>
<td valign="TOP" nowrap="nowrap">REPT <a href="#index_REPT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RES <a href="#index_RES_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RESTORE <a href="#index_RESTORE_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">RIV <a href="#index_RIV_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RMB <a href="#index_RMB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RORG <a href="#index_RORG_1">1</a></td>
<td valign="TOP" nowrap="nowrap">RSTRING <a href="#index_RSTRING_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SAVE <a href="#index_SAVE_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">SECTION <a href="#index_SECTION_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SEGMENT <a href="#index_SEGMENT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SELECT <a href="#index_SELECT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SET <a href="#index_SET_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SFR <a href="#index_SFR_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">SFRB <a href="#index_SFRB_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SHARED <a href="#index_SHARED_1">1</a> <a href="#index_SHARED_2">2</a> <a href="#index_SHARED_3">3</a></td>
<td valign="TOP" nowrap="nowrap">SHFT <a href="#index_SHFT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SHIFT <a href="#index_SHIFT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SINGLE <a href="#index_SINGLE_1">1</a> <a href="#index_SINGLE_2">2</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">SPACE <a href="#index_SPACE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SRCMDE <a href="#index_SRCMDE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">STRING <a href="#index_STRING_1">1</a></td>
<td valign="TOP" nowrap="nowrap">STRUC <a href="#index_STRUC_1">1</a></td>
<td valign="TOP" nowrap="nowrap">STRUCT <a href="#index_STRUCT_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">SUPMODE <a href="#index_SUPMODE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">SWITCH <a href="#index_SWITCH_1">1</a></td>
<td valign="TOP" nowrap="nowrap">TFLOAT <a href="#index_TFLOAT_1">1</a></td>
<td valign="TOP" nowrap="nowrap">TITLE <a href="#index_TITLE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">UNION <a href="#index_UNION_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">WARNING <a href="#index_WARNING_1">1</a></td>
<td valign="TOP" nowrap="nowrap">WHILE <a href="#index_WHILE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">WORD <a href="#index_WORD_1">1</a></td>
<td valign="TOP" nowrap="nowrap">WRAPMODE <a href="#index_WRAPMODE_1">1</a></td>
<td valign="TOP" nowrap="nowrap">XSFR <a href="#index_XSFR_1">1</a></td>
</tr>
<tr align="LEFT">
<td valign="TOP" nowrap="nowrap">YSFR <a href="#index_YSFR_1">1</a></td>
<td valign="TOP" nowrap="nowrap">Z80SYNTAX <a href="#index_Z80SYNTAX_1">1</a></td>
<td valign="TOP" nowrap="nowrap">ZERO <a href="#index_ZERO_1">1</a></td>
<td valign="TOP" nowrap="nowrap">register symbols <a href="#index_register symbols_1">1</a></td>
</tr>
</tbody></table>
<p>


</p></body></html>